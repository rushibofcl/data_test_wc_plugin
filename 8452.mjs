/*! For license information please see 8452.mjs.LICENSE.txt */
(self.webpackChunkdata_test_wc_plugin=self.webpackChunkdata_test_wc_plugin||[]).push([[8452],{36581:(e,t,i)=>{var r=i(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var i=(0,n.default)(e),r=(0,a.default)(t);if(isNaN(r))return new Date(NaN);if(!r)return i;var l=i.getDate(),s=new Date(i.getTime());return s.setMonth(i.getMonth()+r+1,0),l>=s.getDate()?s:(i.setFullYear(s.getFullYear(),s.getMonth(),l),i)};var a=r(i(82084)),n=r(i(71171)),o=r(i(68734));e.exports=t.default},84308:(e,t,i)=>{var r=i(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var i=(0,a.default)(t);return(0,n.default)(e,-i)};var a=r(i(82084)),n=r(i(36581)),o=r(i(68734));e.exports=t.default},64063:e=>{e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var r,a,n;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(a=r;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,n[a]))return!1;for(a=r;0!=a--;){var o=n[a];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i}},24456:(e,t,i)=>{var r=i(97786),a=i(10611);e.exports=function(e,t,i,n){return a(e,t,i(r(e,t)),n)}},89179:(e,t,i)=>{var r=i(55639),a=i(40554),n=i(14841),o=i(79833),l=r.isFinite,s=Math.min;e.exports=function(e){var t=Math[e];return function(e,i){if(e=n(e),(i=null==i?0:s(a(i),292))&&l(e)){var r=(o(e)+"e").split("e"),d=t(r[0]+"e"+(+r[1]+i));return+((r=(o(d)+"e").split("e"))[0]+"e"+(+r[1]-i))}return t(e)}}},24976:(e,t,i)=>{var r=i(92822)("reverse",i(31351));r.placeholder=i(69306),e.exports=r},69898:(e,t,i)=>{var r=i(92822)("update",i(93425));r.placeholder=i(69306),e.exports=r},45220:e=>{e.exports=function(e){return null===e}},31683:(e,t,i)=>{var r=i(98805)("toLowerCase");e.exports=r},30236:(e,t,i)=>{var r=i(42980),a=i(21463)((function(e,t,i,a){r(e,t,i,a)}));e.exports=a},31351:e=>{var t=Array.prototype.reverse;e.exports=function(e){return null==e?e:t.call(e)}},59854:(e,t,i)=>{var r=i(89179)("round");e.exports=r},44908:(e,t,i)=>{var r=i(45652);e.exports=function(e){return e&&e.length?r(e):[]}},87185:(e,t,i)=>{var r=i(45652);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},93425:(e,t,i)=>{var r=i(24456),a=i(54290);e.exports=function(e,t,i){return null==e?e:r(e,t,a(i))}},20444:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setConfiguration=t.getConfiguration=void 0;let i={breakpoints:[576,768,992,1200,1600,1920],containerWidths:[540,750,960,1140,1540,1810],gutterWidth:30,gridColumns:12,defaultScreenClass:"xxl",maxScreenClass:"xxl"};t.getConfiguration=()=>i,t.setConfiguration=e=>{i={...i,...e}}},10868:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ScreenClassContext=t.NO_PROVIDER_FLAG=void 0;var r,a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=d(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),n=(r=i(45697))&&r.__esModule?r:{default:r},o=i(61369),l=i(20444),s=i(77427);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(d=function(e){return e?i:t})(e)}const c="NO_PROVIDER_FLAG";t.NO_PROVIDER_FLAG=c;const u=a.default.createContext(c);t.ScreenClassContext=u;const g=e=>{let{useOwnWidth:t,children:i,fallbackScreenClass:r}=e;const n=(0,a.useRef)(),[d,c]=(0,a.useState)(!1),g=(0,o.useScreenClass)(n,r),{defaultScreenClass:m}=(0,l.getConfiguration)(),p=d?g:r||m;return(0,a.useEffect)((()=>c(!0)),[]),a.default.createElement(u.Provider,{value:p},t?a.default.createElement(s.Div,{ref:t?n:null},i):a.default.createElement(a.default.Fragment,null,i))};g.propTypes={children:n.default.node.isRequired,useOwnWidth:n.default.bool,fallbackScreenClass:n.default.oneOf([null,"xs","sm","md","lg","xl","xxl","xxxl"])},g.defaultProps={useOwnWidth:!1,fallbackScreenClass:null};var m=g;t.default=m},5443:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(i(61371)),a=l(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=a?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(10868));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}const s=e=>{let{children:t}=e;return r.default.createElement(n.ScreenClassContext.Consumer,null,(e=>e===n.NO_PROVIDER_FLAG?r.default.createElement(n.default,null,r.default.createElement(n.ScreenClassContext.Consumer,null,(e=>t(e)))):t(e)))};s.propTypes={children:a.default.func.isRequired};var d=s;t.default=d},89098:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),a=c(i(45697)),n=c(i(54035)),o=i(20444),l=i(39815),s=c(i(5443)),d=i(77427);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}const g=r.default.forwardRef(((e,t)=>{let{children:i,xs:a,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,offset:h,pull:f,push:b,order:v,debug:D,style:y,component:E,width:I,...C}=e;return r.default.createElement(s.default,null,(e=>r.default.createElement(l.GutterWidthContext.Consumer,null,(l=>{const s=(0,n.default)({forceWidth:I,width:{xs:a,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p},offset:h,pull:f,push:b,order:v,debug:D,screenClass:e,gutterWidth:l,gridColumns:(0,o.getConfiguration)().gridColumns,moreStyle:y});return(0,r.createElement)(E,{ref:t,style:s,...C,children:i})}))))}));g.propTypes={children:a.default.node,xs:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),sm:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),md:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),lg:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xxl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),xxxl:a.default.oneOfType([a.default.number,a.default.oneOf(["content"])]),width:a.default.oneOfType([a.default.number,a.default.string]),offset:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),push:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),pull:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),order:a.default.shape({xs:a.default.number,sm:a.default.number,md:a.default.number,lg:a.default.number,xl:a.default.number,xxl:a.default.number,xxxl:a.default.number}),style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),debug:a.default.bool,component:a.default.elementType},g.defaultProps={children:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null,xxxl:null,width:null,offset:{},push:{},pull:{},style:{},order:{},debug:!1,component:d.Div},g.displayName="Col";var m=g;t.default=m},54035:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(61369);const a=(e,t)=>{if("number"==typeof e)return 100/t*Math.max(0,Math.min(t,e))+"%"};t.default=e=>{let{forceWidth:t=null,width:i={},offset:n={},pull:o={},push:l={},order:s={},debug:d,screenClass:c,gutterWidth:u,moreStyle:g,gridColumns:m}=e;const p={boxSizing:"border-box",minHeight:1,position:"relative",paddingLeft:u/2,paddingRight:u/2,width:"100%"};var h;return d&&(p.outline="1px solid silver",p.background="rgba(0,0,0,.05)",p.lineHeight="32px"),p.flexBasis="100%",p.flexGrow=0,p.flexShrink=0,p.maxWidth="100%",p.marginLeft="0%",p.right="auto",p.left="auto",r.screenClasses.forEach(((e,t)=>{if(r.screenClasses.indexOf(c)>=t){const t=a(i[e],m),r="content"===i[e];p.flexBasis=r?"auto":t||p.flexBasis,p.width=p.flexBasis,p.maxWidth=t||p.maxWidth,p.marginLeft=a(n[e],m)||p.marginLeft,p.right=a(o[e],m)||p.right,p.left=a(l[e],m)||p.left,s[e]&&(p.order=s[e])}})),h=i,Object.keys(h).reduce(((e,t)=>e||h[t]),!1)||(p.flexBasis=0,p.flexGrow=1),t&&(p.flexBasis="unset",p.flexGrow="unset",p.flexShrink="unset",p.width=t),{...p,...g}}},51003:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=c(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(61371)),a=d(i(45697)),n=d(i(22675)),o=i(20444),l=d(i(5443)),s=i(77427);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(c=function(e){return e?i:t})(e)}const u=r.default.forwardRef(((e,t)=>{let{children:i,fluid:a,xs:s,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,style:h,component:f,...b}=e;return r.default.createElement(l.default,null,(e=>(0,r.createElement)(f,{ref:t,style:(0,n.default)({fluid:a,xs:s,sm:d,md:c,lg:u,xl:g,xxl:m,xxxl:p,screenClass:e,containerWidths:(0,o.getConfiguration)().containerWidths,gutterWidth:(0,o.getConfiguration)().gutterWidth,moreStyle:h}),...b},i)))}));u.propTypes={children:a.default.node.isRequired,fluid:a.default.bool,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool,style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),component:a.default.elementType},u.defaultProps={fluid:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1,style:{},component:s.Div},u.displayName="Container";var g=u;t.default=g},22675:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{let{fluid:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s,screenClass:d,containerWidths:c,gutterWidth:u,moreStyle:g}=e;const m={boxSizing:"border-box",position:"relative",marginLeft:"auto",marginRight:"auto",paddingLeft:u/2,paddingRight:u/2};return!t||i||r||a||n||o?("xs"===d&&c[0]&&!i&&(m.maxWidth=c[0]),"sm"===d&&c[0]&&!r&&(m.maxWidth=c[0]),"md"===d&&c[1]&&!a&&(m.maxWidth=c[1]),"lg"===d&&c[2]&&!n&&(m.maxWidth=c[2]),"xl"===d&&c[3]&&!o&&(m.maxWidth=c[3]),"xxl"===d&&c[4]&&!l&&(m.maxWidth=c[4]),"xxxl"===d&&c[5]&&!s&&(m.maxWidth=c[5]),{...m,...g}):{...m,...g}}},39815:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GutterWidthContext=void 0;var r=s(i(61371)),a=s(i(45697)),n=i(20444),o=s(i(94575)),l=i(77427);function s(e){return e&&e.__esModule?e:{default:e}}const d=r.default.createContext(!1);t.GutterWidthContext=d;const c=r.default.forwardRef(((e,t)=>{let{children:i,style:a,align:l,justify:s,wrap:c,debug:u,nogutter:g,gutterWidth:m,component:p,direction:h,...f}=e,b=(0,n.getConfiguration)().gutterWidth;g&&(b=0),"number"==typeof m&&(b=m);const v=(0,o.default)({gutterWidth:b,align:l,justify:s,debug:u,moreStyle:a,direction:h,wrap:c});return r.default.createElement(p,{ref:t,style:v,...f},r.default.createElement(d.Provider,{value:b},i))}));c.propTypes={children:a.default.node.isRequired,align:a.default.oneOf(["normal","start","center","end","stretch"]),justify:a.default.oneOf(["start","center","end","between","around","initial","inherit"]),direction:a.default.oneOf(["column","row","column-reverse","row-reverse"]),wrap:a.default.oneOf(["nowrap","wrap","reverse"]),nogutter:a.default.bool,gutterWidth:a.default.number,style:a.default.objectOf(a.default.oneOfType([a.default.number,a.default.string])),debug:a.default.bool,component:a.default.elementType},c.defaultProps={align:"normal",justify:"start",direction:"row",wrap:"wrap",nogutter:!1,gutterWidth:null,style:{},debug:!1,component:l.Div},c.displayName="Row";var u=c;t.default=u},94575:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{let{gutterWidth:t,align:i,justify:r,debug:a,moreStyle:n,direction:o,wrap:l}=e,s=i;"start"===i&&(s="flex-start"),"end"===i&&(s="flex-end");let d=r;"start"===r&&(d="flex-start"),"end"===r&&(d="flex-end"),"between"===r&&(d="space-between"),"around"===r&&(d="space-around"),"center"===r&&(d="center"),"initial"===r&&(d="initial"),"inherit"===r&&(d="inherit");let c=l;"nowrap"===l&&(c="nowrap"),"wrap"===l&&(c="wrap"),"reverse"===l&&(c="wrap-reverse");const u={marginLeft:-t/2,marginRight:-t/2,display:"flex",flexGrow:0,flexShrink:0,alignItems:s,justifyContent:d,flexDirection:["column","row","column-reverse","row-reverse"].includes(o)?o:void 0,flexWrap:c};return a&&(u.background="rgba(128,128,128,.05)"),{...u,...n}}},32553:(e,t,i)=>{Object.defineProperty(t,"JX",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"X2",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"pV",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"uq",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Dg",{enumerable:!0,get:function(){return s.setConfiguration}});var r=c(i(89098)),a=c(i(51003)),n=c(i(39815)),o=(c(i(12033)),c(i(55935)),c(i(16550))),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=d(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(10868)),s=i(20444);i(61369);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(d=function(e){return e?i:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}},11789:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="div"},72102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="span"},36899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="undefined"!=typeof window?window:void 0;t.default=i},77427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Div",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Span",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Window",{enumerable:!0,get:function(){return n.default}});var r=o(i(11789)),a=o(i(72102)),n=o(i(36899));function o(e){return e&&e.__esModule?e:{default:e}}},12033:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(61371)),a=s(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(16304)),o=s(i(5443));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let{children:t,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u}=e;return r.default.createElement(o.default,null,(e=>n.hidden({screenClass:e,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u})?null:t))};d.propTypes={children:a.default.node.isRequired,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool},d.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1};var c=d;t.default=c},16304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hidden=t.default=void 0;const i=e=>{let{screenClass:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s}=e;return"xxl"===t?l:"xxxl"===t?s:"xl"===t?o:"lg"===t?n:"md"===t?a:"sm"===t?r:i};t.hidden=i;var r=i;t.default=r},16550:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i(61371)),a=o(i(45697)),n=o(i(5443));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let{render:t}=e;return r.default.createElement(n.default,null,(e=>t(e)))};l.propTypes={render:a.default.func.isRequired};var s=l;t.default=s},55935:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(61371)),a=s(i(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}(i(74561)),o=s(i(5443));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let{children:t,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u}=e;return r.default.createElement(o.default,null,(e=>n.visible({screenClass:e,xs:i,sm:a,md:l,lg:s,xl:d,xxl:c,xxxl:u})?t:null))};d.propTypes={children:a.default.node.isRequired,xs:a.default.bool,sm:a.default.bool,md:a.default.bool,lg:a.default.bool,xl:a.default.bool,xxl:a.default.bool,xxxl:a.default.bool},d.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,xxxl:!1};var c=d;t.default=c},74561:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.visible=t.default=void 0;const i=e=>{let{screenClass:t,xs:i,sm:r,md:a,lg:n,xl:o,xxl:l,xxxl:s}=e;return"xxl"===t?l:"xxxl"===t?s:"xl"===t?o:"lg"===t?n:"md"===t?a:"sm"===t?r:i};t.visible=i;var r=i;t.default=r},61369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useScreenClass=t.screenClasses=void 0;var r=i(61371),a=i(20444),n=i(77427);const o=["xs","sm","md","lg","xl","xxl","xxxl"];t.screenClasses=o,t.useScreenClass=(e,t)=>{const i=()=>{const{breakpoints:i,defaultScreenClass:r,maxScreenClass:l}=(0,a.getConfiguration)();let s=r;const d=(e=>e&&e.current&&e.current.clientWidth?e.current.clientWidth:void 0!==n.Window&&n.Window.innerWidth?n.Window.innerWidth:null)(e);d?(s="xs",i[0]&&d>=i[0]&&(s="sm"),i[1]&&d>=i[1]&&(s="md"),i[2]&&d>=i[2]&&(s="lg"),i[3]&&d>=i[3]&&(s="xl"),i[4]&&d>=i[4]&&(s="xxl"),i[5]&&d>=i[5]&&(s="xxxl")):t&&(s=t);const c=o.indexOf(s),u=o.indexOf(l);return u>=0&&c>u&&(s=o[u]),s},[l,s]=(0,r.useState)((()=>i()));return(0,r.useEffect)((()=>{const e=()=>s(i());return n.Window.addEventListener("resize",e,!1),()=>{n.Window.removeEventListener("resize",e,!1)}}),[]),l}},88359:(e,t)=>{if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;i("react.element"),i("react.portal"),i("react.fragment"),i("react.strict_mode"),i("react.profiler"),i("react.provider"),i("react.context"),i("react.forward_ref"),i("react.suspense"),i("react.suspense_list"),i("react.memo"),i("react.lazy"),i("react.block"),i("react.server.block"),i("react.fundamental"),i("react.debug_trace_mode"),i("react.legacy_hidden")}},72973:(e,t,i)=>{i(88359)},75251:(e,t,i)=>{var r=i(77082),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,i){var r,s={},d=null,c=null;for(r in void 0!==i&&(d=""+i),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:d,ref:c,props:s,_owner:o.current}}},85893:(e,t,i)=>{e.exports=i(75251)},8705:(e,t,i)=>{function r(e,t){return t?{identifier:e,type:t}:{identifier:e}}function a(e){return{uri:e}}function n(e){return{localIdentifier:e}}i.d(t,{Ii:()=>r,Qc:()=>n,lR:()=>a})},58452:(e,t,i)=>{i.r(t),i.d(t,{AddAttributeFilterButton:()=>lx,AddAttributeFilterPlaceholder:()=>Ex,AttributesDropdown:()=>bx,ButtonBar:()=>Yk,CancelButton:()=>Ck,CancelEditDialog:()=>SM,CreatableAttributeFilter:()=>Ix,DRILL_TO_URL_PLACEHOLDER:()=>D,Dashboard:()=>uH,DashboardInsight:()=>AC,DashboardInsightMenu:()=>wH,DashboardInsightMenuButton:()=>SH,DashboardInsightMenuTitle:()=>LL,DashboardKpi:()=>nC,DashboardLayout:()=>tM,DashboardPluginV1:()=>TH,DashboardStoreAccessor:()=>jD,DashboardStoreAccessorRepository:()=>BD,DashboardStoreProvider:()=>Xf,DashboardWidget:()=>xT,DefaultButtonBar:()=>Wk,DefaultCancelButton:()=>Ik,DefaultCancelEditDialog:()=>CM,DefaultDashboardAttributeFilter:()=>ex,DefaultDashboardAttributeFilterComponentSetFactory:()=>Cx,DefaultDashboardDateFilter:()=>nx,DefaultDashboardInsight:()=>wL,DefaultDashboardInsightComponentSetFactory:()=>vF,DefaultDashboardInsightMenu:()=>eO,DefaultDashboardInsightMenuButton:()=>PL,DefaultDashboardInsightMenuTitle:()=>lO,DefaultDashboardKpi:()=>mF,DefaultDashboardKpiComponentSetFactory:()=>eM,DefaultDashboardKpiPlaceholderWidget:()=>qF,DefaultDashboardLayout:()=>MA,DefaultDashboardMainContent:()=>lM,DefaultDashboardToolbar:()=>fH,DefaultDashboardToolbarButton:()=>yH,DefaultDashboardToolbarGroup:()=>bH,DefaultDashboardWidget:()=>ET,DefaultEditButton:()=>Fk,DefaultFilterBar:()=>II,DefaultInsightBody:()=>TL,DefaultLockedStatus:()=>eR,DefaultMenuButton:()=>qk,DefaultSaveAsDialog:()=>jA,DefaultSaveAsNewButton:()=>Hk,DefaultSaveButton:()=>aR,DefaultScheduledEmailDialog:()=>mk,DefaultScheduledEmailManagementDialog:()=>Dk,DefaultShareButton:()=>Bk,DefaultShareDialog:()=>yk,DefaultShareStatus:()=>iR,DefaultTitle:()=>dR,DefaultTopBar:()=>lR,DraggableCreatePanelItem:()=>vx,EditButton:()=>Mk,EditableTitle:()=>uR,FilterBar:()=>uM,HeadlessDashboard:()=>XD,HiddenButtonBar:()=>mH,HiddenDashboardAttributeFilter:()=>gH,HiddenDashboardDateFilter:()=>xE,HiddenFilterBar:()=>mI,HiddenMenuButton:()=>pH,HiddenShareButton:()=>Gk,HiddenTitle:()=>hH,HiddenToolbar:()=>mR,HiddenTopBar:()=>Qk,INSIGHT_PLACEHOLDER_WIDGET_ID:()=>kd,InitialLoadCorrelationId:()=>si,InsightList:()=>HS,InsightWidgetBuilder:()=>pU,KPI_PLACEHOLDER_WIDGET_ID:()=>Td,LegacyDashboardInsightMenu:()=>nO,LegacyDashboardInsightMenuButton:()=>xL,LockedStatusIndicator:()=>Jk,MenuButton:()=>$k,ObjRefMap:()=>l,PLACEHOLDER_WIDGET_ID:()=>Fd,ReactDashboardContext:()=>Yf,RenderModeAwareTitle:()=>gR,SaveAsDialog:()=>cM,SaveAsNewButton:()=>Uk,SaveButton:()=>Sk,ScheduledEmailDialog:()=>hM,ScheduledEmailManagementDialog:()=>pM,ShareButton:()=>zk,ShareDialog:()=>gM,ShareStatusIndicator:()=>tR,SidebarConfigurationPanel:()=>jM,SingleDashboardStoreAccessor:()=>WD,Title:()=>Xk,Toolbar:()=>rN,TopBar:()=>dM,WithDrillSelect:()=>Gx,addAttributeFilter:()=>Fh,addDrillDownForInsightWidget:()=>ip,addDrillTargets:()=>Qv,addLayoutSection:()=>ov,addSectionItem:()=>cv,anyDashboardEventHandler:()=>KD,anyEventHandler:()=>VD,applyAttributeFilter:()=>Uh,applyDateFilter:()=>Lh,cancelEditRenderMode:()=>Zs,catalogActions:()=>fa,changeAttributeFilterSelection:()=>Hh,changeDateFilterSelection:()=>xh,changeDrillableItems:()=>Nv,changeFilterContextSelection:()=>Bh,changeInsightWidgetDescription:()=>op,changeInsightWidgetHeader:()=>zm,changeInsightWidgetInsight:()=>Qm,changeInsightWidgetVisConfiguration:()=>Xm,changeInsightWidgetVisProperties:()=>$m,changeKpiWidgetComparison:()=>Yv,changeKpiWidgetConfiguration:()=>Gv,changeKpiWidgetDescription:()=>Uv,changeKpiWidgetHeader:()=>Hv,changeKpiWidgetMeasure:()=>jv,changeLayoutSectionHeader:()=>dv,changeRenderMode:()=>qs,changeSharing:()=>pi,clearDateFilterSelection:()=>Oh,commandFailedEventHandler:()=>ZD,commandStartedEventHandler:()=>YD,createAlert:()=>Sv,createInsightRequested:()=>Qt,createScheduledEmail:()=>Av,crossFiltering:()=>_v,dashboardAttributeFilterToAttributeFilter:()=>Dd,dashboardDateFilterToDateFilterByDateDataSet:()=>Ed,dashboardDateFilterToDateFilterByWidget:()=>yd,defaultDashboardThemeModifier:()=>pR,deleteDashboard:()=>fi,disableInsightWidgetDateFilter:()=>Km,disableKpiWidgetDateFilter:()=>Wv,dispatchAndWaitFor:()=>GD,drill:()=>kv,drillActions:()=>bs,drillDown:()=>Rv,drillTargetsAdded:()=>Bt,drillToAttributeUrl:()=>Fv,drillToCustomUrl:()=>Ov,drillToDashboard:()=>Lv,drillToInsight:()=>xv,drillToLegacyDashboard:()=>Mv,eagerRemoveSectionItem:()=>bv,eagerRemoveSectionItemByWidgetRef:()=>Dv,enableInsightWidgetDateFilter:()=>Vm,enableKpiWidgetDateFilter:()=>zv,existBlacklistHierarchyPredicate:()=>Rh,exportDashboardToPdf:()=>bi,exportInsightWidget:()=>np,extendedWidgetDebugStr:()=>w,filterContextItemsToDashboardFiltersByDateDataSet:()=>Cd,filterContextItemsToDashboardFiltersByWidget:()=>Id,filterContextToDashboardFiltersByDateDataSet:()=>vd,filterContextToDashboardFiltersByWidget:()=>bd,getDefaultInsightEditMenuItems:()=>fT,getDefaultInsightMenuItems:()=>LC,getDefaultLegacyInsightMenuItems:()=>xC,getDrillDownAttributeTitle:()=>Sx,ignoreFilterOnInsightWidget:()=>Ym,ignoreFilterOnKpiWidget:()=>Kv,initializeDashboard:()=>di,initializeDashboardWithPersistedDashboard:()=>ci,insightSelectDateDataset:()=>um,isAnyPlaceholderWidget:()=>Hd,isAttributeFilterDraggableItem:()=>fy,isAttributeFilterPlaceholderDraggableItem:()=>Ey,isBaseDraggableLayoutItem:()=>by,isBaseDraggableMovingItem:()=>vy,isBrokenAlertAttributeFilterInfo:()=>k,isBrokenAlertDateFilterInfo:()=>P,isCreateInsightRequested:()=>Jt,isCustomDashboardEvent:()=>te,isCustomWidget:()=>I,isCustomWidgetBase:()=>S,isCustomWidgetDefinition:()=>C,isDashboardAlertCreated:()=>yt,isDashboardAlertUpdated:()=>It,isDashboardAlertsRemoved:()=>Et,isDashboardAsyncRenderRequested:()=>Yt,isDashboardAsyncRenderResolved:()=>Zt,isDashboardAttributeFilterAdded:()=>Pe,isDashboardAttributeFilterConfigModeChanged:()=>Ne,isDashboardAttributeFilterMoved:()=>xe,isDashboardAttributeFilterParentChanged:()=>Oe,isDashboardAttributeFilterRemoved:()=>Re,isDashboardAttributeFilterSelectionChanged:()=>Le,isDashboardAttributeFilterSelectionModeChanged:()=>Me,isDashboardAttributeFilterTitleChanged:()=>Fe,isDashboardCommandFailed:()=>De,isDashboardCommandRejected:()=>Ee,isDashboardCommandStarted:()=>be,isDashboardCopySaved:()=>se,isDashboardCrossFilteringRequested:()=>Gt,isDashboardCrossFilteringResolved:()=>jt,isDashboardDateFilterSelectionChanged:()=>Ae,isDashboardDeinitialized:()=>oe,isDashboardDeleted:()=>ge,isDashboardDrillDownRequested:()=>At,isDashboardDrillDownResolved:()=>Pt,isDashboardDrillRequested:()=>wt,isDashboardDrillResolved:()=>Tt,isDashboardDrillToAttributeUrlRequested:()=>Mt,isDashboardDrillToAttributeUrlResolved:()=>Nt,isDashboardDrillToCustomUrlRequested:()=>Ot,isDashboardDrillToCustomUrlResolved:()=>Ft,isDashboardDrillToDashboardRequested:()=>xt,isDashboardDrillToDashboardResolved:()=>Lt,isDashboardDrillToInsightRequested:()=>kt,isDashboardDrillToInsightResolved:()=>Rt,isDashboardDrillToLegacyDashboardRequested:()=>_t,isDashboardDrillToLegacyDashboardResolved:()=>Ht,isDashboardDrillableItemsChanged:()=>Ut,isDashboardEvent:()=>ee,isDashboardEventOrCustomDashboardEvent:()=>ie,isDashboardExportToPdfRequested:()=>pe,isDashboardExportToPdfResolved:()=>he,isDashboardFilter:()=>nh,isDashboardFilterContextChanged:()=>_e,isDashboardInitialized:()=>ne,isDashboardInsightWidgetChanged:()=>mt,isDashboardInsightWidgetDescriptionChanged:()=>nt,isDashboardInsightWidgetDrillsModified:()=>ct,isDashboardInsightWidgetDrillsRemoved:()=>gt,isDashboardInsightWidgetExportRequested:()=>pt,isDashboardInsightWidgetExportResolved:()=>ht,isDashboardInsightWidgetFilterSettingsChanged:()=>ot,isDashboardInsightWidgetHeaderChanged:()=>at,isDashboardInsightWidgetInsightSwitched:()=>dt,isDashboardInsightWidgetRefreshed:()=>ft,isDashboardInsightWidgetVisConfigurationChanged:()=>st,isDashboardInsightWidgetVisPropertiesChanged:()=>lt,isDashboardKpiWidgetChanged:()=>rt,isDashboardKpiWidgetComparisonChanged:()=>et,isDashboardKpiWidgetConfigurationChanged:()=>Xe,isDashboardKpiWidgetDescriptionChanged:()=>$e,isDashboardKpiWidgetDrillRemoved:()=>tt,isDashboardKpiWidgetDrillSet:()=>it,isDashboardKpiWidgetFilterSettingsChanged:()=>Je,isDashboardKpiWidgetHeaderChanged:()=>Ze,isDashboardKpiWidgetMeasureChanged:()=>Qe,isDashboardLayoutChanged:()=>Ye,isDashboardLayoutSectionAdded:()=>He,isDashboardLayoutSectionHeaderChanged:()=>Be,isDashboardLayoutSectionItemMoved:()=>Ve,isDashboardLayoutSectionItemRemoved:()=>qe,isDashboardLayoutSectionItemReplaced:()=>We,isDashboardLayoutSectionItemsAdded:()=>ze,isDashboardLayoutSectionMoved:()=>Ue,isDashboardLayoutSectionRemoved:()=>je,isDashboardQueryCompleted:()=>Te,isDashboardQueryFailed:()=>Se,isDashboardQueryRejected:()=>Ie,isDashboardQueryStarted:()=>we,isDashboardRenamed:()=>de,isDashboardRenderModeChanged:()=>Xt,isDashboardRenderRequested:()=>qt,isDashboardRenderResolved:()=>$t,isDashboardSaved:()=>le,isDashboardScheduledEmailCreated:()=>Ct,isDashboardScheduledEmailSaved:()=>St,isDashboardSharingChanged:()=>fe,isDashboardUserInteractionTriggered:()=>Kt,isDashboardWasReset:()=>ue,isDashboardWidgetExecutionFailed:()=>vt,isDashboardWidgetExecutionStarted:()=>bt,isDashboardWidgetExecutionSucceeded:()=>Dt,isDateFilterValidationFailed:()=>me,isDraggableInternalItemType:()=>hy,isDrillDownDefinition:()=>oh,isDrillTargetsAdded:()=>zt,isInitialPlaceholderWidget:()=>Ld,isInsightDraggableItem:()=>Dy,isInsightDraggableListItem:()=>Sy,isInsightPlaceholderDraggableItem:()=>Cy,isInsightPlaceholderWidget:()=>Pd,isKpiDraggableItem:()=>yy,isKpiPlaceholderDraggableItem:()=>Iy,isKpiPlaceholderWidget:()=>wd,isLoadingPlaceholderWidget:()=>Od,isPlaceholderWidget:()=>xd,isTemporaryIdentity:()=>hu,modifyDrillDownForInsightWidget:()=>rp,modifyDrillsForInsightWidget:()=>Jm,moveAttributeFilter:()=>_h,moveLayoutSection:()=>lv,moveSectionItem:()=>gv,moveSectionItemAndRemoveOriginalSectionIfEmpty:()=>mv,moveSectionItemToNewSection:()=>pv,moveSectionItemToNewSectionAndRemoveOriginalSectionIfEmpty:()=>hv,newCustomWidget:()=>E,newDashboardEngine:()=>gU,newDashboardEventPredicate:()=>ei,newDashboardItem:()=>T,newDashboardSection:()=>A,newDisplayFormMap:()=>c,newDrillToSameDashboardHandler:()=>$D,newInitialPlaceholderWidget:()=>Nd,newInsightPlaceholderWidget:()=>Rd,newInsightWidget:()=>mU,newKpiPlaceholderWidget:()=>Ad,newLoadingPlaceholderWidget:()=>_d,newPlaceholderWidget:()=>Md,queryAndWaitFor:()=>ib,queryAttributeByDisplayForm:()=>wh,queryAttributeDataSet:()=>tD,queryAttributeElements:()=>iD,queryConnectedAttributes:()=>eD,queryConnectingAttributes:()=>Jv,queryDateDatasetsForInsight:()=>cm,queryDateDatasetsForMeasure:()=>mm,queryInsightAttributesMeta:()=>gm,queryWidgetAlertCount:()=>ng,queryWidgetBrokenAlerts:()=>ag,queryWidgetFilters:()=>rg,refreshInsightWidget:()=>ap,refreshKpiWidget:()=>Zv,removeAlerts:()=>Tv,removeAttributeFilter:()=>Mh,removeAttributeFilters:()=>Nh,removeDrillDownForInsightWidget:()=>tp,removeDrillForKpiWidget:()=>Xv,removeDrillsForInsightWidget:()=>ep,removeLayoutSection:()=>sv,removeSectionItem:()=>fv,removeSectionItemByWidgetRef:()=>vv,renameDashboard:()=>mi,renderModeActions:()=>ja,renderModeAware:()=>QD,replaceInsightWidgetFilterSettings:()=>Wm,replaceInsightWidgetIgnoredFilters:()=>qm,replaceKpiWidgetFilterSettings:()=>Bv,replaceKpiWidgetIgnoredFilters:()=>Vv,replaceSectionItem:()=>uv,requestAsyncRender:()=>nb,resetAttributeFilterSelection:()=>Gh,resetDashboard:()=>hi,resizeHeight:()=>Iv,resizeWidth:()=>Cv,resolveAsyncRender:()=>ob,resolveFilterValues:()=>b,revertLastLayoutChange:()=>Ev,saveDashboard:()=>ui,saveDashboardAs:()=>gi,saveScheduledEmail:()=>Pv,selectAccessibleDashboards:()=>Ku,selectAccessibleDashboardsMap:()=>qu,selectActiveSectionIndex:()=>Bb,selectAdhocDateHierarchies:()=>Zl,selectAlertByRef:()=>Yp,selectAlertByWidgetRef:()=>Kp,selectAlerts:()=>Wp,selectAlertsMap:()=>qp,selectAllAnalyticalWidgets:()=>lc,selectAllCatalogAttributeHierarchies:()=>$l,selectAllCatalogAttributesMap:()=>is,selectAllCatalogDateDatasetsMap:()=>es,selectAllCatalogDisplayFormsMap:()=>ts,selectAllCatalogMeasuresMap:()=>rs,selectAllCustomWidgets:()=>oc,selectAllInsightWidgets:()=>nc,selectAllKpiWidgets:()=>ac,selectAllowCreateInsightRequest:()=>Sl,selectAllowMultipleInteractionsPerAttributeAndMeasure:()=>Oo,selectAllowUnfinishedFeatures:()=>Cl,selectAnalyticalWidgetByRef:()=>Qd,selectAttributeFilterConfigsModeMap:()=>Lc,selectAttributeFilterConfigsOverrides:()=>xc,selectAttributeFilterDescendants:()=>ud,selectAttributeFilterDisplayFormByLocalId:()=>md,selectAttributeFilterDisplayForms:()=>rd,selectAttributeFilterDisplayFormsMap:()=>ad,selectAttributesWithDrillDown:()=>Xl,selectBackendCapabilities:()=>Eo,selectCanAddMoreAttributeFilters:()=>hd,selectCanCreateAnalyticalDashboard:()=>fp,selectCanCreateScheduledMail:()=>Dp,selectCanCreateVisualization:()=>Cp,selectCanEditDashboardPermission:()=>bD,selectCanEditLockedDashboardPermission:()=>vD,selectCanExecuteRaw:()=>Ip,selectCanExportPdf:()=>hp,selectCanExportReport:()=>mp,selectCanExportTabular:()=>pp,selectCanInitData:()=>yp,selectCanInviteUserToWorkspace:()=>Tp,selectCanListUsersInWorkspace:()=>up,selectCanManageACL:()=>vp,selectCanManageAnalyticalDashboard:()=>bp,selectCanManageAttributeHierarchy:()=>kp,selectCanManageDomain:()=>wp,selectCanManageMetric:()=>Sp,selectCanManageScheduledMail:()=>Pp,selectCanManageWorkspace:()=>gp,selectCanRefreshData:()=>Ap,selectCanShareDashboardPermission:()=>hD,selectCanShareLockedDashboardPermission:()=>fD,selectCanUploadNonProductionCSV:()=>Ep,selectCanViewDashboardPermission:()=>pD,selectCatalogAttributeDisplayForms:()=>Ul,selectCatalogAttributeHierarchies:()=>ql,selectCatalogAttributes:()=>_l,selectCatalogDateAttributes:()=>Kl,selectCatalogDateDatasets:()=>Wl,selectCatalogFacts:()=>Bl,selectCatalogMeasures:()=>Gl,selectColorPalette:()=>Vo,selectConfig:()=>Go,selectConfigurationPanelOpened:()=>Fb,selectConfiguredAndImplicitDrillsByWidgetRef:()=>OD,selectConfiguredDrillsByWidgetRef:()=>AD,selectCrossFilteringFiltersLocalIdentifiers:()=>Bd,selectCrossFilteringFiltersLocalIdentifiersByWidgetRef:()=>zd,selectCrossFilteringItems:()=>jd,selectCurrentUser:()=>kg,selectCurrentUserRef:()=>Rg,selectDashboardDescription:()=>qc,selectDashboardId:()=>jc,selectDashboardIdRef:()=>zc,selectDashboardLoading:()=>aD,selectDashboardLockStatus:()=>Xc,selectDashboardPermissions:()=>mD,selectDashboardRef:()=>Gc,selectDashboardSaving:()=>lD,selectDashboardShareInfo:()=>Qc,selectDashboardShareStatus:()=>Zc,selectDashboardTags:()=>Yc,selectDashboardTitle:()=>Kc,selectDashboardUri:()=>Bc,selectDashboardUriRef:()=>Wc,selectDashboardWorkingDefinition:()=>mu,selectDateDatasetsForInsight:()=>of,selectDateDatasetsForMeasure:()=>If,selectDateFilterConfig:()=>jo,selectDateFilterConfigOverrides:()=>Ic,selectDateFilterConfigValidationWarnings:()=>kc,selectDateFormat:()=>il,selectDateHierarchyTemplates:()=>Yl,selectDisableDefaultDrills:()=>Jo,selectDisableKpiDashboardHeadlineUnderline:()=>Il,selectDraggingWidgetSource:()=>Zb,selectDraggingWidgetTarget:()=>$b,selectDrillTargets:()=>zu,selectDrillTargetsByWidgetRef:()=>Wu,selectDrillableItems:()=>Gd,selectDrillableItemsByAvailableDrillTargets:()=>ND,selectDrillableItemsByWidgetRef:()=>FD,selectEffectiveAttributeFiltersModeMap:()=>Oc,selectEffectiveDateFilterAvailableGranularities:()=>wc,selectEffectiveDateFilterConfig:()=>Cc,selectEffectiveDateFilterMode:()=>Pc,selectEffectiveDateFilterOptions:()=>Sc,selectEffectiveDateFilterTitle:()=>Ac,selectEnableAnalyticalDashboardPermissions:()=>bl,selectEnableAttributeHierarchies:()=>Rl,selectEnableClickableAttributeURL:()=>cl,selectEnableCompanyLogoInEmbeddedUI:()=>ol,selectEnableFilterValuesResolutionInDrillEvents:()=>el,selectEnableInsightExportScheduling:()=>fl,selectEnableKDCrossFiltering:()=>Ml,selectEnableKDDependentFilters:()=>Ol,selectEnableKPIDashboardDrillFromAttribute:()=>pl,selectEnableKPIDashboardDrillToDashboard:()=>sl,selectEnableKPIDashboardDrillToInsight:()=>gl,selectEnableKPIDashboardDrillToURL:()=>ul,selectEnableKPIDashboardExportPDF:()=>ll,selectEnableKPIDashboardImplicitDrillDown:()=>ml,selectEnableKPIDashboardSaveAsNew:()=>dl,selectEnableKPIDashboardSchedule:()=>rl,selectEnableKPIDashboardScheduleRecipients:()=>al,selectEnableRenamingMeasureToMetric:()=>yl,selectEnableRenamingProjectToWorkspace:()=>Dl,selectEnableUnavailableItemsVisibility:()=>Ll,selectEnableWidgetCustomHeight:()=>vl,selectEntitlementExportPdf:()=>uD,selectExecutionResult:()=>Op,selectExecutionResultByRef:()=>Fp,selectFilterBarExpanded:()=>Ab,selectFilterContextAttributeFilterByDisplayForm:()=>sd,selectFilterContextAttributeFilters:()=>od,selectFilterContextDateFilter:()=>ld,selectFilterContextDefinition:()=>td,selectFilterContextFilters:()=>nd,selectFilterContextIdentity:()=>id,selectGlobalDrillsDownAttributeHierarchyByWidgetRef:()=>wD,selectHasCatalogAttributes:()=>Hl,selectHasCatalogDateDatasets:()=>Vl,selectHasCatalogFacts:()=>zl,selectHasCatalogMeasures:()=>jl,selectHideKpiDrillInEmbedded:()=>hl,selectIgnoredDrillDownHierarchiesByWidgetRef:()=>Jd,selectImplicitDrillsByAvailableDrillTargets:()=>MD,selectImplicitDrillsDownByWidgetRef:()=>CD,selectImplicitDrillsToUrlByWidgetRef:()=>TD,selectInaccessibleDashboards:()=>$u,selectInaccessibleDashboardsMap:()=>Xu,selectInsightAttributesMeta:()=>cf,selectInsightByRef:()=>Eu,selectInsightByWidgetRef:()=>Iu,selectInsightListLastUpdateRequested:()=>Nb,selectInsightRefs:()=>Du,selectInsightWidgetPlaceholder:()=>gc,selectInsightWidgetPlaceholderCoordinates:()=>mc,selectInsights:()=>vu,selectInsightsMap:()=>yu,selectInvalidDrillWidgetRefs:()=>zb,selectInvalidUrlDrillParameterDrillLocalIdsByWidgetRef:()=>Yb,selectInvalidUrlDrillParameterWidgetRefs:()=>Vb,selectInvalidUrlDrillParameterWidgetWarnings:()=>Kb,selectIsAlternativeDisplayFormSelectionEnabled:()=>Pl,selectIsAnalyticalDesignerEnabled:()=>wl,selectIsAttributeFilterDependentByDisplayForm:()=>fd,selectIsCancelEditModeDialogOpen:()=>wb,selectIsCircularDependency:()=>pd,selectIsDashboardDirty:()=>gu,selectIsDashboardLoading:()=>nD,selectIsDashboardPrivate:()=>$c,selectIsDashboardSaving:()=>sD,selectIsDeleteDialogOpen:()=>Cb,selectIsDeleteFilterButtonEnabled:()=>Tl,selectIsDraggingWidget:()=>jb,selectIsDrillDownEnabled:()=>xl,selectIsEmbedded:()=>$o,selectIsExecutionResultExportableToCsvByRef:()=>Np,selectIsExecutionResultExportableToXlsxByRef:()=>_p,selectIsExecutionResultReadyForExportByRef:()=>Mp,selectIsExport:()=>Xo,selectIsFilterAttributeSelectionOpen:()=>Ub,selectIsInEditMode:()=>yc,selectIsInViewMode:()=>Dc,selectIsKDDependentFiltersEnabled:()=>Fl,selectIsKPIDashboardDependentFiltersEnabled:()=>Al,selectIsKpiAlertHighlightedByWidgetRef:()=>xb,selectIsKpiAlertOpenedByWidgetRef:()=>Rb,selectIsKpiDeleteDialogOpen:()=>Sb,selectIsLayoutEmpty:()=>rc,selectIsNewDashboard:()=>Vc,selectIsReadOnly:()=>Zo,selectIsSaveAsDialogOpen:()=>Eb,selectIsSaveAsNewButtonHidden:()=>tl,selectIsSaveAsNewButtonVisible:()=>Nk,selectIsScheduleEmailDialogOpen:()=>vb,selectIsScheduleEmailManagementDialogOpen:()=>yb,selectIsSectionInsertedByPlugin:()=>tv,selectIsShareButtonHidden:()=>kl,selectIsShareDialogOpen:()=>Ib,selectIsWhiteLabeled:()=>Qo,selectIsWidgetLoadingAdditionalDataByWidgetRef:()=>Hb,selectKpiDeleteDialogWidgetCoordinates:()=>Tb,selectKpiWidgetPlaceholder:()=>pc,selectKpiWidgetPlaceholderCoordinates:()=>hc,selectLayout:()=>qd,selectLayoutHasAnalyticalWidgets:()=>sc,selectLegacyDashboards:()=>Ah,selectListedDashboards:()=>HD,selectListedDashboardsMap:()=>UD,selectLocale:()=>zo,selectMapboxToken:()=>qo,selectMenuButtonItemsVisibility:()=>Lb,selectObjectAvailabilityConfig:()=>Ko,selectOriginalFilterContextDefinition:()=>Js,selectOriginalFilterContextFilters:()=>ed,selectOtherContextAttributeFilters:()=>gd,selectPermissions:()=>cp,selectPersistedDashboard:()=>Nc,selectPlatformEdition:()=>nl,selectRenderMode:()=>vc,selectScheduleEmailDialogDefaultAttachment:()=>Db,selectSectionModification:()=>ev,selectSelectedFilterIndex:()=>Gb,selectSelectedWidgetRef:()=>Ob,selectSeparators:()=>Wo,selectSettings:()=>Bo,selectShouldHidePixelPerfectExperience:()=>El,selectStash:()=>Vd,selectSupportsAccessControlCapability:()=>So,selectSupportsAttributeHierarchies:()=>Fo,selectSupportsCrossFiltering:()=>No,selectSupportsElementUris:()=>To,selectSupportsElementsQueryParentFiltering:()=>Io,selectSupportsHierarchicalWorkspacesCapability:()=>wo,selectSupportsKeepingDependentFiltersSelection:()=>xo,selectSupportsKpiWidgetCapability:()=>Co,selectSupportsObjectUris:()=>ko,selectSupportsSettingConnectingAttributes:()=>Ro,selectSupportsSingleSelectDependentFilters:()=>Mo,selectValidConfiguredDrillsByWidgetRef:()=>PD,selectWeekStart:()=>Yo,selectWidgetByRef:()=>Xd,selectWidgetCoordinatesByRef:()=>dc,selectWidgetDateDatasetAutoSelect:()=>Mb,selectWidgetDrills:()=>ec,selectWidgetPlaceholder:()=>cc,selectWidgetPlaceholderCoordinates:()=>uc,selectWidgets:()=>Zd,selectWidgetsMap:()=>$d,selectWidgetsModification:()=>Jb,selectWidgetsOverlay:()=>Xb,selectWidgetsOverlayState:()=>Qb,setAttributeFilterDisplayForm:()=>zh,setAttributeFilterParents:()=>jh,setAttributeFilterSelectionMode:()=>Vh,setAttributeFilterTitle:()=>Wh,setDashboardAttributeFilterConfigMode:()=>Di,setDashboardDateFilterConfigMode:()=>vi,setDrillForKpiWidget:()=>$v,setExecutionResultData:()=>gb,setExecutionResultError:()=>ub,setExecutionResultLoading:()=>cb,singleEventTypeHandler:()=>qD,switchToEditRenderMode:()=>Ys,translations:()=>KE,triggerEvent:()=>eb,uiActions:()=>Ha,undoLayoutChanges:()=>yv,unignoreFilterOnInsightWidget:()=>Zm,unignoreFilterOnKpiWidget:()=>qv,updateAlert:()=>wv,useCancelButtonProps:()=>Ek,useCancelEditDialog:()=>IM,useCustomWidgetExecutionDataView:()=>EH,useCustomWidgetInsightDataView:()=>IH,useDashboardAsyncRender:()=>sb,useDashboardCommandProcessing:()=>Jf,useDashboardDispatch:()=>Zf,useDashboardEventDispatch:()=>tb,useDashboardEventsContext:()=>Y,useDashboardQueryProcessing:()=>rb,useDashboardScheduledEmails:()=>av,useDashboardSelector:()=>$f,useDashboardUserInteraction:()=>ab,useDefaultMenuItems:()=>Zk,useDispatchDashboardCommand:()=>lb,useDrill:()=>Lx,useDrillDown:()=>Ox,useDrillToAttributeUrl:()=>Nx,useDrillToCustomUrl:()=>_x,useDrillToDashboard:()=>Mx,useDrillToInsight:()=>Fx,useDrillToLegacyDashboard:()=>Hx,useEditButtonProps:()=>Ok,useFilterBarProps:()=>EI,useInsightWidgetDataView:()=>CH,useParentFilters:()=>hR,useSaveAsDialogProps:()=>GA,useSaveAsNewButtonProps:()=>_k,useSaveButtonProps:()=>rR,useShareButtonProps:()=>jk,useTopBarProps:()=>nR,useWidgetDragEndHandler:()=>MI,useWidgetExecutionsHandler:()=>mb,useWidgetFilters:()=>fw,useWidgetSelection:()=>nv,userInteractionTriggered:()=>Vt});var r={};i.r(r),i.d(r,{FILE:()=>B_,HTML:()=>V_,TEXT:()=>W_,URL:()=>z_});var a,n=i(53244),o=i(52628);class l{constructor(e){this.config=e,this[a]="ObjRefMap",this.size=0,this.items=[],this.itemsByIdentifier={},this.itemsByUri={},this.idRefToKey=(e,t)=>this.config.strictTypeCheck&&t?`${e}#${t}`:e,this.addItem=e=>{const{refExtract:t,uriExtract:i,idExtract:r}=this.config,a=i(e),n=r(e);this.itemsByUri[a]=e,this.itemsByIdentifier[this.idRefToKey(n,this.config.type)]=e,this.items.push([t(e),e]),this.size++},this.cleanupUnmappedItems=()=>{const e=o(this.itemsByUri).concat(o(this.itemsByIdentifier));this.items=this.items.filter((([t,i])=>e.find((e=>e===i))))},this.fromItems=e=>(e.forEach(this.addItem),this.cleanupUnmappedItems(),this)}[(a=Symbol.toStringTag,Symbol.iterator)](){return this.items[Symbol.iterator]()}entries(){return this.items[Symbol.iterator]()}get(e){if((0,n.isIdentifierRef)(e)){const t=this.itemsByIdentifier[this.idRefToKey(e.identifier,e.type)];return t||e.type||!this.config.strictTypeCheck||console.warn("You are working with an analytical backend which can only match entities by idRefs that contain both identifier and type. However, while trying to find match an object by ref your code supplied just the identifier without type."),t}return this.itemsByUri[e.uri]}has(e){return void 0!==this.get(e)}keys(){return this.items.map((e=>e[0]))[Symbol.iterator]()}values(){return this.items.map((e=>e[1]))[Symbol.iterator]()}}const s={idExtract:e=>e.id,uriExtract:e=>e.uri,refExtract:e=>e.ref};function d(e,t=!1){return new l({type:"dataSet",strictTypeCheck:t,idExtract:e=>e.dataSet.id,uriExtract:e=>e.dataSet.uri,refExtract:e=>e.dataSet.ref}).fromItems(e)}function c(e,t=!1){return new l(Object.assign({type:"displayForm",strictTypeCheck:t},s)).fromItems(e)}function u(e,t=!1){return new l(Object.assign({type:"attribute",strictTypeCheck:t},s)).fromItems(e)}function g(e,t,i=!1){return new l({type:t,strictTypeCheck:i,idExtract:e=>e.identifier,uriExtract:e=>e.uri,refExtract:e=>e.ref}).fromItems(e)}function m(e,t=!1){return new l({type:"insight",strictTypeCheck:t,idExtract:n.insightId,uriExtract:n.insightUri,refExtract:n.insightRef}).fromItems(e)}var p=i(47591),h=i(41609);const f=500;async function b(e,t,i){const r=e.map((e=>{if((0,n.isAbsoluteDateFilter)(e)){const t={from:e.absoluteDateFilter.from,to:e.absoluteDateFilter.to};return Promise.resolve(t)}return(0,p.kG)(t,`backend needs to be provided for this type of filter: ${e}`),(0,p.kG)(i,`workspace needs to be provided for this type of filter: ${e}`),(0,n.isAttributeFilter)(e)?async function(e,t,i){const r={},a=t.workspace(i).attributes().elements().forFilter(e),o=(0,n.filterAttributeElements)(e),l=(0,n.attributeElementsCount)(o);if(0===l)return r;const s=Math.min(l,f);let d=await a.withLimit(s).query();const c=[];for(;!h(d.items);)c.push(...d.items),d=await d.next();return c.reduce(((e,t)=>(e[null===t.uri?"null":t.uri]=t.title,e)),r)}(e,t,i):async function(e,t,i){let r;if((0,n.isObjRef)(e.relativeDateFilter.dataSet)){const a=await t.workspace(i).catalog().forDataset(e.relativeDateFilter.dataSet).withGroups(!1).load();if(a.dateDatasets()[0]){const e=a.dateDatasets()[0].dateAttributes.find((e=>"GDC.time.date"===e.granularity));r=null==e?void 0:e.defaultDisplayForm}}const a=t.workspace(i).attributes().elements().forFilter(e,null==r?void 0:r.ref),o=await a.query(),l=o.limit+o.offset<o.totalCount?await o.goTo(Math.ceil(o.totalCount/o.limit)-1):o;return{from:o.items[0].title,to:(s=l.items,s[s.length-1].title)};var s}(e,t,i)}));return Promise.all(r).then((t=>t.reduce(((i,r,a)=>{const o=e[a],l=(0,n.filterObjRef)(o);if((0,p.kG)(l,`filter without reference not supported: ${o}`),(0,n.isDateFilter)(o)){const e=v(t,o,a);e&&i.dateFilters.push(e)}if((0,n.isAttributeFilter)(o)){const e=(0,n.objRefToString)(l),r=v(t,o,a);r&&(i.attributeFilters[e]=r)}return i}),{dateFilters:[],attributeFilters:{}})))}function v(e,t,i){return(0,n.isDateFilter)(t),e[i]}var D,y=i(50361);function E(e,t,i){const r=i?y(i):{};return Object.assign({type:"customWidget",customType:t,identifier:e,uri:`_custom_widget_uri/${e}`,ref:(0,n.idRef)(e)},r)}function I(e){const t=e;return!h(t)&&"customWidget"===t.type&&void 0!==t.customType&&void 0!==t.ref}function C(e){const t=e;return!h(t)&&"customWidget"===t.type&&void 0!==t.customType&&void 0===t.ref}function S(e){const t=e;return!h(t)&&"customWidget"===t.type&&void 0!==t.customType}function w(e){const t=`${e.identifier}`;let i="unknown widget type";return(0,n.isWidget)(e)?i=e.type:I(e)&&(i=`${e.type}/${e.customType}`),`${t}(${i})`}function T(e,t){return{type:"IDashboardLayoutItem",size:"number"==typeof t?{xl:{gridWidth:t}}:t,widget:y(e)}}function A(e,...t){const i=function(e){if(e){if("string"==typeof e){if(h(e))return;return{title:e}}return e}}(e);return{type:"IDashboardLayoutSection",items:y(t),header:i}}function P(e){return(0,n.isDashboardDateFilter)(e.alertFilter)}function k(e){return(0,n.isDashboardAttributeFilter)(e.alertFilter)}!function(e){e.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID="{project_id}",e.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID="{workspace_id}",e.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID="{insight_id}",e.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID="{widget_id}",e.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID="{dashboard_id}",e.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID="{client_id}",e.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID="{data_product_id}"}(D=D||(D={}));var R=i(59882),x=i(41324),L=i.n(x),O=L().createContext(null),F=function(e){e()},M=function(){return F},N={notify:function(){},get:function(){return[]}};function _(e,t){var i,r=N;function a(){o.onStateChange&&o.onStateChange()}function n(){i||(i=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=M(),t=null,i=null;return{clear:function(){t=null,i=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],i=t;i;)e.push(i),i=i.next;return e},subscribe:function(e){var r=!0,a=i={callback:e,next:null,prev:i};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:i=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var o={addNestedSub:function(e){return n(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(i)},trySubscribe:n,tryUnsubscribe:function(){i&&(i(),i=void 0,r.clear(),r=N)},getListeners:function(){return r}};return o}var H="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?x.useLayoutEffect:x.useEffect;const U=function(e){var t=e.store,i=e.context,r=e.children,a=(0,x.useMemo)((function(){var e=_(t);return{store:t,subscription:e}}),[t]),n=(0,x.useMemo)((function(){return t.getState()}),[t]);H((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),n!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,n]);var o=i||O;return L().createElement(o.Provider,{value:a},r)};i(8679),i(72973);var G=i(87462);function j(){return(0,x.useContext)(O)}function B(e){void 0===e&&(e=O);var t=e===O?j:function(){return(0,x.useContext)(e)};return function(){return t().store}}var z=B();var W,V=function(e,t){return e===t};W=i(12181).unstable_batchedUpdates,F=W;var K=i(50308);const q=(0,R.createContext)({registerHandler:K,unregisterHandler:K});q.displayName="DashboardEventsContext";const Y=()=>(0,R.useContext)(q);function Z(e){const{children:t,registerHandler:i,unregisterHandler:r}=e,a=(0,R.useMemo)((()=>({registerHandler:i,unregisterHandler:r})),[i,r]);return R.createElement(q.Provider,{value:a},t)}var $=i(2525),X=i(42622),Q=i(34857),J=i(44586);function ee(e){var t;return!h(e)&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("GDC.DASH/EVT"))}function te(e){var t;return!h(e)&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("CUSTOM/EVT"))}function ie(e){return ee(e)||te(e)}const re=e=>t=>!h(t)&&t.type===e;function ae(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.INITIALIZED",ctx:e,correlationId:n,payload:{dashboard:t,insights:i,config:r,permissions:a}}}const ne=re("GDC.DASH/EVT.INITIALIZED"),oe=re("GDC.DASH/EVT.DEINITIALIZED"),le=re("GDC.DASH/EVT.SAVED"),se=re("GDC.DASH/EVT.COPY_SAVED"),de=re("GDC.DASH/EVT.RENAMED");function ce(e,t,i){return{type:"GDC.DASH/EVT.RESET",ctx:e,correlationId:i,payload:{dashboard:t}}}const ue=re("GDC.DASH/EVT.RESET"),ge=re("GDC.DASH/EVT.DELETED"),me=re("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.VALIDATION.FAILED"),pe=re("GDC.DASH/EVT.EXPORT.PDF.REQUESTED"),he=re("GDC.DASH/EVT.EXPORT.PDF.RESOLVED"),fe=re("GDC.DASH/EVT.SHARING.CHANGED"),be=re("GDC.DASH/EVT.COMMAND.STARTED");function ve(e,t,i){return{type:"GDC.DASH/EVT.COMMAND.FAILED",ctx:e,correlationId:t.correlationId,payload:{reason:"USER_ERROR",command:t,message:i}}}const De=re("GDC.DASH/EVT.COMMAND.FAILED");function ye(e,t){return{type:"GDC.DASH/EVT.COMMAND.REJECTED",ctx:e,correlationId:t}}const Ee=re("GDC.DASH/EVT.COMMAND.REJECTED"),Ie=re("GDC.DASH/EVT.QUERY.REJECTED");function Ce(e,t,i){return{type:"GDC.DASH/EVT.QUERY.FAILED",ctx:e,correlationId:i,payload:{reason:"USER_ERROR",message:t}}}const Se=re("GDC.DASH/EVT.QUERY.FAILED"),we=re("GDC.DASH/EVT.QUERY.STARTED"),Te=re("GDC.DASH/EVT.QUERY.COMPLETED"),Ae=re("GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.SELECTION_CHANGED"),Pe=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADDED");function ke(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVED",ctx:e,correlationId:r,payload:{removed:t,children:i}}}const Re=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVED"),xe=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVED"),Le=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED"),Oe=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.PARENT_CHANGED"),Fe=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED"),Me=re("GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED"),Ne=re("GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED"),_e=re("GDC.DASH/EVT.FILTER_CONTEXT.CHANGED"),He=re("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED"),Ue=re("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_MOVED");function Ge(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_REMOVED",ctx:e,correlationId:n,payload:{section:t,index:i,eagerRemoval:r,stashIdentifier:a}}}const je=re("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_REMOVED"),Be=re("GDC.DASH/EVT.FLUID_LAYOUT.SECTION_HEADER_CHANGED"),ze=re("GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED"),We=re("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED"),Ve=re("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED");function Ke(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REMOVED",ctx:e,correlationId:n,payload:{item:t,itemIndex:i,section:r,stashIdentifier:a}}}re("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED_TO_NEW_SECTION");const qe=re("GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REMOVED"),Ye=re("GDC.DASH/EVT.FLUID_LAYOUT.LAYOUT_CHANGED"),Ze=re("GDC.DASH/EVT.KPI_WIDGET.HEADER_CHANGED"),$e=re("GDC.DASH/EVT.KPI_WIDGET.DESCRIPTION_CHANGED"),Xe=re("GDC.DASH/EVT.KPI_WIDGET.CONFIGURATION_CHANGED"),Qe=re("GDC.DASH/EVT.KPI_WIDGET.MEASURE_CHANGED"),Je=re("GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED"),et=re("GDC.DASH/EVT.KPI_WIDGET.COMPARISON_CHANGED"),tt=re("GDC.DASH/EVT.KPI_WIDGET.DRILL_REMOVED"),it=re("GDC.DASH/EVT.KPI_WIDGET.DRILL_SET"),rt=re("GDC.DASH/EVT.KPI_WIDGET.WIDGET_CHANGED"),at=re("GDC.DASH/EVT.INSIGHT_WIDGET.HEADER_CHANGED"),nt=re("GDC.DASH/EVT.INSIGHT_WIDGET.DESCRIPTION_CHANGED"),ot=re("GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED"),lt=re("GDC.DASH/EVT.INSIGHT_WIDGET.PROPERTIES_CHANGED"),st=re("GDC.DASH/EVT.INSIGHT_WIDGET.CONFIGURATION_CHANGED"),dt=re("GDC.DASH/EVT.INSIGHT_WIDGET.INSIGHT_SWITCHED"),ct=re("GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_MODIFIED");function ut(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_REMOVED",ctx:e,correlationId:r,payload:{ref:t,removed:i}}}const gt=re("GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_REMOVED"),mt=re("GDC.DASH/EVT.INSIGHT_WIDGET.WIDGET_CHANGED"),pt=re("GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_REQUESTED"),ht=re("GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_RESOLVED"),ft=re("GDC.DASH/EVT.INSIGHT_WIDGET.REFRESHED"),bt=re("GDC.DASH/EVT.WIDGET.EXECUTION_STARTED"),vt=re("GDC.DASH/EVT.WIDGET.EXECUTION_FAILED"),Dt=re("GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED"),yt=re("GDC.DASH/EVT.ALERT.CREATED"),Et=re("GDC.DASH/EVT.ALERTS.REMOVED"),It=re("GDC.DASH/EVT.ALERT.UPDATED"),Ct=re("GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED"),St=re("GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED"),wt=re("GDC.DASH/EVT.DRILL.REQUESTED"),Tt=re("GDC.DASH/EVT.DRILL.RESOLVED"),At=re("GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED"),Pt=re("GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED"),kt=re("GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED"),Rt=re("GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED"),xt=re("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED"),Lt=re("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED"),Ot=re("GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED"),Ft=re("GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED"),Mt=re("GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED"),Nt=re("GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED"),_t=re("GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED"),Ht=re("GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED"),Ut=re("GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED"),Gt=re("GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED"),jt=re("GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED");function Bt(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL_TARGETS.ADDED",ctx:e,correlationId:r,payload:{ref:t,availableDrillTargets:i}}}const zt=re("GDC.DASH/EVT.DRILL_TARGETS.ADDED");var Wt=i(47037);function Vt(e,t){return{type:"GDC.DASH/EVT.USER_INTERACTION.TRIGGERED",correlationId:t,payload:Wt(e)?{interaction:e}:e}}const Kt=re("GDC.DASH/EVT.USER_INTERACTION.TRIGGERED"),qt=re("GDC.DASH/EVT.RENDER.REQUESTED"),Yt=re("GDC.DASH/EVT.RENDER.ASYNC.REQUESTED"),Zt=re("GDC.DASH/EVT.RENDER.ASYNC.RESOLVED"),$t=re("GDC.DASH/EVT.RENDER.RESOLVED"),Xt=re("GDC.DASH/EVT.RENDER_MODE.CHANGED");function Qt(e){return{type:"GDC.DASH/EVT.CREATE_INSIGHT_REQUESTED",correlationId:e}}const Jt=re("GDC.DASH/EVT.CREATE_INSIGHT_REQUESTED");function ei(e,t){return i=>{var r;return(null==i?void 0:i.type)===e&&(null===(r=null==t?void 0:t(i))||void 0===r||r)}}function*ti(e){return yield(0,Q.gw)(e),!0}const ii=e=>ei("GDC.DASH/EVT.RENDER.ASYNC.RESOLVED",e?t=>t.payload.id===e:()=>!0),ri=e=>ei("GDC.DASH/EVT.RENDER.ASYNC.REQUESTED",e?t=>t.payload.id===e:()=>!0);function ai(e={asyncRenderRequestedTimeout:2e3,asyncRenderResolvedTimeout:2e3,maxTimeout:12e5,correlationIdGenerator:J.Z}){return function*(t){try{const i=e.correlationIdGenerator();yield(0,Q.gz)(function(e,t){return{type:"GDC.DASH/EVT.RENDER.REQUESTED",correlationId:t,ctx:e}}(t,i)),yield(0,Q.qn)("GDC.DASH/EVT.INITIALIZED");const r=yield(0,Q.RE)(ni,e);yield(0,Q.RE)(oi,r,e),yield(0,Q.gz)(function(e,t){return{type:"GDC.DASH/EVT.RENDER.RESOLVED",correlationId:t,ctx:e}}(t,i))}catch(e){console.error("Rendering worker failed",e)}}}function*ni(e){const t=new Map,i=yield(0,Q.Cs)(ti,e.asyncRenderRequestedTimeout),r=yield(0,Q.ZO)(ri());for(;;){const{asyncRenderRequested:a,timeoutResolved:n}=yield(0,Q.S3)({asyncRenderRequested:(0,Q.qn)(r),timeoutResolved:(0,Q.v_)(i)});if(n)break;const o=a.payload.id;if(t.has(o))continue;const l=yield(0,Q.Cs)(li,o,e);t.set(o,l)}return t}function*oi(e,t){const i=yield(0,Q.Cs)(ti,t.maxTimeout-t.asyncRenderRequestedTimeout),r=yield(0,Q.ZO)(ri());for(;;){const a=Array.from(e,(([,e])=>e)),{asyncTasksResolved:n,asyncRenderRequested:o,timeoutResolved:l}=yield(0,Q.S3)({asyncRenderRequested:(0,Q.qn)(r),asyncTasksResolved:(0,Q.$6)(a.map((e=>(0,Q.v_)(e)))),timeoutResolved:(0,Q.v_)(i)});if(l||n)return a.forEach((e=>e.cancel())),void(yield(0,Q.al)(i));if(o){const i=o.payload.id;if(e.has(i))continue;const r=yield(0,Q.Cs)(li,i,t);e.set(i,r)}}}function*li(e,t){let i=0;const r=yield(0,Q.ZO)(ii(e));for(;;){yield(0,Q.qn)(r);const{timeout:a}=yield(0,Q.S3)({timeout:(0,Q.RE)(ti,t.asyncRenderResolvedTimeout),anotherExecution:(0,Q.qn)(ri(e))});if(i+=1,a||3===i)return}}const si="initialLoad";function di(e,t,i){return{type:"GDC.DASH/CMD.INITIALIZE",correlationId:i,payload:{config:e,permissions:t}}}function ci(e,t,i,r){return{type:"GDC.DASH/CMD.INITIALIZE",correlationId:r,payload:{config:e,permissions:t,persistedDashboard:i}}}function ui(e,t){return{type:"GDC.DASH/CMD.SAVE",correlationId:t,payload:{title:e}}}function gi(e,t,i,r){return{type:"GDC.DASH/CMD.SAVEAS",correlationId:r,payload:{title:e,switchToCopy:t,useOriginalFilterContext:i}}}function mi(e,t){return{type:"GDC.DASH/CMD.RENAME",correlationId:t,payload:{newTitle:e}}}function pi(e,t){return{type:"GDC.DASH/CMD.SHARING.CHANGE",correlationId:t,payload:{newSharingProperties:e}}}function hi(e){return{type:"GDC.DASH/CMD.RESET",correlationId:e}}function fi(e){return{type:"GDC.DASH/CMD.DELETE",correlationId:e}}function bi(e){return{type:"GDC.DASH/CMD.EXPORT.PDF",correlationId:e}}function vi(e){return{type:"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_MODE",payload:{mode:e}}}function Di(e,t){return{type:"GDC.DASH/CMD.ATTRIBUTE_FILTER_CONFIG.SET_MODE",payload:{localIdentifier:e,mode:t}}}var yi=i(14890),Ei=i(24268),Ii=i(30797),Ci="BATCHING_REDUCER.BATCH";function Si(e){return{type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ci,meta:{batch:!0},payload:e}}function wi(e){return function t(i,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,i):e(i,r)}}var Ti=i(43174);const Ai=()=>(0,J.Z)().replace(/-/g,""),Pi={setFilterContext:(e,t)=>{var i;const{filterContextDefinition:r,originalFilterContextDefinition:a,filterContextIdentity:o,attributeFilterDisplayForms:l}=t.payload,s=null===(i=r.filters)||void 0===i?void 0:i.map((e=>{var t;return(0,n.isDashboardAttributeFilter)(e)?{attributeFilter:Object.assign(Object.assign({},e.attributeFilter),{localIdentifier:null!==(t=e.attributeFilter.localIdentifier)&&void 0!==t?t:Ai()})}:e})),[d,c]=Ti(s,n.isDashboardDateFilter),u=[...d,...c];e.filterContextDefinition=Object.assign(Object.assign({},r),{filters:u}),e.originalFilterContextDefinition=a,e.filterContextIdentity=o,e.attributeFilterDisplayForms=l},updateFilterContextIdentity:(e,t)=>{e.filterContextIdentity=t.payload.filterContextIdentity},removeAttributeFilterDisplayForms:(e,t)=>{(0,p.kG)(e.attributeFilterDisplayForms,"attempting to work with uninitialized state"),e.attributeFilterDisplayForms=e.attributeFilterDisplayForms.filter((e=>!(0,n.areObjRefsEqual)(e,t.payload)))},addAttributeFilterDisplayForm:(e,t)=>{(0,p.kG)(e.attributeFilterDisplayForms,"attempting to work with uninitialized state"),e.attributeFilterDisplayForms.find((e=>(0,n.areObjRefsEqual)(e,t.payload.ref)))&&(e.attributeFilterDisplayForms=e.attributeFilterDisplayForms.filter((e=>!(0,n.areObjRefsEqual)(e,t.payload)))),e.attributeFilterDisplayForms.push(t.payload)},addAttributeFilter:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{displayForm:i,index:r,initialIsNegativeSelection:a,initialSelection:o,parentFilters:l,selectionMode:s,localIdentifier:d}=t.payload,c=o&&!(0,n.attributeElementsIsEmpty)(o),u="single"!==s&&(a||!c),g={attributeFilter:Object.assign({attributeElements:null!=o?o:{uris:[]},displayForm:i,negativeSelection:u,localIdentifier:null!=d?d:Ai(),filterElementsBy:l?[...l]:void 0},void 0!==s?{selectionMode:s}:{})},m=e.filterContextDefinition.filters.findIndex(n.isDashboardDateFilter)>=0;if(-1===r)e.filterContextDefinition.filters.push(g);else{const t=m?r+1:r;e.filterContextDefinition.filters.splice(t,0,g)}},removeAttributeFilter:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i}=t.payload;e.filterContextDefinition.filters=e.filterContextDefinition.filters.filter((e=>(0,n.isDashboardDateFilter)(e)||e.attributeFilter.localIdentifier!==i))},moveAttributeFilter:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,index:r}=t.payload,a=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,p.kG)(a>=0,"Attempt to move non-existing filter");const o=e.filterContextDefinition.filters[a];e.filterContextDefinition.filters.splice(a,1);const l=e.filterContextDefinition.filters.findIndex(n.isDashboardDateFilter)>=0;if(-1===r)e.filterContextDefinition.filters.push(o);else{const t=l?r+1:r;e.filterContextDefinition.filters.splice(t,0,o)}},updateAttributeFilterSelection:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{elements:i,filterLocalId:r,negativeSelection:a}=t.payload,o=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===r));(0,p.kG)(o>=0,"Attempt to update non-existing filter"),e.filterContextDefinition.filters[o]={attributeFilter:Object.assign(Object.assign({},e.filterContextDefinition.filters[o].attributeFilter),{attributeElements:i,negativeSelection:a})}},setAttributeFilterParents:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,parentFilters:r}=t.payload,a=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,p.kG)(a>=0,"Attempt to set parent of a non-existing filter"),e.filterContextDefinition.filters[a].attributeFilter.filterElementsBy=[...r]},clearAttributeFiltersSelection:(e,t)=>{const{filterLocalIds:i}=t.payload;i.forEach((t=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const i=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===t));(0,p.kG)(i>=0,"Attempt to clear selection of a non-existing filter");const r=e.filterContextDefinition.filters[i],a="single"!==r.attributeFilter.selectionMode;r.attributeFilter.negativeSelection=a,r.attributeFilter.attributeElements=(0,n.isAttributeElementsByRef)(r.attributeFilter.attributeElements)?{uris:[]}:{values:[]}}))},upsertDateFilter:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const i=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardDateFilter)(e)));if("allTime"===t.payload.type)i>=0&&e.filterContextDefinition.filters.splice(i,1);else if(i>=0){const{type:r,granularity:a,from:o,to:l}=t.payload,s=e.filterContextDefinition.filters[i];(0,n.isDashboardDateFilter)(s)&&(s.dateFilter.type=r,s.dateFilter.granularity=a,s.dateFilter.from=o,s.dateFilter.to=l)}else{const{type:i,granularity:r,from:a,to:n}=t.payload;e.filterContextDefinition.filters.unshift({dateFilter:{granularity:r,type:i,from:a,to:n}})}},changeAttributeDisplayForm:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,displayForm:r,supportsElementUris:a}=t.payload,o=e.filterContextDefinition.filters.findIndex((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,p.kG)(o>=0,"Attempt to set parent of a non-existing filter");const l=e.filterContextDefinition.filters[o];l.attributeFilter.displayForm=Object.assign({},r);const s="single"!==l.attributeFilter.selectionMode;a||(l.attributeFilter.negativeSelection=s,l.attributeFilter.attributeElements=(0,n.isAttributeElementsByRef)(l.attributeFilter.attributeElements)?{uris:[]}:{values:[]})},changeAttributeTitle:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,title:r}=t.payload,a=e.filterContextDefinition.filters.find((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,p.kG)(a,"Attempt to change title of a non-existing filter"),a.attributeFilter.title=r},changeSelectionMode:(e,t)=>{(0,p.kG)(e.filterContextDefinition,"Attempt to edit uninitialized filter context");const{filterLocalId:i,selectionMode:r}=t.payload,a=e.filterContextDefinition.filters.find((e=>(0,n.isDashboardAttributeFilter)(e)&&e.attributeFilter.localIdentifier===i));(0,p.kG)(a,"Attempt to change selection mode of a non-existing filter"),a.attributeFilter.selectionMode=r}},ki=(0,Ei.oM)({name:"filterContext",initialState:{filterContextDefinition:void 0,filterContextIdentity:void 0,attributeFilterDisplayForms:void 0},reducers:Pi}),Ri=ki.reducer,xi=ki.actions;var Li=i(12902),Oi=i(94654);(0,Li.vI)();const Fi={_undo:{undoPointer:-1,undoStack:[]}};function Mi(e){var t;const i=null!==(t=(0,Li.Js)(e))&&void 0!==t?t:function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){return}}(e);return(0,p.kG)(i,"Unexpected value received as state in undo enhancer (not a draft)."),i}const Ni=e=>(t,i)=>{const{undo:r}=i.payload,a=Mi(t),[n,o,l]=(0,Li.aS)(a,(t=>{e(t,i)}));return(0,Li.Uy)(n,(e=>{e._undo.undoPointer++,e._undo.undoStack.push({cmd:r.cmd,redoPatches:o,undoPatches:l})}))},_i=e=>{e._undo=Fi._undo},Hi=Object.assign({layout:void 0,stash:{}},Fi);function Ui(e,t,i){0===t?e.unshift(...i):t<0?e.push(...i):e.splice(t,0,...i)}function Gi(e,t){return 0===t?e.shift():t<0?e.pop():e.splice(t,1)[0]}function ji(e,t){return(0,p.kG)(t<e.length&&t>=-1),t<0?e.length-1:t}function Bi(e,t){return(0,p.kG)(0===t||t<=e.length&&t>=-1),t<0?e.length:t}function zi(e,t,i){h(i)?delete e[t]:e[t]=i}function Wi(e,t){const i=Vi(e,t);if(i)return{sectionIndex:i.sectionIndex,itemIndex:i.itemIndex}}function Vi(e,t){var i;for(let r=0;r<e.sections.length;r++){const a=e.sections[r];for(let e=0;e<a.items.length;e++){const o=a.items[e];if((0,n.areObjRefsEqual)(null===(i=o.widget)||void 0===i?void 0:i.ref,t))return{sectionIndex:r,itemIndex:e,item:o}}}}function Ki(e){const t=e.widget;return(0,n.isInsightWidget)(t)||(0,n.isKpiWidget)(t)}const qi=(e,t)=>{var i;return g(Oi(null===(i=null==e?void 0:e.layout)||void 0===i?void 0:i.sections,(e=>e.items.map((e=>e.widget)))).filter(Boolean)).get(t)},Yi=(e,t)=>{(0,p.kG)(e.layout);const{drillDefinitions:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&((0,n.isKpiWidget)(a)||(0,n.isInsightWidget)(a))),a.drills=null!=i?i:[]},Zi=(e,t)=>{(0,p.kG)(e.layout);const{ref:i,drill:r}=t.payload,a=qi(e,i);(0,p.kG)(a&&(0,n.isKpiWidget)(a)),a.drills=r?[r]:[]},$i={setLayout:(e,t)=>{e.layout=t.payload,_i(e)},updateWidgetIdentities:(e,t)=>{var i,r;(0,p.kG)(e.layout),i=e.layout,r=t.payload,i.sections.forEach((e=>{e.items.forEach((e=>{var t;const i=e.widget;if(!(0,n.isInsightWidget)(i)&&!(0,n.isKpiWidget)(i))return;const{updated:a}=null!==(t=r.get(i.ref))&&void 0!==t?t:{};a&&(i.ref=a.ref,i.uri=a.uri,i.identifier=a.identifier)}))}))},removeIgnoredAttributeFilter:(e,t)=>{(0,p.kG)(e.layout);const{displayFormRefs:i}=t.payload;e.layout.sections.forEach((e=>{e.items.forEach((e=>{const t=e.widget;if((0,n.isInsightWidget)(t)||(0,n.isKpiWidget)(t)){const e=t.ignoreDashboardFilters.filter((e=>!!(0,n.isDashboardDateFilterReference)(e)||void 0===i.find((t=>(0,n.areObjRefsEqual)(t,e.displayForm)))));t.ignoreDashboardFilters=e}}))}))},addSection:Ni(((e,t)=>{(0,p.kG)(e.layout);const{index:i,section:r,usedStashes:a}=t.payload;Ui(e.layout.sections,i,[r]),a.forEach((t=>{delete e.stash[t]}))})),removeSection:Ni(((e,t)=>{(0,p.kG)(e.layout);const{index:i,stashIdentifier:r}=t.payload;if(r){const t=e.layout.sections[i].items;e.stash[r]=t}Gi(e.layout.sections,i)})),moveSection:Ni(((e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,toIndex:r}=t.payload;!function(e,t,i){const r=Gi(e,t);(0,p.kG)(r),Ui(e,i,[r])}(e.layout.sections,i,r)})),changeSectionHeader:Ni(((e,t)=>{(0,p.kG)(e.layout);const{index:i,header:r}=t.payload;e.layout.sections[i].header=r})),addSectionItems:Ni(((e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndex:r,items:a,usedStashes:n}=t.payload,o=e.layout.sections[i];(0,p.kG)(o),Ui(o.items,r,a),n.forEach((t=>{delete e.stash[t]}))})),moveSectionItem:Ni(((e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndex:r,toSectionIndex:a,toItemIndex:n}=t.payload,o=e.layout.sections[i],l=e.layout.sections[a];(0,p.kG)(o),(0,p.kG)(l);const s=Gi(o.items,r);(0,p.kG)(s),Ui(l.items,n,[s])})),removeSectionItem:Ni(((e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndex:r,stashIdentifier:a}=t.payload,n=e.layout.sections[i];(0,p.kG)(n);const o=Gi(n.items,r);(0,p.kG)(o),a&&(e.stash[a]=[o])})),replaceSectionItem:Ni(((e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndex:r,newItems:a,stashIdentifier:n,usedStashes:o}=t.payload,l=e.layout.sections[i];(0,p.kG)(l);const s=Gi(l.items,r);(0,p.kG)(s),n&&(e.stash[n]=[s]),Ui(l.items,r,a),o.forEach((t=>{void 0!==n&&t===n||delete e.stash[t]}))})),replaceWidgetHeader:Ni(((e,t)=>{var i;(0,p.kG)(e.layout);const{header:r,ref:a}=t.payload,o=qi(e,a);(0,p.kG)(o&&((0,n.isKpiWidget)(o)||(0,n.isInsightWidget)(o))),o.title=null!==(i=r.title)&&void 0!==i?i:""})),replaceWidgetDescription:Ni(((e,t)=>{var i;(0,p.kG)(e.layout);const{description:r,ref:a}=t.payload,o=qi(e,a);(0,p.kG)(o&&((0,n.isKpiWidget)(o)||(0,n.isInsightWidget)(o))),o.description=null!==(i=r.description)&&void 0!==i?i:""})),replaceWidgetDrillWithoutUndo:Yi,replaceWidgetDrills:Ni(Yi),replaceWidgetBlacklistHierarchies:Ni(((e,t)=>{(0,p.kG)(e.layout);const{blacklistHierarchies:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&((0,n.isKpiWidget)(a)||(0,n.isInsightWidget)(a))),a.ignoredDrillDownHierarchies=null!=i?i:[]})),replaceInsightWidgetVisProperties:Ni(((e,t)=>{(0,p.kG)(e.layout);const{properties:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&(0,n.isInsightWidget)(a)),zi(a,"properties",i)})),replaceInsightWidgetVisConfiguration:Ni(((e,t)=>{(0,p.kG)(e.layout);const{config:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&(0,n.isInsightWidget)(a)),zi(a,"configuration",i)})),replaceInsightWidgetInsight:Ni(((e,t)=>{(0,p.kG)(e.layout,"State of layout is empty");const{insightRef:i,properties:r,ref:a,header:o,newSize:l}=t.payload,s=qi(e,a),d=Vi(e.layout,a);(0,p.kG)((0,n.isInsightWidget)(s),"IInsightWidget is missing in state"),r&&(s.properties=r),(null==o?void 0:o.title)&&(s.title=o.title),s.insight=i,l&&(null==d?void 0:d.item)&&(d.item.size.xl=function(e,t){const{width:i,height:r}=t,{heightAsRatio:a}=e;let{gridWidth:n=0,gridHeight:o}=e;return i.max&&n>i.max&&(n=i.max),i.min&&n<i.min&&(n=i.min),a||(r.max&&(o||0)>r.max&&(o=r.max),r.min&&(o||0)<r.min&&(o=r.min)),{gridWidth:n,gridHeight:o,heightAsRatio:a}}(d.item.size.xl,l))})),replaceWidgetFilterSettings:Ni(((e,t)=>{(0,p.kG)(e.layout);const{ignoreDashboardFilters:i,dateDataSet:r,ref:a}=t.payload,o=qi(e,a);(0,p.kG)(o&&((0,n.isInsightWidget)(o)||(0,n.isKpiWidget)(o))),o.dateDataSet=r,o.ignoreDashboardFilters=null!=i?i:[]})),replaceWidgetDateDataset:Ni(((e,t)=>{(0,p.kG)(e.layout);const{dateDataSet:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&((0,n.isInsightWidget)(a)||(0,n.isKpiWidget)(a))),a.dateDataSet=i})),replaceKpiWidgetMeasure:Ni(((e,t)=>{(0,p.kG)(e.layout);const{ref:i,measureRef:r}=t.payload,a=qi(e,i);(0,p.kG)(a&&(0,n.isKpiWidget)(a)),a.kpi.metric=r})),replaceKpiWidgetComparison:Ni(((e,t)=>{(0,p.kG)(e.layout);const{ref:i,comparisonType:r,comparisonDirection:a}=t.payload,o=qi(e,i);(0,p.kG)(o&&(0,n.isKpiWidget)(o)),o.kpi.comparisonType=r,o.kpi.comparisonDirection=a})),replaceKpiWidgetDrillWithoutUndo:Zi,replaceKpiWidgetDrill:Ni(Zi),replaceKpiWidgetConfiguration:Ni(((e,t)=>{(0,p.kG)(e.layout);const{config:i,ref:r}=t.payload,a=qi(e,r);(0,p.kG)(a&&(0,n.isKpiWidget)(a)),zi(a,"configuration",i)})),undoLayout:(e,t)=>{const{undoDownTo:i}=t.payload,r=Mi(e),{_undo:a}=r;(0,p.kG)(i<=a.undoStack.length,`invalid undo point ${i} while the undo stack has ${a.undoStack.length} item(s)`);const n=a.undoStack.slice(i);n.reverse();const o=Oi(n,(e=>e.undoPatches)),l=(0,Li.QE)(r,o);return(0,Li.Uy)(l,(e=>{e._undo.undoPointer=i-1,e._undo.undoStack.length=i}))},clearLayoutHistory:_i,changeItemsHeight:(e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndexes:r,height:a}=t.payload,n=e.layout.sections[i];r.forEach((e=>{const t=n.items[e];if(I(t.widget))return;const i=Object.assign(Object.assign({},t.size),{xl:Object.assign(Object.assign({},t.size.xl),{gridHeight:a})});t.size=i}))},changeItemWidth:(e,t)=>{(0,p.kG)(e.layout);const{sectionIndex:i,itemIndex:r,width:a}=t.payload,n=e.layout.sections[i].items[r],o=Object.assign(Object.assign({},n.size),{xl:Object.assign(Object.assign({},n.size.xl),{gridWidth:a})});n.size=o}},Xi=(0,Ei.oM)({name:"layout",initialState:Hi,reducers:$i}),Qi=Xi.reducer,Ji=Xi.actions,er=(0,Ei.oM)({name:"loadingSlice",initialState:{loading:!1},reducers:{setLoadingStart:e=>{e.loading=!0,e.result=void 0,e.error=void 0},setLoadingSuccess:e=>{e.loading=!1,e.result=!0,e.error=void 0},setLoadingError:(e,t)=>{e.loading=!1,e.result=!1,e.error=t.payload}}}),tr=er.reducer,ir=er.actions,rr=(0,Ei.oM)({name:"savingSlice",initialState:{saving:!1},reducers:{setSavingStart:e=>{e.saving=!0,e.result=void 0,e.error=void 0},setSavingSuccess:e=>{e.saving=!1,e.result=!0,e.error=void 0},setSavingError:(e,t)=>{e.saving=!1,e.result=!1,e.error=t.payload}}}),ar=rr.reducer,nr=rr.actions,or=(0,Ei.HF)({selectId:e=>(0,n.serializeObjRef)((0,n.insightRef)(e))}),lr=(0,Ei.oM)({name:"insights",initialState:or.getInitialState(),reducers:{setInsights:or.setAll,addInsights:or.addMany,upsertInsight:or.upsertOne}}),sr=lr.reducer,dr=lr.actions;function cr(e){return(0,Q.gz)(e)}var ur=i(20434),gr=i(82315);const mr={ref:(0,n.idRef)("defaultDateFilterProjectConfig"),selectedOption:"THIS_MONTH",allTime:gr.DateFilterHelpers.defaultDateFilterOptions.allTime,absoluteForm:gr.DateFilterHelpers.defaultDateFilterOptions.absoluteForm,relativeForm:{type:"relativeForm",availableGranularities:["GDC.time.month","GDC.time.date","GDC.time.quarter","GDC.time.year"],localIdentifier:gr.DateFilterHelpers.defaultDateFilterOptions.relativeForm.localIdentifier,name:gr.DateFilterHelpers.defaultDateFilterOptions.relativeForm.name,visible:!0},relativePresets:Object.keys(gr.DateFilterHelpers.defaultDateFilterOptions.relativePreset).reduce(((e,t)=>{const i=gr.DateFilterHelpers.defaultDateFilterOptions.relativePreset[t];return e.push(...i),e}),[]),absolutePresets:[]};var pr=i(7739),hr=i(64721);const fr=e=>e!==n.DateGranularity.week,br=e=>e.granularity!==n.DateGranularity.week;function vr(e){var t;return null!==(t=null==e?void 0:e.visible)&&void 0!==t&&t}function Dr(e){var t;return null!==(t=null==e?void 0:e.some(vr))&&void 0!==t&&t}function yr(e,t=!0){if(!function(e){return vr(e.allTime)||vr(e.absoluteForm)||function(e){var t;return vr(e)&&!h(null!==(t=null==e?void 0:e.availableGranularities)&&void 0!==t?t:[])}(e.relativeForm)||Dr(e.absolutePresets)||Dr(e.relativePresets)}(e))return"NoVisibleOptions";const i=function(e){return[e.allTime,e.absoluteForm,e.relativeForm,...e.absolutePresets||[],...e.relativePresets||[]].filter((e=>void 0!==e))}(e),r=function(e){const t=pr(e,(e=>e.localIdentifier)),i=Object.keys(t).filter((e=>t[e].length>1));return i.length&&console.warn(`There were duplicate localIdentifiers in the date filter config: ${i.join(",")}`),i}(i);return r.length?"ConflictingIdentifiers":!t||function(e){const t=[e.allTime,...e.absolutePresets||[],...e.relativePresets||[]].find((t=>(null==t?void 0:t.localIdentifier)===e.selectedOption));return!!t&&t.visible}(e)?"Valid":"SelectedOptionInvalid"}const Er=["ConflictingIdentifiers","NoVisibleOptions"];var Ir=i(97582);function Cr(e){const{userId:t,locale:i,separators:r,workspace:a}=e;return(0,Ir._T)(e,["userId","locale","separators","workspace"])}const Sr={setDateFilterConfig:(e,t)=>{const{dateFilterConfig:i,effectiveDateFilterConfig:r,isUsingDashboardOverrides:a}=t.payload;e.dateFilterConfig=i,e.effectiveDateFilterConfig=r,e.isUsingDashboardOverrides=a},setDateFilterConfigMode:(e,t)=>{const i=t.payload,r=h(e.dateFilterConfig)?{mode:i,filterName:"Date range"}:Object.assign(Object.assign({},e.dateFilterConfig),{mode:i});e.dateFilterConfig=r},updateDateFilterConfig:(e,t)=>{e.dateFilterConfig=t.payload},addDateFilterConfigValidationWarning:(e,t)=>{e.dateFilterConfigValidationWarnings||(e.dateFilterConfigValidationWarnings=[]),e.dateFilterConfigValidationWarnings.push(t.payload)},clearDateFilterConfigValidationWarning:e=>{e.dateFilterConfigValidationWarnings=[]}},wr=(0,Ei.oM)({name:"dateFilterConfig",initialState:{dateFilterConfig:void 0,effectiveDateFilterConfig:void 0,isUsingDashboardOverrides:void 0,dateFilterConfigValidationWarnings:void 0},reducers:Sr}),Tr=wr.reducer,Ar=wr.actions;var Pr=i(3674);const kr=["dateFilterConfig","locale","separators","colorPalette","settings"],Rr={},xr=e=>((0,p.kG)(e,"cannot sanitize undefined settings"),Object.assign(Object.assign({},e),Rr));function*Lr(e,t,i){yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.VALIDATION.FAILED",ctx:e,correlationId:i,payload:{result:t}}}(e,t,i)),yield(0,Q.gz)(Ar.addDateFilterConfigValidationWarning(t))}function Or(e){const{backend:t,workspace:i}=e;return t.workspace(i).dateFilterConfigs().withLimit(1).query().catch((e=>{console.log("An error has occurred while loading date filter config. Will fall back to default date filter config.",e)}))}function*Fr(e,t,i){var r,a;if(void 0!==t.dateFilterConfig)return t.dateFilterConfig;const n=yield(0,Q.RE)(Or,e);return(null!==(r=null==n?void 0:n.totalCount)&&void 0!==r?r:0)>1&&(yield(0,Q.RE)(Lr,e,"TOO_MANY_CONFIGS",i.correlationId)),(null==n?void 0:n.items[0])||(yield(0,Q.RE)(Lr,e,"NO_CONFIG",i.correlationId)),null!==(a=null==n?void 0:n.items[0])&&void 0!==a?a:mr}function Mr(e,t){return t.settings&&t.locale&&t.separators?Promise.resolve({locale:t.locale,separators:t.separators,settings:t.settings}):function(e){const{backend:t,workspace:i}=e;return t.workspace(i).settings().getSettingsForCurrentUser()}(e).then((e=>{var i,r,a;return{locale:null!==(i=t.locale)&&void 0!==i?i:(0,$.resolveLocale)(e.locale),separators:null!==(r=t.separators)&&void 0!==r?r:e.separators,settings:null!==(a=t.settings)&&void 0!==a?a:Cr(e)}}))}function Nr(e,t){return t.colorPalette?Promise.resolve(t.colorPalette):function(e){const{backend:t,workspace:i}=e;return t.workspace(i).styling().getColorPalette()}(e)}function*_r(e,t){const{payload:{config:i={}}}=t;if(yield(0,Q.gz)(Ar.clearDateFilterConfigValidationWarning()),function(e){if(!e)return!1;const t=Pr(e);return kr.every((e=>hr(t,e)))}(i))return i.allowUnfinishedFeatures||!i.settings?Hr(i):Object.assign(Object.assign({},Hr(i)),{settings:xr(i.settings)});const[r,a,n]=yield(0,Q.$6)([(0,Q.RE)(Fr,e,i,t),(0,Q.RE)(Mr,e,i),(0,Q.RE)(Nr,e,i)]),[o,l]=function(e,t){const i=yr(e),r=hr(Er,i)?mr:e,a=t.enableWeekFilters?r:function(e){var t,i;const{relativeForm:r,relativePresets:a}=e,n=r?{relativeForm:Object.assign(Object.assign({},r),{availableGranularities:null!==(i=null===(t=null==r?void 0:r.availableGranularities)||void 0===t?void 0:t.filter(fr))&&void 0!==i?i:[]})}:{};return Object.assign(Object.assign(Object.assign({},e),n),{relativePresets:null==a?void 0:a.filter(br)})}(r);return[a,i]}(r,a.settings);"Valid"!==l&&(yield(0,Q.RE)(Lr,e,l,t.correlationId));const s=Hr(i);return Object.assign(Object.assign({},s),{locale:a.locale,separators:a.separators,dateFilterConfig:o,settings:s.allowUnfinishedFeatures?a.settings:xr(a.settings),colorPalette:n,mapboxToken:i.mapboxToken})}function Hr(e){var t,i,r,a,n,o,l,s,d,c,u,g,m,p;return Object.assign(Object.assign({},e),{objectAvailability:null!==(t=e.objectAvailability)&&void 0!==t?t:{},isReadOnly:null!==(i=e.isReadOnly)&&void 0!==i&&i,isEmbedded:null!==(r=e.isEmbedded)&&void 0!==r&&r,isExport:null!==(a=e.isExport)&&void 0!==a&&a,isWhiteLabeled:null!==(n=e.isWhiteLabeled)&&void 0!==n&&n,disableDefaultDrills:null!==(o=e.disableDefaultDrills)&&void 0!==o&&o,enableFilterValuesResolutionInDrillEvents:null!==(l=e.enableFilterValuesResolutionInDrillEvents)&&void 0!==l&&l,menuButtonItemsVisibility:null!==(s=e.menuButtonItemsVisibility)&&void 0!==s?s:{},allowUnfinishedFeatures:null!==(d=e.allowUnfinishedFeatures)&&void 0!==d&&d,allowCreateInsightRequest:null!==(c=e.allowCreateInsightRequest)&&void 0!==c&&c,initialRenderMode:null!==(u=e.initialRenderMode)&&void 0!==u?u:"view",hideSaveAsNewButton:null!==(g=e.hideSaveAsNewButton)&&void 0!==g&&g,hideShareButton:null!==(m=e.hideShareButton)&&void 0!==m&&m,widgetsOverlay:null!==(p=e.widgetsOverlay)&&void 0!==p?p:{}})}const Ur=(0,Ei.oM)({name:"config",initialState:{config:void 0},reducers:{setConfig:(e,t)=>{e.config=t.payload}}}),Gr=Ur.reducer,jr=Ur.actions,Br=(0,Ei.oM)({name:"entitlements",initialState:{entitlements:void 0},reducers:{setEntitlements:(e,t)=>{e.entitlements=t.payload}}}),zr=Br.reducer,Wr=Br.actions;var Vr=i(59242),Kr=i(45578),qr=i(67266);const Yr=(e,t)=>e>t?e:t,Zr=e=>{return Object.assign(Object.assign({},e),{from:(t=e.from,i=e.to,t<=i?t:i),to:Yr(e.from,e.to)});var t,i},$r=(e,t)=>{const i=[...e||[],...t||[]].map(Zr);return Kr(i,qr)},Xr=e=>t=>{var i,r,a,n,o,l;if(!e.addPresets)return t;const s=$r(null!==(i=null==t?void 0:t.absolutePresets)&&void 0!==i?i:[],null!==(a=null===(r=e.addPresets)||void 0===r?void 0:r.absolutePresets)&&void 0!==a?a:[]),d=$r(null!==(n=null==t?void 0:t.relativePresets)&&void 0!==n?n:[],null!==(l=null===(o=e.addPresets)||void 0===o?void 0:o.relativePresets)&&void 0!==l?l:[]);return Object.assign(Object.assign(Object.assign({},t),s.length?{absolutePresets:s}:null),d.length?{relativePresets:d}:null)},Qr=e=>t=>i=>{var r;const a=i[e];return a&&a.visible&&t.hideOptions&&(null===(r=t.hideOptions)||void 0===r?void 0:r.includes(a.localIdentifier))?Object.assign(Object.assign({},i),{[e]:Object.assign(Object.assign({},i[e]),{visible:!1})}):i},Jr=Qr("allTime"),ea=Qr("absoluteForm"),ta=Qr("relativeForm"),ia=e=>t=>{var i;if(!(null===(i=t.absolutePresets)||void 0===i?void 0:i.length)||!e.hideOptions)return t;const r=t.absolutePresets.map((t=>{var i;return(null===(i=e.hideOptions)||void 0===i?void 0:i.includes(t.localIdentifier))?Object.assign(Object.assign({},t),{visible:!1}):t}));return Object.assign(Object.assign({},t),{absolutePresets:r})},ra=e=>t=>{var i;const r=e.hideOptions||e.hideGranularities;if(!(null===(i=t.relativePresets)||void 0===i?void 0:i.length)||!r)return t;const a=t.relativePresets.map((t=>((e,t)=>{var i,r;const a=null===(i=t.hideGranularities)||void 0===i?void 0:i.includes(e.granularity),n=null===(r=t.hideOptions)||void 0===r?void 0:r.includes(e.localIdentifier);return a||n||!1})(t,e)?Object.assign(Object.assign({},t),{visible:!1}):t));return Object.assign(Object.assign({},t),{relativePresets:a})},aa=e=>t=>{var i;if(!(null===(i=t.relativeForm)||void 0===i?void 0:i.visible)||!e.hideGranularities)return t;const r=t.relativeForm.availableGranularities.filter((t=>{var i,r;return!(null!==(r=null===(i=e.hideGranularities)||void 0===i?void 0:i.includes(t))&&void 0!==r&&r)})),{relativeForm:a}=t,n=(0,Ir._T)(t,["relativeForm"]);return r.length>0?Object.assign(Object.assign({},t),{relativeForm:Object.assign(Object.assign({},a),{availableGranularities:r})}):n};function*na(e,t,i,r){if(!r)return{config:i,source:"workspace"};const a=function(e,t){return Vr(Xr(t),Jr(t),ea(t),ta(t),aa(t),ia(t),ra(t))(e)}(i,r),n=yr(a,!1);return"Valid"!==n?(yield(0,Q.RE)(Lr,e,n,t.correlationId),{config:i,source:"workspace"}):{config:a,source:"dashboard"}}function oa(e){const{backend:t,workspace:i}=e;return t.workspace(i).permissions().getPermissionsForCurrentUser()}function*la(e,t){const{permissions:i}=t.payload;return i||(yield(0,Q.RE)(oa,e))}const sa=(0,Ei.oM)({name:"permissions",initialState:{permissions:void 0},reducers:{setPermissions:(e,t)=>{e.permissions=t.payload}}}),da=sa.reducer,ca=sa.actions,ua=["GDC.time.day_in_week","GDC.time.day_in_month","GDC.time.day_in_quarter","GDC.time.day_in_year","GDC.time.week_in_quarter","GDC.time.week_in_year","GDC.time.month_in_quarter","GDC.time.month_in_year","GDC.time.quarter_in_year"];function ga(e,t){var i,r,a;const{backend:o,workspace:l}=e,s=null===(i=t.payload.config)||void 0===i?void 0:i.objectAvailability,d={excludeTags:(null!==(r=null==s?void 0:s.excludeObjectsWithTags)&&void 0!==r?r:[]).map((e=>(0,n.idRef)(e))),includeTags:(null!==(a=null==s?void 0:s.includeObjectsWithTags)&&void 0!==a?a:[]).map((e=>(0,n.idRef)(e))),types:["attribute","fact","measure","dateDataset","attributeHierarchy"],includeDateGranularities:ua,loadGroups:!1};return o.workspace(l).catalog().withOptions(d).load()}function ma(e){const{backend:t,workspace:i,dashboardRef:r}=e;return t.capabilities.supportsKpiWidget?t.workspace(i).dashboards().getDashboardWidgetAlertsForCurrentUser(r):Promise.resolve([])}const pa=(0,Ei.oM)({name:"catalog",initialState:{attributes:void 0,measures:void 0,dateDatasets:void 0,facts:void 0,attributeHierarchies:void 0,dateHierarchyTemplates:void 0},reducers:{setCatalogItems:(e,t)=>{const{attributes:i,measures:r,dateDatasets:a,facts:n,attributeHierarchies:o,dateHierarchyTemplates:l}=t.payload;e.attributes=i,e.measures=r,e.facts=n,e.dateDatasets=a,e.attributeHierarchies=o,e.dateHierarchyTemplates=l},addAttributeHierarchy:(e,t)=>{var i;const r=t.payload;e.attributeHierarchies=[...null!==(i=e.attributeHierarchies)&&void 0!==i?i:[],r]},updateAttributeHierarchy:(e,t)=>{var i,r,a;const n=t.payload,o=null!==(r=null===(i=e.attributeHierarchies)||void 0===i?void 0:i.findIndex((e=>e.attributeHierarchy.id===n.attributeHierarchy.id)))&&void 0!==r?r:-1;o>=0&&(e.attributeHierarchies=[...null!==(a=e.attributeHierarchies)&&void 0!==a?a:[]],e.attributeHierarchies.splice(o,1,n))},deleteAttributeHierarchy:(e,t)=>{var i;const r=t.payload;e.attributeHierarchies=null===(i=e.attributeHierarchies)||void 0===i?void 0:i.filter((e=>e.attributeHierarchy.id!==r.attributeHierarchy.id))}}}),ha=pa.reducer,fa=pa.actions,ba=(0,Ei.HF)({selectId:e=>(0,n.objRefToString)(e.ref)}),va=(0,Ei.oM)({name:"alerts",initialState:ba.getInitialState(),reducers:{setAlerts:ba.setAll,addAlert:ba.addOne,updateAlert:ba.updateOne,removeAlert:ba.removeOne,removeAlerts:ba.removeMany}}),Da=va.reducer,ya=va.actions;function Ea(e){const{backend:t}=e;return t.currentUser().getUser()}const Ia=(0,Ei.oM)({name:"user",initialState:{user:void 0},reducers:{setUser:(e,t)=>{e.user=t.payload}}}),Ca=Ia.reducer,Sa=Ia.actions;var wa=i(39693),Ta=i(8804),Aa=i(10928),Pa=i(18446);const ka=e=>{var t;return Ta(((null===(t=null==e?void 0:e.drillContext)||void 0===t?void 0:t.intersection)||[]).map((e=>e.header)).filter(n.isMeasureDescriptor).map($.getMappingHeaderLocalIdentifier))};function Ra(e,t){return e&&t?(i=e,r=function(e){const t=function(e){var t;return((null===(t=null==e?void 0:e.drillContext)||void 0===t?void 0:t.intersection)||[]).map((e=>e.header)).map($.getMappingHeaderLocalIdentifier)}(e);return"table"===e.drillContext.type?[ka(e)||Aa(t)]:t}(t),i.filter((e=>(0,n.isDrillToLegacyDashboard)(e)||(0,n.isCrossFiltering)(e)||r.includes(xa(e))))):[];var i,r}function xa(e){const{origin:t}=e;if((0,n.isLocalIdRef)(t))return t.localIdentifier;if((0,n.isDrillFromMeasure)(t))return La(t.measure);if((0,n.isDrillFromAttribute)(t))return La(t.attribute);throw new Error("InsightDrillDefinition has invalid drill origin")}function La(e){if((0,n.isLocalIdRef)(e))return e.localIdentifier;throw new Error("Invalid ObjRef invariant expecting LocalIdRef")}function Oa(e,t){return!(0,n.isDrillToLegacyDashboard)(e)&&t.some((t=>!(0,n.isDrillToLegacyDashboard)(t)&&Pa(e,t)))}function Fa(e,t){var i,r,a;const n=(null!==(i=e.measures)&&void 0!==i?i:[]).find((e=>e.measure.measureHeaderItem.localIdentifier===t));if(n)return n.attributes;const o=(null!==(r=e.attributes)&&void 0!==r?r:[]).find((e=>e.attribute.attributeHeader.localIdentifier===t));return null!==(a=null==o?void 0:o.intersectionAttributes)&&void 0!==a?a:[]}const Ma={openScheduleEmailDialog:e=>{e.scheduleEmailDialog.open=!0},closeScheduleEmailDialog:e=>{e.scheduleEmailDialog.open=!1},setScheduleEmailDialogDefaultAttachment:(e,t)=>{e.scheduleEmailDialog.defaultAttachmentRef=t.payload},resetScheduleEmailDialogDefaultAttachment:e=>{e.scheduleEmailDialog.defaultAttachmentRef=void 0},openScheduleEmailManagementDialog:e=>{e.scheduleEmailManagementDialog.open=!0},closeScheduleEmailManagementDialog:e=>{e.scheduleEmailManagementDialog.open=!1},openSaveAsDialog:e=>{e.saveAsDialog.open=!0},closeSaveAsDialog:e=>{e.saveAsDialog.open=!1},setFilterBarExpanded:(e,t)=>{e.filterBar.expanded=t.payload},closeKpiAlertDialog:e=>{e.kpiAlerts.openedWidgetRef=void 0},openKpiAlertDialog:(e,t)=>{e.kpiAlerts.openedWidgetRef=t.payload},highlightKpiAlert:(e,t)=>{e.kpiAlerts.highlightedWidgetRef=t.payload},openShareDialog:e=>{e.shareDialog.open=!0},closeShareDialog:e=>{e.shareDialog.open=!1},openDeleteDialog:e=>{e.deleteDialog.open=!0},closeDeleteDialog:e=>{e.deleteDialog.open=!1},openKpiDeleteDialog:(e,t)=>{e.kpiDeleteDialog.widgetCoordinates=t.payload},closeKpiDeleteDialog:e=>{e.kpiDeleteDialog.widgetCoordinates=void 0},setMenuButtonItemsVisibility:(e,t)=>{e.menuButton.itemsVisibility=t.payload},selectWidget:(e,t)=>{e.selectedWidgetRef=t.payload},clearWidgetSelection:e=>{e.selectedWidgetRef=void 0},setConfigurationPanelOpened:(e,t)=>{e.configurationPanelOpened=t.payload},setWidgetDateDatasetAutoSelect:(e,t)=>{e.widgetDateDatasetAutoSelect=t.payload},requestInsightListUpdate:e=>{e.insightListLastUpdateRequested=+new Date},setWidgetLoadingAdditionalDataStarted:(e,t)=>{e.widgetsLoadingAdditionalData.push(t.payload)},setWidgetLoadingAdditionalDataStopped:(e,t)=>{e.widgetsLoadingAdditionalData=e.widgetsLoadingAdditionalData.filter((e=>!(0,n.areObjRefsEqual)(e,t.payload)))},setFilterAttributeSelectionOpen:(e,t)=>{e.filterAttributeSelectionOpen=t.payload},selectFilterIndex:(e,t)=>{e.selectedFilterIndex=t.payload},clearFilterIndexSelection:e=>{e.selectedFilterIndex=void 0},setActiveSectionIndex:(e,t)=>{e.activeSectionIndex=t.payload},clearActiveSectionIndex:e=>{e.activeSectionIndex=void 0},openCancelEditModeDialog:e=>{e.cancelEditModeDialog.open=!0},closeCancelEditModeDialog:e=>{e.cancelEditModeDialog.open=!1},resetInvalidDrillWidgetRefs:e=>{e.drillValidationMessages.invalidDrillWidgetRefs=[]},resetAllInvalidCustomUrlDrillParameterWidgets:e=>{e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets=[]},resetAllInvalidCustomUrlDrillParameterWidgetsWarnings:e=>{e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.map((e=>Object.assign(Object.assign({},e),{showMessage:!1})))},addInvalidDrillWidgetRefs:(e,t)=>{t.payload.forEach((t=>{e.drillValidationMessages.invalidDrillWidgetRefs.some((e=>(0,n.areObjRefsEqual)(e,t)))||e.drillValidationMessages.invalidDrillWidgetRefs.push(t)}))},setInvalidCustomUrlDrillParameterWidgets:(e,t)=>{t.payload.forEach((t=>{const i=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.findIndex((e=>e.widgetId===(0,n.widgetId)(t.widget))),r={drillsWithInvalidParametersLocalIds:t.invalidDrills.map(xa),widgetId:(0,n.widgetId)(t.widget),widgetRef:(0,n.widgetRef)(t.widget),widgetUri:(0,n.widgetUri)(t.widget),showMessage:!0};i>=0?e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets[i]=r:e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.push(r)}))},removeInvalidDrillWidgetRefs:(e,t)=>{e.drillValidationMessages.invalidDrillWidgetRefs=e.drillValidationMessages.invalidDrillWidgetRefs.filter((e=>!t.payload.some((t=>(0,n.areObjRefsEqual)(t,e)))))},resetInvalidCustomUrlDrillParameterWidget:(e,t)=>{t.payload.forEach((t=>{const i=e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.findIndex((e=>e.widgetId===(0,n.widgetId)(t)));i>=0&&e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets.splice(i,1)}))},setDraggingWidgetSource:(e,t)=>{e.draggingWidgetSource=t.payload},clearDraggingWidgetSource:e=>{e.draggingWidgetSource=void 0},setDraggingWidgetTarget:(e,t)=>{e.draggingWidgetTarget=t.payload,e.activeSectionIndex=t.payload.sectionIndex},clearDraggingWidgetTarget:e=>{e.draggingWidgetTarget=void 0,e.activeSectionIndex=void 0},toggleWidgetsOverlay:(e,t)=>{const{visible:i,refs:r}=t.payload;r.forEach((t=>{if(!t)return;const r=(0,n.objRefToString)(t);(e.widgetsOverlay[r]=e.widgetsOverlay[r]||{showOverlay:i}).showOverlay=i}))},setWidgetsOverlay:(e,t)=>{e.widgetsOverlay=t.payload},hideAllWidgetsOverlay:e=>{e.widgetsOverlay=Object.keys(e.widgetsOverlay).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:Object.assign(Object.assign({},e.widgetsOverlay[i]),{showOverlay:!1})})),{})}},Na=(0,Ei.oM)({name:"uiSlice",initialState:{scheduleEmailManagementDialog:{open:!1},scheduleEmailDialog:{open:!1,defaultAttachmentRef:void 0},saveAsDialog:{open:!1},shareDialog:{open:!1},deleteDialog:{open:!1},kpiDeleteDialog:{widgetCoordinates:void 0},cancelEditModeDialog:{open:!1},filterBar:{expanded:!1},kpiAlerts:{highlightedWidgetRef:void 0,openedWidgetRef:void 0},menuButton:{itemsVisibility:{}},selectedWidgetRef:void 0,configurationPanelOpened:!0,widgetDateDatasetAutoSelect:!1,insightListLastUpdateRequested:0,widgetsLoadingAdditionalData:[],filterAttributeSelectionOpen:!1,selectedFilterIndex:void 0,activeSectionIndex:void 0,drillValidationMessages:{invalidDrillWidgetRefs:[],invalidCustomUrlDrillParameterWidgets:[]},draggingWidgetSource:void 0,draggingWidgetTarget:void 0,widgetsOverlay:{}},reducers:Ma}),_a=Na.reducer,Ha=Na.actions,Ua=(0,Ei.oM)({name:"renderModeSlice",initialState:{renderMode:"view"},reducers:{setRenderMode:(e,t)=>{e.renderMode=t.payload},setEditRenderMode:e=>{e.renderMode="edit"},setViewRenderMode:e=>{e.renderMode="view"}}}),Ga=Ua.reducer,ja=Ua.actions;function Ba(e){const{backend:t,workspace:i}=e;return t.workspace(i).dashboards().getDashboards()}const za=(0,Ei.HF)({selectId:e=>(0,n.objRefToString)(e.ref)}),Wa=(0,Ei.oM)({name:"listedDashboards",initialState:za.getInitialState(),reducers:{setListedDashboards:za.setAll,addListedDashboard:za.upsertOne}}),Va=Wa.reducer,Ka=Wa.actions,qa=(0,Ei.oM)({name:"backendCapabilities",initialState:{backendCapabilities:void 0},reducers:{setBackendCapabilities:(e,t)=>{e.backendCapabilities=t.payload}}}),Ya=qa.reducer,Za=qa.actions;var $a=i(69898),Xa=i(53632),Qa=i(6162),Ja=i(15616),en=i(94749),tn=i(84308);const rn="yyyy-MM-dd";function an(e){const t=function(e){return e&&Object.assign(Object.assign({},e),{type:"allTime"})}(e.allTime),i=function(e){return e&&Object.assign(Object.assign({},e),{from:Ja(en(tn(new Date,1)),rn),to:Ja(en(new Date),rn),type:"absoluteForm"})}(e.absoluteForm),r=function(e){return e&&{from:void 0,granularity:e.availableGranularities[0],localIdentifier:e.localIdentifier,name:e.name,to:void 0,type:"relativeForm",visible:e.visible}}(e.relativeForm),a=null==(n=e.absolutePresets)?void 0:n.map((e=>nn(Object.assign(Object.assign({},e),{type:"absolutePreset"}))));var n;const o=function(e){return e&&pr(e.map((e=>nn(Object.assign(Object.assign({},e),{type:"relativePreset"})))),(e=>e.granularity))}(e.relativePresets);return function(e){const{absoluteForm:t,absolutePreset:i,allTime:r,relativeForm:a,relativePreset:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r&&{allTime:r}),t&&{absoluteForm:t}),!h(i)&&{absolutePreset:i}),a&&{relativeForm:a}),!h(n)&&{relativePreset:n})}({allTime:t,absoluteForm:i,absolutePreset:a,relativeForm:r,relativePreset:o})}function nn(e){return Object.assign(Object.assign({},e),{from:Xa([e.from,e.to]),to:Qa([e.from,e.to])})}var on=i(85564);const ln={localIdentifier:"GDC__VIRTUAL_PRESET",name:"",visible:!1};function sn(e){const t=on(o(e.relativePreset));return wa([e.allTime,...e.absolutePreset||[],...t,e.absoluteForm,e.relativeForm])}function dn(e,t){switch(t.dateFilter.type){case"absolute":return un(e.absoluteForm);case"relative":return un(e.relativeForm);default:throw new Error("Unknown dateFilterValue type")}}function cn(e,t){return"absolute"===t.dateFilter.type?{dateFilterOption:Object.assign(Object.assign({},e.absoluteForm),{from:t.dateFilter.from.toString(),to:t.dateFilter.to.toString(),type:"absoluteForm"}),excludeCurrentPeriod:!1}:{dateFilterOption:Object.assign(Object.assign({},e.relativeForm),{from:Number.parseInt(t.dateFilter.from.toString(),10),to:Number.parseInt(t.dateFilter.to.toString(),10),granularity:t.dateFilter.granularity,type:"relativeForm"}),excludeCurrentPeriod:!1}}function un(e){return!!(null==e?void 0:e.visible)}function gn(e,t){return sn(t).find(mn(e))}const mn=e=>t=>{var i,r;if(!t)return!1;const a=e.dateFilter;return(0,gr.isAbsoluteDateFilterOption)(t)?"absolute"===a.type&&t.from===a.from&&t.to===a.to:!!(0,gr.isRelativeDateFilterOption)(t)&&"relative"===a.type&&void 0!==t.from&&t.from.toString()===(null===(i=a.from)||void 0===i?void 0:i.toString())&&void 0!==t.to&&t.to.toString()===(null===(r=a.to)||void 0===r?void 0:r.toString())&&t.granularity===a.granularity};function pn(e){if(!e)return{dateFilterOption:Object.assign(Object.assign({},ln),{type:"allTime"}),excludeCurrentPeriod:!1};const{type:t,from:i,to:r,granularity:a}=e.dateFilter;return"absolute"===t?{dateFilterOption:Object.assign(Object.assign({},ln),{from:i.toString(),to:r.toString(),type:"absolutePreset"}),excludeCurrentPeriod:!1}:{dateFilterOption:Object.assign(Object.assign({},ln),{from:Number.parseInt(i.toString(),10),to:Number.parseInt(r.toString(),10),granularity:a,type:"relativePreset"}),excludeCurrentPeriod:!1}}function hn(e,t=!0){const i=function(e,t){const i=function(e,t){const{selectedOption:i}=e,r=sn(an(e));if(t){const e=r.find((e=>e.localIdentifier===i));if(e&&e.visible&&((0,n.isAllTimeDateFilterOption)(e)||(0,n.isAbsoluteDateFilterPreset)(e)||(0,n.isRelativeDateFilterPreset)(e)))return e}return r.find((e=>e.visible))}(e,t);if(i)return function(e){var t;if(!(0,n.isAllTimeDateFilterOption)(e)){if((0,gr.isAbsoluteDateFilterOption)(e))return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e.from,to:e.to}};if((0,gr.isRelativeDateFilterOption)(e))return{dateFilter:{type:"relative",granularity:null!==(t=e.granularity)&&void 0!==t?t:"GDC.time.date",from:e.from,to:e.to}};throw new p.ej("Unexpected option type when converting date filter option to filter.")}}(i)}(e,t);return{title:"filterContext",description:"",filters:i?[i]:[]}}const fn={title:"",description:"",shareStatus:"private"},bn={descriptor:fn,persistedDashboard:void 0},vn={setMeta:(e,t)=>{const{dashboard:i}=t.payload;e.persistedDashboard=i,e.descriptor=i?{title:i.title,description:i.description,tags:i.tags,shareStatus:i.shareStatus,isUnderStrictControl:i.isUnderStrictControl,isLocked:i.isLocked}:Object.assign({},fn)},setDashboardTitle:(e,t)=>{(0,p.kG)(e.descriptor),e.descriptor.title=t.payload}},Dn=(0,Ei.oM)({name:"meta",initialState:bn,reducers:vn}),yn=Dn.reducer,En=Dn.actions;function In(e){const{filterContext:t}=e;if(t&&!(0,n.isTempFilterContext)(t)&&t.ref)return{ref:t.ref,uri:t.uri,identifier:t.identifier}}var Cn=i(24350),Sn=i(50149),wn=i(74691),Tn=i(14293),An=i(59854);const Pn=12;var kn=i(91966),Rn=i(1469),xn=i(6557);class Ln{constructor(e,t,i){this.sectionFacade=e,this.item=t,this.itemIndex=i}static for(e,t,i){return new Ln(e,t,i)}raw(){return this.item}section(){return this.sectionFacade}index(){return this.itemIndex}indexIs(e){return this.index()===e}isFirst(){return this.indexIs(0)}isLast(){return this.indexIs(this.sectionFacade.items().count()-1)}widget(){return this.item.widget}ref(){if((0,n.isObjRef)(this.item.widget))return this.item.widget}widgetEquals(e){return Pa(this.widget(),e)}widgetIs(e){return this.widget()===e}isEmpty(){return Tn(this.widget())}size(){return this.item.size}sizeForScreen(e){return this.size()[e]}hasSizeForScreen(e){return!Tn(this.sizeForScreen(e))}testRaw(e){return e(this.raw())}test(e){return e(this)}isWidgetItem(){return(0,n.isWidget)(this.widget())}isWidgetDefinitionItem(){return(0,n.isWidgetDefinition)(this.widget())}isKpiWidgetItem(){return(0,n.isKpiWidget)(this.widget())}isKpiWidgetDefinitionItem(){return(0,n.isKpiWidgetDefinition)(this.widget())}isInsightWidgetItem(){return(0,n.isInsightWidget)(this.widget())}isInsightWidgetDefinitionItem(){return(0,n.isInsightWidgetDefinition)(this.widget())}isLayoutItem(){return(0,n.isDashboardLayout)(this.widget())}isCustomItem(){return!(0,n.isDashboardLayoutItem)(this.widget())}isWidgetItemWithRef(e){var t;return!!this.isWidgetItem()&&(0,n.areObjRefsEqual)(null===(t=this.item.widget)||void 0===t?void 0:t.ref,e)}isWidgetItemWithInsightRef(e){var t;return!(!this.isInsightWidgetItem()&&!this.isInsightWidgetDefinitionItem())&&(0,n.areObjRefsEqual)(null===(t=this.item.widget)||void 0===t?void 0:t.insight,e)}isWidgetItemWithKpiRef(e){var t;return!(!this.isKpiWidgetItem()&&!this.isKpiWidgetDefinitionItem())&&(0,n.areObjRefsEqual)(null===(t=this.item.widget)||void 0===t?void 0:t.ref,e)}}class On{constructor(e){this.itemFacades=e}static for(e,t){const i=t.map(((t,i)=>Ln.for(e,t,i)));return new On(i)}raw(){return this.itemFacades.map((e=>e.raw()))}item(e){return this.itemFacades[e]}all(){return this.itemFacades}asGridRows(e){const t=[];let i=0,r=[];return this.itemFacades.forEach((a=>{const n=a.sizeForScreen(e);(0,p.kG)(n,`Item size for ${e} screen is not defined.`),i+n.gridWidth>Pn&&(t.push(r),r=[],i=0),r.push(a),i+=n.gridWidth})),r.length>0&&t.push(r),t}flatMap(e){return Oi(this.itemFacades,e)}count(){return this.itemFacades.length}map(e){return this.itemFacades.map(e)}reduce(e,t){return this.itemFacades.reduce(e,t)}every(e){return this.itemFacades.every(e)}some(e){return this.itemFacades.some(e)}find(e){return this.itemFacades.find(e)}filter(e){return this.itemFacades.filter(e)}}class Fn{constructor(e,t,i){this.layoutFacade=e,this.section=t,this.sectionIndex=i}static for(e,t,i){return new Fn(e,t,i)}raw(){return this.section}header(){return this.section.header}title(){var e;return null===(e=this.header())||void 0===e?void 0:e.title}description(){var e;return null===(e=this.header())||void 0===e?void 0:e.description}index(){return this.sectionIndex}isFirst(){return this.indexIs(0)}isLast(){return this.indexIs(this.layoutFacade.sections().count()-1)}testRaw(e){return e(this.raw())}test(e){return e(this)}indexIs(e){return this.index()===e}headerEquals(e){return Pa(this.header(),e)}hasHeader(){return!Tn(this.header())}hasTitle(){return!Tn(this.title())}hasDescription(){return!Tn(this.description())}titleEquals(e){return Pa(this.title(),e)}descriptionEquals(e){return Pa(this.description(),e)}isEmpty(){return 0===this.items().count()}items(){return On.for(this,this.section.items)}item(e){const t=this.section.items[e];if(t)return Ln.for(this,t,e)}layout(){return this.layoutFacade}}class Mn{constructor(e,t){this.layoutFacade=e,this.sectionFacades=t}static for(e,t){const i=t.map(((t,i)=>Fn.for(e,t,i)));return new Mn(e,i)}raw(){return this.sectionFacades.map((e=>e.raw()))}all(){return this.sectionFacades}section(e){return this.sectionFacades[e]}flatMap(e){return Oi(this.sectionFacades,e)}count(){return this.sectionFacades.length}map(e){return this.sectionFacades.map(e)}reduce(e,t){return this.sectionFacades.reduce(e,t)}every(e){return this.sectionFacades.every(e)}some(e){return this.sectionFacades.some(e)}find(e){return this.sectionFacades.find(e)}filter(e){return this.sectionFacades.filter(e)}}class Nn{constructor(e){this.layout=e}static for(e){return(0,p.kG)((0,n.isDashboardLayout)(e),"Provided data must be IDashboardLayout."),new Nn(e)}sections(){return void 0===this.sectionsCache&&(this.sectionsCache=Mn.for(this,this.layout.sections)),this.sectionsCache}section(e){return this.sections().section(e)}size(){return this.layout.size}raw(){return this.layout}}class _n{constructor(e,t){this.item=e,this.validator=t}build(){return this.item}modify(e){return this.item=e(this).build(),this}validate(){if("function"!=typeof this.validator)throw new Error("Validator was not provided!");return this.validator(this.item),this}}const Hn=(e,t)=>e instanceof Function?e(t):e;class Un extends _n{constructor(){super(...arguments),this.setWidget=e=>(this.item=e(this.item),this),this.setWidgetProp=(e,t)=>(this.setWidget((i=>Object.assign(Object.assign({},i),{[e]:Hn(t,i[e])}))),this),this.title=e=>this.setWidgetProp("title",e),this.description=e=>this.setWidgetProp("description",e),this.ignoreDashboardFilters=e=>this.setWidgetProp("ignoreDashboardFilters",e),this.dateDataSet=e=>this.setWidgetProp("dateDataSet",e),this.ref=e=>this.setWidgetProp("ref",e),this.id=e=>this.setWidgetProp("identifier",e),this.uri=e=>this.setWidgetProp("uri",e)}}class Gn extends Un{constructor(e,t){super(e,t),this.item=e,this.validator=t,this.drills=e=>this.setWidgetProp("drills",e),this.insight=e=>this.setWidgetProp("insight",e),this.properties=e=>this.setWidgetProp("properties",e)}static for(e){return(0,p.kG)((0,n.isInsightWidgetDefinition)(e)||(0,n.isInsightWidget)(e),"Provided data must be IInsightWidget or IInsightWidgetDefinition!"),new Gn(e)}static forNew(e){const t={description:"",drills:[],ignoreDashboardFilters:[],ignoredDrillDownHierarchies:[],title:"",type:"insight",insight:e};return Gn.for(t)}}class jn extends Un{constructor(e,t){super(e,t),this.item=e,this.validator=t,this.setKpiWidgetProp=(e,t)=>(this.setWidget((i=>Object.assign(Object.assign({},i),{kpi:Object.assign(Object.assign({},i.kpi),{[e]:Hn(t,i.kpi[e])})}))),this),this.drills=e=>this.setWidgetProp("drills",e),this.measure=e=>this.setKpiWidgetProp("metric",e),this.comparisonType=e=>this.setKpiWidgetProp("comparisonType",e),this.comparisonDirection=e=>this.setKpiWidgetProp("comparisonDirection",e)}static for(e){return(0,p.kG)((0,n.isKpiWidgetDefinition)(e)||(0,n.isKpiWidget)(e),"Provided data must be IKpiWidget or IKpiWidgetDefinition!"),new jn(e)}static forNew(e){const t={description:"",drills:[],ignoreDashboardFilters:[],title:"",type:"kpi",kpi:{metric:e,comparisonType:"none"}};return jn.for(t)}}class Bn{constructor(e,t,i){this.setSection=e,this.getItemFacade=t,this.itemIndex=i}static for(e,t){var i;return(0,p.kG)((0,n.isDashboardLayoutItem)(null===(i=e.facade().item(t))||void 0===i?void 0:i.raw()),`Provided data must be IDashboardLayoutItem! ${t} ${e.facade().item(t)}`),new Bn((t=>e.setSection(t)),(()=>e.facade().item(t)),t)}size(e){return this.setItem((t=>Object.assign(Object.assign({},t),{size:Hn(e,t.size)}))),this}widget(e){return this.setItem((t=>Object.assign(Object.assign({},t),{widget:Hn(e,t.widget)}))),this}setItem(e){return this.setSection((t=>{const i=[...t.items];return i[this.itemIndex]=Hn(e,this.build()),Object.assign(Object.assign({},t),{items:i})})),this}modify(e){return e(this,this.facade()),this}build(){return this.facade().raw()}facade(){return this.getItemFacade()}newInsightWidget(e,t=xn){return this.widget(t(Gn.forNew(e)).build()),this}modifyInsightWidget(e){const t=this.facade().widget();return(0,p.kG)((0,n.isInsightWidgetDefinition)(t)||(0,n.isInsightWidget)(t),"Content of the item is not a kpi widget."),this.widget(e(Gn.for(t)).build()),this}newKpiWidget(e,t=xn){return this.widget(t(jn.forNew(e)).build()),this}modifyKpiWidget(e){const t=this.facade().widget();return(0,p.kG)((0,n.isKpiWidgetDefinition)(t)||(0,n.isKpiWidget)(t),"Content of the item is not a kpi widget."),this.widget(e(jn.for(t)).build()),this}}class zn{constructor(e,t,i){this.sectionIndex=e,this.getSectionFacade=t,this.setLayout=i,this.removeEmptyItems=()=>this.removeItems((e=>e.filter((e=>e.isEmpty()))))}static for(e,t){var i;return(0,p.kG)((0,n.isDashboardLayoutSection)(null===(i=e.facade().sections().section(t))||void 0===i?void 0:i.raw()),"Provided data must be IDashboardLayoutSection."),new zn(t,(()=>e.facade().section(t)),(t=>e.setLayout(t)))}header(e){return this.setSection((t=>Object.assign(Object.assign({},t),{header:Hn(e,t.header)})))}createItem(e,t=xn,i=this.facade().items().count()){const r={type:"IDashboardLayoutItem",size:{xl:e}};return this.setSection((e=>{const t=[...e.items];return t.splice(i,0,r),Object.assign(Object.assign({},e),{items:t})})),Bn.for(this,i).modify(t),this}addItem(e,t=this.facade().items().count()){return this.setSection((i=>{const r=[...i.items];return r.splice(t,0,e),Object.assign(Object.assign({},i),{items:r})})),this}modifyItem(e,t){const i=this.facade().items().item(e);return(0,p.kG)(i,`Cannot modify the item - item at index ${e} does not exist.`),Bn.for(this,e).modify(t),this}removeItem(e){const t=this.facade().items().item(e);return(0,p.kG)(t,`Cannot remove the item - item at index ${e} does not exist.`),this.setSection((t=>{const i=[...t.items];return i.splice(e,1),Object.assign(Object.assign({},t),{items:i})}))}moveItem(e,t){const i=this.facade().item(e);(0,p.kG)(i,`Cannot move the item - item at index ${e} does not exist.`);const r=Math.min(t,this.facade().items().count()-1);return this.removeItem(e),this.createItem(i.sizeForScreen("xl"),(e=>e.setItem(i.raw())),r),this}removeItems(e=(e=>e.all())){const t=e(this.facade().items());return Rn(t)?this.setSection((e=>{const i=kn(e.items,t.map((e=>e.raw())));return Object.assign(Object.assign({},e),{items:i})})):t&&this.removeItem(t.index()),this}modifyItems(e,t=(e=>e.all())){const i=t(this.facade().items());return Rn(i)?i.forEach((t=>{this.modifyItem(t.index(),e)})):i&&this.modifyItem(i.index(),e),this}setSection(e){return this.setLayout((t=>{const i=[...t.sections];return i[this.sectionIndex]=Hn(e,this.build()),Object.assign(Object.assign({},t),{sections:i})})),this}facade(){return this.getSectionFacade()}modify(e){return e(this,this.facade()),this}build(){return this.facade().raw()}}class Wn{constructor(e,t){this.layoutFacade=e,this.layoutFacadeConstructor=t}static for(e){return(0,p.kG)((0,n.isDashboardLayout)(e),"Provided data must be IDashboardLayout."),new Wn(Nn.for(e),Nn.for)}static forNewLayout(){return Wn.for({type:"IDashboardLayout",sections:[]})}size(e){return this.setLayout((t=>Object.assign(Object.assign({},t),{size:Hn(e,this.facade().size())})))}createSection(e=xn,t=this.facade().sections().count()){const i={type:"IDashboardLayoutSection",items:[]};return this.setLayout((e=>{const r=[...e.sections];return r.splice(t,0,i),Object.assign(Object.assign({},e),{sections:r})})),zn.for(this,t).modify(e),this}addSection(e,t=this.facade().sections().count()){return this.setLayout((i=>{const r=[...i.sections];return r.splice(t,0,e),Object.assign(Object.assign({},i),{sections:r})})),this}modifySection(e,t){const i=this.facade().sections().section(e);return(0,p.kG)(i,`Cannot modify the section - section at index ${e} does not exist.`),zn.for(this,e).modify(t),this}removeSection(e){const t=this.facade().sections().section(e);return(0,p.kG)(t,`Cannot remove the section - section at index ${e} does not exist.`),this.setLayout((t=>{const i=[...t.sections];return i.splice(e,1),Object.assign(Object.assign({},t),{sections:i})}))}moveSection(e,t){var i;const r=null===(i=this.facade().sections().section(e))||void 0===i?void 0:i.raw();(0,p.kG)(r,`Cannot move the section - section at index ${e} does not exist.`);const a=Math.min(t,this.facade().sections().count()-1);return this.removeSection(e),this.createSection((e=>e.setSection(r)),a),this}removeSections(e=(e=>e.all())){const t=e(this.facade().sections());return Rn(t)?this.setLayout((e=>{const i=kn(e.sections,t.map((e=>e.raw())));return Object.assign(Object.assign({},e),{sections:i})})):t&&this.removeSection(t.index()),this}removeEmptySections(){return this.removeSections((e=>e.filter((e=>e.isEmpty()))))}modifySections(e,t=(e=>e.all())){const i=t(this.facade().sections());return Rn(i)?i.forEach((t=>{this.modifySection(t.index(),e)})):i&&this.modifySection(i.index(),e),this}setLayout(e){const t=Hn(e,this.build());return this.layoutFacade=this.layoutFacadeConstructor(t),this}facade(){return this.layoutFacade}modify(e){return e(this,this.facade()),this}build(){return this.layoutFacade.raw()}}const Vn={width:{min:2,default:2},height:{default:8,min:6,max:40}},Kn={width:{min:2,default:2},height:{default:11,min:10,max:40}};function qn(e,t,i){return"kpi"===t?function(e,t){return e.enableKDWidgetCustomHeight?(0,n.isKpi)(t)?(0,n.isKpiWithoutComparison)(t)?Vn:Kn:Sn.KPI_WIDGET_SIZE_INFO_DEFAULT:Sn.KPI_WIDGET_SIZE_INFO_DEFAULT_LEGACY}(e,i):Zn(e,i)}function Yn(e){return Zn(e)}function Zn(e,t){let i;return(0,n.isInsight)(t)&&(i=(0,Sn.getInsightSizeInfo)(t,e)),i||(e.enableKDWidgetCustomHeight?Sn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT:Sn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT_LEGACY)}function $n(e,t,i){return qn(e,t,i).height.min}function Xn(e,t,i){return qn(e,t,i).height.max}function Qn(e,t,i=0){const r=e.filter(n.isDashboardWidget).map((e=>$n({enableKDWidgetCustomHeight:!0},(0,n.widgetType)(e),(0,n.isKpiWidget)(e)?e.kpi:t.get(e.insight))));return Math.max(i,...r)}function Jn(e,t){const i=e.filter(n.isDashboardWidget).map((e=>Xn({enableKDWidgetCustomHeight:!0},(0,n.widgetType)(e),(0,n.isKpiWidget)(e)?e.kpi:t.get(e.insight))));return Math.min(...i)}function eo(e,t,i){return qn(e,t,i).width.min}function to(e,t){return eo({enableKDWidgetCustomHeight:!0},(0,n.widgetType)(e),(0,n.isKpiWidget)(e)?e.kpi:t.get(e.insight))}function io(e,t,i,r){let a,o,l;return(0,n.isWidget)(e)&&(a=(0,n.widgetType)(e)),(0,n.isInsightWidget)(e)&&(o=i.get(e.insight),l=o),(0,n.isKpiWidget)(e)&&(l=e.kpi),t?ro(t)||(t.heightAsRatio?void 0:function(e,t,i){const r=qn(e,t,i);return Sn.fluidLayoutDescriptor.toHeightInPx(r.height.default)}(r,a,l)):void 0}const ro=e=>{const{gridHeight:t}=e;if(t)return ao(t)},ao=e=>20*e,no=["xl","lg","md","sm","xs"],oo={xs:302,sm:622,md:972,lg:1322,xl:1652};function lo(e){if((0,n.isDashboardLayout)(e))return Object.assign(Object.assign({},e),{sections:Nn.for(e).sections().reduce(((e,t)=>(e.push(Object.assign(Object.assign({},t.raw()),{items:lo(t.items().raw())})),e)),[])});const t=e.map((e=>Object.assign(Object.assign({},e),{size:so(e.size.xl)}))),i=no.reduce(((e,t)=>{const i=function(e,t){const i=[];let r=0,a=[];return e.forEach((e=>{const n=e.size[t];if(Tn(n))throw Error("Item size for current screen is undefined");r+n.gridWidth>Pn&&(i.push(a),a=[],r=0),a.push(e),r+=n.gridWidth})),a.length>0&&i.push(a),i}(e,t);return on(i.map((e=>function(e,t){const i=e.map((e=>function(e,t){var i,r;const{gridWidth:a,gridHeight:n,heightAsRatio:o=0}=null!==(r=null===(i=e.size)||void 0===i?void 0:i[t])&&void 0!==r?r:{};return a?n?ao(n):a*o:0}(e,t))),r=Math.max(0,...i);return 0===r?e:e.map((e=>uo(e,t,r)))}(e,t))))}),t);return i}function so(e){const t=e.gridWidth,i=e.gridHeight,r=e.heightAsRatio;switch(t){case 0:return co(0,0,0,0,0,0,0);case 1:return co(r,i,t,t,2,6,12);case 2:return co(r,i,t,t,4,6,12);case 3:case 4:case 5:case 6:case 7:case 8:case 9:return co(r,i,t,t,6,12,12);case 10:case 11:case 12:return co(r,i,t,t,12,12,12);default:(0,p.kG)(!1,`Unsupported xlWidth: ${t}`)}}function co(e,t,i,r,a,n,o){return t?{xl:{gridWidth:i,gridHeight:t},lg:{gridWidth:r,gridHeight:t},md:{gridWidth:a,gridHeight:t},sm:{gridWidth:n,gridHeight:t},xs:{gridWidth:o,gridHeight:t}}:{xl:{gridWidth:i,heightAsRatio:e},lg:{gridWidth:r,heightAsRatio:e},md:{gridWidth:a,heightAsRatio:e},sm:{gridWidth:n,heightAsRatio:e},xs:{gridWidth:o,heightAsRatio:e}}}const uo=(e,t,i)=>{const r=e.size[t],a=(null==r?void 0:r.gridWidth)?An(i/r.gridWidth,2):0;let o=e;return(null==r?void 0:r.gridHeight)||Tn(null==r?void 0:r.heightAsRatio)||(null==r?void 0:r.heightAsRatio)===a||(((0,n.isWidget)(o.widget)||(0,n.isWidgetDefinition)(o.widget))&&(o=Object.assign(Object.assign({},o),{widget:Object.assign({},o.widget)})),o=Object.assign(Object.assign({},o),{size:Object.assign(Object.assign({},o.size),{[t]:Object.assign(Object.assign({},o.size[t]),{heightAsRatio:a})})})),"xs"===t&&a>150&&(o=Object.assign(Object.assign({},o),{size:Object.assign(Object.assign({},o.size),{xs:Object.assign(Object.assign({},o.size.xs),{heightAsRatio:150})})})),o},go=(e,t,i=[])=>{const r=Nn.for(e);return Nn.for(t).sections().reduce(((e,t)=>t.items().reduce(((e,a)=>{const o=r.sections().section(t.index()).items().item(a.index());(0,p.kG)(o);const l=o.widget(),s=a.widget();return(0,n.isDashboardLayout)(l)&&(0,n.isDashboardLayout)(s)?go(l,s,i):(Pa(o.size(),a.size())||!(0,n.isWidget)(s)&&!(0,n.isWidgetDefinition)(s)||e.push([a.section().index(),a.index()]),e)}),e)),i)};function mo(e){return Wn.for(e).modifySections((e=>e.modifyItems(((e,t)=>{const i=t.widget();if((0,n.isDashboardLayout)(i)){const t=mo(i);return e.widget(t)}const r=function(e){const t=e.size.xl,{gridHeight:i}=t,r=(0,Ir._T)(t,["gridHeight"]);return Object.assign(Object.assign({},e),{size:Object.assign(Object.assign({},e.size),{xl:Object.assign({},r)})})}(t.raw());return e.setItem(r)})))).build()}function po(e,t,i,r,a){const n=eo(a,i,r),o=Sn.fluidLayoutDescriptor.gridColumnsCount,l=$n(a,i,r),s=Xn(a,i,r);return{validWidth:void 0!==e?wn(e,n,o):e,validHeight:void 0!==t?wn(t,l,s):t}}function ho(e){const{ref:t,uri:i,identifier:r}=null!=e?e:{};if(t&&i&&r)return{ref:t,uri:i,identifier:r}}function fo(e,t){const i=[];return e.sections.forEach(((e,r)=>{const a=t.sections[r];(0,p.kG)(a),e.items.forEach(((e,t)=>{const r=a.items[t];if((0,p.kG)(r),(0,n.isDashboardLayout)(e.widget))(0,p.kG)((0,n.isDashboardLayout)(r.widget)),i.push(...fo(e.widget,r.widget));else{const t=ho(e.widget),a=ho(r.widget);(0,p.kG)(t&&a),i.push({original:t,updated:a})}}))})),i}function bo(e,t){return i=fo(e,t),new l({type:"insight",strictTypeCheck:!1,idExtract:e=>e.original.identifier,uriExtract:e=>e.original.uri,refExtract:e=>e.original.ref}).fromItems(i);var i}function vo(e,t){const i=e.sections.map((i=>{const r=i.items.map((i=>{if((0,n.isDashboardLayout)(i.widget))return Object.assign(Object.assign({},i),{widget:vo(e,t)});{const e=ho(i.widget);return e&&t(e)?Object.assign(Object.assign({},i),{widget:Object.assign(Object.assign({},i.widget),{ref:void 0,uri:void 0,identifier:void 0})}):i}}));return Object.assign(Object.assign({},i),{items:r})}));return Object.assign(Object.assign({},e),{sections:i})}var Do=i(20573);const yo=(0,Do.createSelector)((e=>e),(e=>e.backendCapabilities)),Eo=(0,Do.createSelector)(yo,(e=>((0,p.kG)(e.backendCapabilities,"attempting to access uninitialized backend capabilities"),e.backendCapabilities))),Io=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsElementsQueryParentFiltering)&&void 0!==t&&t})),Co=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsKpiWidget)&&void 0!==t&&t})),So=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsAccessControl)&&void 0!==t&&t})),wo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsHierarchicalWorkspaces)&&void 0!==t&&t})),To=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsElementUris)&&void 0!==t&&t})),Ao=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.canExportCsv)&&void 0!==t&&t})),Po=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.canExportXlsx)&&void 0!==t&&t})),ko=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsObjectUris)&&void 0!==t&&t})),Ro=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsSettingConnectingAttributes)&&void 0!==t&&t})),xo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsKeepingDependentFiltersSelection)&&void 0!==t&&t})),Lo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsCircularDependencyInFilters)&&void 0!==t&&t})),Oo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.allowMultipleInteractionsPerAttributeAndMeasure)&&void 0!==t&&t})),Fo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsAttributeHierarchies)&&void 0!==t&&t})),Mo=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsSingleSelectDependentFilters)&&void 0!==t&&t})),No=(0,Do.createSelector)(Eo,(e=>{var t;return null!==(t=e.supportsCrossFiltering)&&void 0!==t&&t}));function _o(e,t,i=!1){return c([...Oi(e,(e=>[...e.displayForms,...e.geoPinDisplayForms])),...Oi(t,(e=>Oi(e.dateAttributes,(e=>e.attribute.displayForms))))],i)}var Ho=i(94885);const Uo=(0,Do.createSelector)((e=>e),(e=>e.config)),Go=(0,Do.createSelector)(Uo,(e=>((0,p.kG)(e.config,"attempting to access uninitialized config state"),e.config))),jo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.dateFilterConfig)&&void 0!==t?t:void 0})),Bo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.settings)&&void 0!==t?t:void 0})),zo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.locale)&&void 0!==t?t:void 0})),Wo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.separators)&&void 0!==t?t:void 0})),Vo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.colorPalette)&&void 0!==t?t:void 0})),Ko=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.objectAvailability)&&void 0!==t?t:void 0})),qo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.mapboxToken)&&void 0!==t?t:void 0})),Yo=(0,Do.createSelector)(Go,(e=>{var t,i;return null==e.settings?"Sunday":e.settings.enableNewUIWeekStartChange&&e.settings.weekStartOnMondayEnabled?"Monday":null!==(i=null===(t=e.settings)||void 0===t?void 0:t.weekStart)&&void 0!==i?i:"Sunday"})),Zo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.isReadOnly)&&void 0!==t&&t})),$o=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.isEmbedded)&&void 0!==t&&t})),Xo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.isExport)&&void 0!==t&&t})),Qo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.isWhiteLabeled)&&void 0!==t&&t})),Jo=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.disableDefaultDrills)&&void 0!==t&&t})),el=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.enableFilterValuesResolutionInDrillEvents)&&void 0!==t&&t})),tl=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.hideSaveAsNewButton)&&void 0!==t&&t})),il=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.responsiveUiDateFormat)&&void 0!==i?i:void 0})),rl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardSchedule)&&void 0!==i&&i})),al=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardScheduleRecipients)&&void 0!==i&&i})),nl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.platformEdition)&&void 0!==i?i:"enterprise"})),ol=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableCompanyLogoInEmbeddedUI)&&void 0!==i&&i})),ll=(0,Do.createSelector)(Go,(e=>{var t,i;return null===(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardExportPDF)||void 0===i||i})),sl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDrillToDashboard)&&void 0!==i&&i})),dl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardSaveAsNew)&&void 0!==i&&i})),cl=(0,Do.createSelector)(Go,(e=>{var t,i;return null===(i=null===(t=e.settings)||void 0===t?void 0:t.enableClickableAttributeURL)||void 0===i||i})),ul=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDrillToURL)&&void 0!==i&&i})),gl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDrillToInsight)&&void 0!==i&&i})),ml=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardImplicitDrillDown)&&void 0!==i&&i})),pl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDrillFromAttribute)&&void 0!==i&&i})),hl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.hideKpiDrillInEmbedded)&&void 0!==i&&i})),fl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableInsightExportScheduling)&&void 0!==i&&i})),bl=(0,Do.createSelector)(Go,(e=>{var t,i;return null===(i=null===(t=e.settings)||void 0===t?void 0:t.enableAnalyticalDashboardPermissions)||void 0===i||i})),vl=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKDWidgetCustomHeight)&&void 0!==i&&i})),Dl=(0,Do.createSelector)(Go,(e=>{var t,i;return!(null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableRenamingProjectToWorkspace)&&void 0!==i&&!i)})),yl=(0,Do.createSelector)(Go,(e=>{var t,i;return!(null===(i=null===(t=e.settings)||void 0===t?void 0:t.enableRenamingMeasureToMetric)||void 0===i||!i)})),El=(0,Do.createSelector)(Go,(e=>{var t,i,r,a;const n=null===(i=null===(t=e.settings)||void 0===t?void 0:t.hidePixelPerfectExperience)||void 0===i||i,o=null!==(a=null===(r=e.settings)||void 0===r?void 0:r.enablePixelPerfectExperience)&&void 0!==a&&a;return!n&&o})),Il=(0,Do.createSelector)(Go,(e=>{var t,i;return!(null===(i=null===(t=e.settings)||void 0===t?void 0:t.disableKpiDashboardHeadlineUnderline)||void 0===i||!i)})),Cl=(0,Do.createSelector)(Go,(e=>e.allowUnfinishedFeatures||!1)),Sl=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.allowCreateInsightRequest)&&void 0!==t&&t})),wl=(0,Do.createSelector)(Go,(e=>{var t;return!!(null===(t=e.settings)||void 0===t?void 0:t.analyticalDesigner)})),Tl=(0,Do.createSelector)(Go,(e=>{var t;return!!(null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDeleteFilterButton)})),Al=(0,Do.createSelector)(Go,(e=>{var t;return!!(null===(t=e.settings)||void 0===t?void 0:t.enableKPIDashboardDependentFilters)})),Pl=(0,Do.createSelector)(Go,(e=>{var t;return!!(null===(t=e.settings)||void 0===t?void 0:t.enableAlternativeDisplayFormSelection)})),kl=(0,Do.createSelector)(Go,(e=>{var t;return null!==(t=e.hideShareButton)&&void 0!==t&&t})),Rl=(0,Do.createSelector)(Go,(e=>{var t,i;return null===(i=null===(t=e.settings)||void 0===t?void 0:t.enableAttributeHierarchies)||void 0===i||i})),xl=(0,Do.createSelector)(ml,Rl,((e,t)=>e||t)),Ll=(0,Do.createSelector)(Go,(e=>{var t,i,r,a;return null!==(a=null!==(i=null===(t=e.settings)||void 0===t?void 0:t.showHiddenCatalogItems)&&void 0!==i?i:null===(r=e.settings)||void 0===r?void 0:r.enableUnavailableItemsVisible)&&void 0!==a&&a})),Ol=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKDDependentFilters)&&void 0!==i&&i})),Fl=(0,Do.createSelector)(Ol,Al,((e,t)=>e||t)),Ml=(0,Do.createSelector)(Go,(e=>{var t,i;return null!==(i=null===(t=e.settings)||void 0===t?void 0:t.enableKDCrossFiltering)&&void 0!==i&&i})),Nl=(0,Do.createSelector)((e=>e),(e=>e.catalog)),_l=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.attributes)&&void 0!==t?t:[]})),Hl=(0,Do.createSelector)(_l,Ho(h)),Ul=(0,Do.createSelector)(_l,(e=>Oi(e,(e=>[...e.displayForms,...e.geoPinDisplayForms])))),Gl=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.measures)&&void 0!==t?t:[]})),jl=(0,Do.createSelector)(Gl,Ho(h)),Bl=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.facts)&&void 0!==t?t:[]})),zl=(0,Do.createSelector)(Bl,Ho(h)),Wl=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.dateDatasets)&&void 0!==t?t:[]})),Vl=(0,Do.createSelector)(Wl,Ho(h)),Kl=(0,Do.createSelector)(Wl,(e=>Oi(e,(e=>e.dateAttributes)))),ql=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.attributeHierarchies)&&void 0!==t?t:[]})),Yl=(0,Do.createSelector)(Nl,(e=>{var t;return null!==(t=e.dateHierarchyTemplates)&&void 0!==t?t:[]})),Zl=(0,Do.createSelector)([Yl,Wl,xl,Fo],((e,t,i,r)=>i&&r?function(e,t){const i=[];return t.forEach((t=>{e.forEach((e=>{const r=function(e,t){const i=e.dateAttributes,r=[];if(t.granularities.forEach((e=>{const t=i.find((t=>t.granularity===e));t&&r.push(t.attribute.ref)})),!h(r))return{type:"dateAttributeHierarchy",templateId:t.id,dateDatasetRef:e.dataSet.ref,title:e.dataSet.title,attributes:r}}(t,e);r&&i.push(r)}))})),i}(e,t):[])),$l=(0,Do.createSelector)([ql,Zl],((e,t)=>[...e,...t])),Xl=(0,Do.createSelector)([_l,Kl],((e=[],t=[])=>[...e,...t].filter((e=>e.attribute.drillDownStep)))),Ql=(0,Do.createSelector)([_l,Kl,$l],((e=[],t=[],i=[])=>function(e,t,i){const r=[...e,...t],a={};return r.forEach((e=>{const t=e.attribute.ref;i.forEach((e=>{const i=(0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes,r=i.findIndex((e=>(0,n.areObjRefsEqual)(e,t)));if(r<0)return;const o=i[r+1];if(!o)return;const l=(0,n.objRefToString)(t);a[l]?a[l].push(o):a[l]=[o]}))})),a}(e,t,i))),Jl=(0,Do.createSelector)([_l],((e=[])=>e.filter((e=>e.attribute.drillToAttributeLink)))),es=(0,Do.createSelector)([Wl,Eo],((e,t)=>d(e,t.hasTypeScopedIdentifiers))),ts=(0,Do.createSelector)([_l,Wl,Eo],((e,t,i)=>_o(e,t,i.hasTypeScopedIdentifiers))),is=(0,Do.createSelector)([_l,Wl,Eo],((e,t,i)=>function(e,t=!1){return new l({type:"attribute",strictTypeCheck:t,idExtract:e=>e.attribute.id,uriExtract:e=>e.attribute.uri,refExtract:e=>e.attribute.ref}).fromItems(e)}([...e,...Oi(t,(e=>e.dateAttributes))],i.hasTypeScopedIdentifiers))),rs=(0,Do.createSelector)([Gl,Eo],((e,t)=>function(e,t=!1){return new l({type:"measure",strictTypeCheck:t,idExtract:e=>e.measure.id,uriExtract:e=>e.measure.uri,refExtract:e=>e.measure.ref}).fromItems(e)}(e,t.hasTypeScopedIdentifiers))),as=(0,Do.createSelector)([Wl,Eo],((e,t)=>function(e,t=!1){return new l({type:"attribute",strictTypeCheck:t,idExtract:e=>e.attribute.attribute.id,uriExtract:e=>e.attribute.attribute.uri,refExtract:e=>e.attribute.attribute.ref}).fromItems(e)}(Oi(e,(e=>e.dateAttributes.map((t=>({attribute:t,dataset:e}))))),t.hasTypeScopedIdentifiers)));async function ns(e,t){return t.length?e.backend.workspace(e.workspace).attributes().getAttributeDisplayForms(t):[]}function*os(e,t,i){const r=i||(yield(0,Q.Ys)(ts)),a=[],n=[];t.forEach((e=>{const t=r.get(e);t?a.push(t):n.push(e)}));const o=c(yield(0,Q.RE)(ns,e,n)),l=[];return n.forEach((e=>{const t=o.get(e);t?a.push(t):l.push(e)})),{resolved:c(a),missing:l}}function*ls(e,t,i){const r=t.filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm)),a=yield(0,Q.RE)(os,e,r,i);return(0,p.kG)(h(a.missing),`Unable to resolve display forms used in filter context filters: ${a.missing.map((e=>(0,n.objRefToString)(e))).join(", ")}.`),Array.from(a.resolved.values())}function*ss(){return yield(0,Q.fw)("dashboardContext")}function*ds(){return yield(0,Q.fw)("privateContext")}function cs(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).attributes().getAttributeDisplayForms(t).then((e=>e.map((e=>e.ref))))}const us=(0,Ei.oM)({name:"attributeFilterConfigs",initialState:{attributeFilterConfigs:[]},reducers:{changeMode:(e,t)=>{var i,r;const{localIdentifier:a}=t.payload,n=null===(i=e.attributeFilterConfigs)||void 0===i?void 0:i.find((e=>e.localIdentifier===a));n?(n.mode=t.payload.mode,e.attributeFilterConfigs=[...null!==(r=e.attributeFilterConfigs)&&void 0!==r?r:[]]):e.attributeFilterConfigs=[...e.attributeFilterConfigs||[],t.payload]},setAttributeFilterConfigs:(e,t)=>{const{attributeFilterConfigs:i}=t.payload;e.attributeFilterConfigs=i},removeAttributeFilterConfig:(e,t)=>{var i;e.attributeFilterConfigs=null===(i=e.attributeFilterConfigs)||void 0===i?void 0:i.filter((e=>e.localIdentifier!==t.payload))}}}),gs=us.reducer,ms=us.actions,ps={setDrillableItems:(e,t)=>{e.drillableItems=t.payload},crossFilterByWidget:(e,t)=>{const{payload:i}=t;e.crossFiltering=e.crossFiltering.map((e=>({filterLocalIdentifiers:e.filterLocalIdentifiers.filter((e=>!i.filterLocalIdentifiers.includes(e))),widgetRef:e.widgetRef})));const r=e.crossFiltering.findIndex((e=>(0,n.areObjRefsEqual)(e.widgetRef,i.widgetRef)));-1!==r?e.crossFiltering[r]=i:e.crossFiltering.push(i)},resetCrossFiltering:e=>{e.crossFiltering=[]}},hs=(0,Ei.oM)({name:"drill",initialState:{drillableItems:[],crossFiltering:[]},reducers:ps}),fs=hs.reducer,bs=hs.actions,vs={type:"IDashboardLayout",sections:[]};function Ds(e){return[ya.setAlerts([]),xi.setFilterContext({filterContextDefinition:hn(e),attributeFilterDisplayForms:[]}),Ji.setLayout(vs),dr.setInsights([]),En.setMeta({}),bs.resetCrossFiltering()]}function ys(e,t){const i=(null==t?void 0:t.enableKDDependentFilters)||(null==t?void 0:t.enableKPIDashboardDependentFilters)?e:$a("filters",(e=>e.map((e=>(0,n.isDashboardAttributeFilter)(e)?Object.assign(Object.assign({},e),{attributeFilter:Object.assign(Object.assign({},e.attributeFilter),{filterElementsBy:[]})}):e))),e);return i}function*Es(e,t,i){if(!t||h(t.filters))return t;const r=ys(t,i);if(!e.backend.capabilities.allowsInconsistentRelations)return r;const a=r.filters.filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm)),o=yield(0,Q.RE)(cs,e,a);return $a("filters",(e=>e.filter((e=>!(0,n.isDashboardAttributeFilter)(e)||o.some((t=>(0,n.areObjRefsEqual)(t,e.attributeFilter.displayForm)))))),r)}function*Is(e,t,i,r,a,o,l){var s,d,c,u,g,m;const h=yield(0,Q.RE)(Es,e,t.filterContext,r),f=function(e,t,i){const r=null!=e?e:t;return r.filterContext?Object.assign(Object.assign({},r),{filterContext:ys(r.filterContext,i)}):r}(l,t,r),b=Object.assign(Object.assign({},t),{layout:null!==(s=t.layout)&&void 0!==s?s:vs,filterContext:h}),v=yield(0,Q.RE)(ds),D=null!==(c=null===(d=null==v?void 0:v.existingDashboardTransformFn)||void 0===d?void 0:d.call(v,b))&&void 0!==c?c:b,y=null!==(g=null===(u=null==v?void 0:v.widgetsOverlayFn)||void 0===u?void 0:u.call(v,D))&&void 0!==g?g:{},E=function(e,t){const{filterContext:i}=e;if(!i)return hn(t,!e.ref);if((0,n.isTempFilterContext)(i))return{title:"filterContext",description:"",filters:i.filters};const r=Object.assign({},function(e){const t=e.filters,i=t.filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier)),r=t.map((e=>{if(!(0,n.isDashboardAttributeFilter)(e)||!e.attributeFilter.filterElementsBy)return e;const t=e.attributeFilter.filterElementsBy.filter((e=>-1!==i.indexOf(e.filterLocalIdentifier)));return{attributeFilter:Object.assign(Object.assign({},e.attributeFilter),{filterElementsBy:t})}}));return Object.assign(Object.assign({},e),{filters:r})}(i));return delete r.ref,delete r.uri,delete r.identifier,r}(D,a),I=In(D),C=yield(0,Q.RE)(ls,e,E.filters,o),S=function(e,t,i){const r=Cn(t,(e=>(0,n.serializeObjRef)((0,n.insightRef)(e)))),a=e.sections.map((e=>{const t=wa(e.items.map((e=>function(e,t,i){const{widget:r,size:{xl:a}}=e;if(!r)return void console.log(`Found item ${e} that does not contain any widget. Removing from layout.`);if(!(0,n.isInsightWidget)(r)||!(0,n.isKpiWidget)(r))return e;const{type:o,content:l}=function(e,t){if((0,n.isInsightWidget)(e)){const i=e.insight;return{type:"insight",content:t[(0,n.serializeObjRef)(i)]}}if((0,n.isKpiWidget)(e))return{type:"kpi",content:e.kpi};throw new p.ej(`trying to extract content from unknown widget type ${e.type}`)}(r,t);if(!l)return;const{validWidth:s,validHeight:d}=po(a.gridWidth,a.gridHeight,o,l,i);return Object.assign(Object.assign({},e),{size:{xl:Object.assign(Object.assign({},a),{gridWidth:s,gridHeight:d})}})}(e,r,i))));return Object.assign(Object.assign({},e),{items:t})}));return Object.assign(Object.assign({},e),{sections:a})}(null!==(m=D.layout)&&void 0!==m?m:vs,i,r);return[xi.setFilterContext({originalFilterContextDefinition:E,filterContextDefinition:E,filterContextIdentity:I,attributeFilterDisplayForms:C}),Ji.setLayout(S),En.setMeta({dashboard:f}),ms.setAttributeFilterConfigs({attributeFilterConfigs:t.attributeFilterConfigs}),Ar.updateDateFilterConfig(t.dateFilterConfig),dr.setInsights(i),En.setDashboardTitle(t.title),Ha.clearWidgetSelection(),Ha.setWidgetsOverlay(y),bs.resetCrossFiltering()]}const Cs=(0,Ei.HF)({selectId:e=>e.id}),Ss=(0,Ei.oM)({name:"executionResults",initialState:Cs.getInitialState(),reducers:{upsertExecutionResult:Cs.upsertOne,clearAllExecutionResults:Cs.removeAll}}),ws=Ss.reducer,Ts=Ss.actions,As=(0,Ei.HF)({selectId:e=>(0,n.objRefToString)(e.ref)}),Ps=(0,Ei.oM)({name:"accessibleDashboards",initialState:As.getInitialState(),reducers:{setAccessibleDashboards:As.setAll,addAccessibleDashboard:As.upsertOne}}),ks=Ps.reducer,Rs=Ps.actions;function xs(e){const{backend:t,workspace:i}=e;return t.workspace(i).dashboards().getDashboards({includeAvailableViaLink:!0})}async function Ls(e){const t=await async function(e,t){return function(e){var t;return null!==(t=e.authApiCall)&&void 0!==t?t:Os}(Fs(e))((async e=>{const i=function(e){var t;const i=null===(t=null==e?void 0:e.md)||void 0===t?void 0:t.getProjectDashboards.bind(null==e?void 0:e.md);return null!=i?i:Os}(e);return i(t)}))}(e.backend,e.workspace);return t?t.map((e=>{const{content:t,meta:i}=e.projectDashboard;return{identifier:i.identifier,uri:i.uri,ref:(0,n.uriRef)(i.uri),title:i.title,tabs:t.tabs.map((e=>({identifier:e.identifier,title:e.title})))}})):[]}function Os(){return Promise.resolve()}function Fs(e){return(null==e?void 0:e.decorated)?Fs(e.decorated):e}const Ms=(0,Ei.oM)({name:"legacyDashboards",initialState:{legacyDashboards:void 0},reducers:{setLegacyDashboards:(e,t)=>{e.legacyDashboards=t.payload}}}),Ns=Ms.reducer,_s=Ms.actions;function Hs(e){const{backend:t,workspace:i,dashboardRef:r}=e;return t.workspace(i).dashboards().getDashboardPermissions(r)}const Us=(0,Ei.oM)({name:"dashboardPermissions",initialState:{dashboardPermissions:void 0},reducers:{setDashboardPermissions:(e,t)=>{e.dashboardPermissions=t.payload}}}),Gs=Us.reducer,js=Us.actions;function Bs(e){const{backend:t}=e;return t.entitlements().resolveEntitlements()}function zs(e){const{backend:t,workspace:i}=e;return t.capabilities.supportsAttributeHierarchies?t.workspace(i).attributeHierarchies().getDateHierarchyTemplates():Promise.resolve([])}async function Ws(e,t,i,r){const{backend:a,workspace:o,filterContextRef:l}=e,{preloadedDashboard:s}=t;if(s&&(0,n.areObjRefsEqual)(s.ref,i)){if(r){const t=await async function(e,t){if(!(null==t?void 0:t.layout))return[];const{backend:i,workspace:r}=e,a=[];(0,ur.walkLayout)(t.layout,{widgetCallback:e=>{(0,n.isInsightWidget)(e)&&a.push(e.insight,...e.drills.filter(n.isDrillToInsight).map((e=>e.target)))}});const o=Kr(a,n.serializeObjRef);return Promise.all(o.map((e=>i.workspace(r).insights().getInsight(e))))}(e,s);return{dashboard:s,references:{insights:t,plugins:[]}}}return a.workspace(o).dashboards().getDashboardReferencedObjects(s,["insight"]).then((e=>({dashboard:s,references:e})))}return a.workspace(o).dashboards().getDashboardWithReferences(i,l,{loadUserData:!0},["insight"])}function*Vs(e,t,i){const{backend:r}=e,a=yield(0,Q.RE)(ds),[n,o,l,s,d,c,u,g,m,p,h,f]=yield(0,Q.$6)([(0,Q.RE)(Ws,e,a,i,!!t.payload.persistedDashboard),(0,Q.RE)(_r,e,t),(0,Q.RE)(la,e,t),(0,Q.RE)(Bs,e),(0,Q.RE)(ga,e,t),(0,Q.RE)(ma,e),(0,Q.RE)(Ea,e),(0,Q.RE)(Ba,e),(0,Q.RE)(xs,e),(0,Q.RE)(Ls,e),(0,Q.RE)(Hs,e),(0,Q.RE)(zs,e)]),{dashboard:b,references:{insights:v}}=n,D=yield(0,Q.RE)(na,e,t,o.dateFilterConfig,b.dateFilterConfig),y=yield(0,Q.RE)(Is,e,b,v,o.settings,D.config,function(e,t=!1){return _o(e.attributes(),e.dateDatasets(),t)}(d),t.payload.persistedDashboard);return{batch:Si([Za.setBackendCapabilities(r.capabilities),jr.setConfig(o),Wr.setEntitlements(s),Sa.setUser(u),ca.setPermissions(l),fa.setCatalogItems({attributes:d.attributes(),dateDatasets:d.dateDatasets(),facts:d.facts(),measures:d.measures(),attributeHierarchies:d.attributeHierarchies(),dateHierarchyTemplates:f}),...y,ya.setAlerts(c),Ar.setDateFilterConfig({dateFilterConfig:b.dateFilterConfig,effectiveDateFilterConfig:D.config,isUsingDashboardOverrides:"dashboard"===D.source}),ms.setAttributeFilterConfigs({attributeFilterConfigs:b.attributeFilterConfigs}),Ka.setListedDashboards(g),Rs.setAccessibleDashboards(m),_s.setLegacyDashboards(p),Ha.setMenuButtonItemsVisibility(o.menuButtonItemsVisibility),ja.setRenderMode(o.initialRenderMode),js.setDashboardPermissions(h)],"@@GDC.DASH/BATCH.INIT.EXISTING"),event:ae(e,b,v,o,l,t.correlationId)}}function*Ks(e,t){const{backend:i}=e,[r,a,n,o,l,s,d,c,u]=yield(0,Q.$6)([(0,Q.RE)(_r,e,t),(0,Q.RE)(la,e,t),(0,Q.RE)(Bs,e),(0,Q.RE)(ga,e,t),(0,Q.RE)(Ea,e),(0,Q.RE)(Ba,e),(0,Q.RE)(xs,e),(0,Q.RE)(Ls,e),(0,Q.RE)(zs,e)]);return{batch:Si([Za.setBackendCapabilities(i.capabilities),jr.setConfig(r),Wr.setEntitlements(n),Sa.setUser(l),ca.setPermissions(a),fa.setCatalogItems({attributes:o.attributes(),dateDatasets:o.dateDatasets(),facts:o.facts(),measures:o.measures(),attributeHierarchies:o.attributeHierarchies(),dateHierarchyTemplates:u}),Ka.setListedDashboards(s),Rs.setAccessibleDashboards(d),_s.setLegacyDashboards(c),Ts.clearAllExecutionResults(),...Ds(r.dateFilterConfig),Ar.setDateFilterConfig({dateFilterConfig:void 0,effectiveDateFilterConfig:r.dateFilterConfig,isUsingDashboardOverrides:!1}),Ha.setMenuButtonItemsVisibility(r.menuButtonItemsVisibility),ja.setRenderMode(r.initialRenderMode),js.setDashboardPermissions({canViewDashboard:!0,canShareDashboard:!0,canShareLockedDashboard:!0,canEditDashboard:!0,canEditLockedDashboard:!0})],"@@GDC.DASH/BATCH.INIT.NEW"),event:ae(e,void 0,[],r,a,t.correlationId)}}function qs(e,t={resetDashboard:!0},i){return{type:"GDC.DASH/CMD.CHANGE_RENDER_MODE",correlationId:i,payload:{renderMode:e,renderModeChangeOptions:t}}}function Ys(e){return qs("edit",{resetDashboard:!0},e)}function Zs(e){return qs("view",{resetDashboard:!0},e)}var $s=i(88306);const Xs=e=>$s(e,((...e)=>qr(e,{space:0}))),Qs=(0,Do.createSelector)((e=>e),(e=>e.filterContext)),Js=(0,Do.createSelector)(Qs,(e=>((0,p.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.originalFilterContextDefinition))),ed=(0,Do.createSelector)(Js,(e=>{var t;return null!==(t=null==e?void 0:e.filters)&&void 0!==t?t:[]})),td=(0,Do.createSelector)(Qs,(e=>((0,p.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.filterContextDefinition))),id=(0,Do.createSelector)(Qs,(e=>((0,p.kG)(e.filterContextDefinition,"attempting to access uninitialized filter context state"),e.filterContextIdentity))),rd=(0,Do.createSelector)(Qs,(e=>((0,p.kG)(e.attributeFilterDisplayForms,"attempting to access uninitialized filter context state"),e.attributeFilterDisplayForms))),ad=(0,Do.createSelector)(Qs,(e=>((0,p.kG)(e.attributeFilterDisplayForms,"attempting to access uninitialized filter context state"),c(e.attributeFilterDisplayForms)))),nd=(0,Do.createSelector)(td,(e=>e.filters)),od=(0,Do.createSelector)(nd,(e=>e.filter(n.isDashboardAttributeFilter))),ld=(0,Do.createSelector)(nd,(e=>e.find(n.isDashboardDateFilter))),sd=Xs((e=>(0,Do.createSelector)(ad,od,((t,i)=>{const r=t.get(e);if(r)return i.find((e=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,(0,n.idRef)(r.id,"displayForm"))||(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,(0,n.uriRef)(r.uri))))})))),dd=Xs((e=>(0,Do.createSelector)(od,(t=>t.find((t=>t.attributeFilter.localIdentifier===e)))))),cd=Xs((e=>(0,Do.createSelector)(od,(t=>t.findIndex((t=>t.attributeFilter.localIdentifier===e)))))),ud=Xs((e=>(0,Do.createSelector)(od,Lo,((t,i)=>{(0,p.kG)(!i,"Filter descendants cannot be computed as this backend supports circular dependencies in filters. Do not use this selector.");const r=wa([e]),a=new Set;for(;r.length;){const e=r.pop(),i=t.filter((t=>{var i;return null===(i=t.attributeFilter.filterElementsBy)||void 0===i?void 0:i.some((t=>t.filterLocalIdentifier===e))}));i.forEach((e=>{a.add(e.attributeFilter.localIdentifier),r.push(e.attributeFilter.localIdentifier)}))}return Array.from(a)})))),gd=Xs((e=>(0,Do.createSelector)(od,(t=>t.filter((t=>!(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,e))))))),md=Xs((e=>(0,Do.createSelector)(od,(t=>{const i=t.find((t=>t.attributeFilter.localIdentifier===e));return(0,p.kG)(i,"Unable to find current filter to get its title."),i.attributeFilter.displayForm})))),pd=Xs(((e,t)=>(0,Do.createSelector)(ud(e),Lo,((e,i)=>((0,p.kG)(!i,"No need to compute circular dependencies as this backend supports it in filters. Do not use this selector."),e.some((e=>e===t))))))),hd=(0,Do.createSelector)(od,(e=>e.length<30)),fd=Xs((e=>(0,Do.createSelector)(sd(e),(e=>!h(null==e?void 0:e.attributeFilter.filterElementsBy)))));function bd(e,t){return e?Id(e.filters,t):[]}function vd(e,t){return e?Cd(e.filters,t):[]}function Dd(e){return e.attributeFilter.negativeSelection?(0,n.newNegativeAttributeFilter)(e.attributeFilter.displayForm,e.attributeFilter.attributeElements):(0,n.newPositiveAttributeFilter)(e.attributeFilter.displayForm,e.attributeFilter.attributeElements)}function yd(e,t){return"relative"===e.dateFilter.type?(0,n.newRelativeDateFilter)(t.dateDataSet,e.dateFilter.granularity,Sd(e.dateFilter.from),Sd(e.dateFilter.to)):(0,n.newAbsoluteDateFilter)(t.dateDataSet,e.dateFilter.from.toString(),e.dateFilter.to.toString())}function Ed(e,t){return"relative"===e.dateFilter.type?(0,n.newRelativeDateFilter)(t,e.dateFilter.granularity,Sd(e.dateFilter.from),Sd(e.dateFilter.to)):(0,n.newAbsoluteDateFilter)(t,e.dateFilter.from.toString(),e.dateFilter.to.toString())}function Id(e,t){return e.map((e=>(0,n.isDashboardAttributeFilter)(e)?Dd(e):yd(e,t)))}function Cd(e,t){return e.map((e=>(0,n.isDashboardAttributeFilter)(e)?Dd(e):Ed(e,t)))}function Sd(e){return Wt(e)?Number.parseInt(e):e}function wd(e){return!h(e)&&"gd-kpi-placeholder"===e.customType}const Td="__kpiPlaceholder__";function Ad(){return E(Td,"gd-kpi-placeholder")}function Pd(e){return!h(e)&&"gd-insight-placeholder"===e.customType}const kd="__insightPlaceholder__";function Rd(){return E(kd,"gd-insight-placeholder")}function xd(e){return!h(e)&&"gd-widget-placeholder"===e.customType}function Ld(e){return xd(e)&&!!e.isInitial}function Od(e){return xd(e)&&!!e.isLoading}const Fd="__placeholder__";function Md(){return E(Fd,"gd-widget-placeholder")}function Nd(){return E(Fd,"gd-widget-placeholder",{isInitial:!0})}function _d(){return E(Fd,"gd-widget-placeholder",{isLoading:!0})}function Hd(e){return xd(e)||Pd(e)||wd(e)}const Ud=(0,Do.createSelector)((e=>e),(e=>e.drill)),Gd=(0,Do.createSelector)(Ud,(e=>e.drillableItems)),jd=(0,Do.createSelector)(Ud,(e=>e.crossFiltering)),Bd=(0,Do.createSelector)(jd,(e=>e.flatMap((e=>e.filterLocalIdentifiers)))),zd=Xs((e=>(0,Do.createSelector)(jd,(t=>{var i;return null===(i=t.find((t=>(0,n.areObjRefsEqual)(e,t.widgetRef))))||void 0===i?void 0:i.filterLocalIdentifiers})))),Wd=(0,Do.createSelector)((e=>e),(e=>e.layout)),Vd=(0,Do.createSelector)(Wd,(e=>e.stash)),Kd=(0,Do.createSelector)(Wd,(e=>function(e){const t=[];let i="";const r=new Set;return e._undo.undoStack.forEach(((e,a)=>{const{cmd:n,cmd:{meta:{uuid:o}={}}}=e;(0,p.kG)(o),i!==o&&((0,p.kG)(!r.has(o),"jackpot winner "),t.unshift({cmd:n,firstOccurrenceOnStack:a}),i=o,r.add(o))})),t}(e))),qd=(0,Do.createSelector)(Wd,(e=>((0,p.kG)(e.layout,"attempting to access uninitialized layout state"),e.layout))),Yd=(0,Do.createSelector)(qd,(e=>Object.assign(Object.assign({},e),{sections:e.sections.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter(Ki)}))).filter((e=>!h(e.items)))}))),Zd=(0,Do.createSelector)(qd,(e=>{const t=[];for(const i of e.sections)for(const e of i.items)e.widget&&t.push(e.widget);return t})),$d=(0,Do.createSelector)(Zd,(e=>g(e))),Xd=Xs((e=>(0,Do.createSelector)($d,(t=>{if(e)return t.get(e)})))),Qd=Xs((e=>(0,Do.createSelector)($d,(t=>{if(!e)return;const i=t.get(e);return i&&!I(i)?i:void 0})))),Jd=Xs((e=>(0,Do.createSelector)(Qd(e),(e=>{var t;return null!==(t=null==e?void 0:e.ignoredDrillDownHierarchies)&&void 0!==t?t:[]})))),ec=Xs((e=>(0,Do.createSelector)(Qd(e),(e=>{var t;return null!==(t=null==e?void 0:e.drills)&&void 0!==t?t:[]})))),tc=Xs((e=>(0,Do.createSelector)(Xd(e),nd,zd(e),((t,i,r)=>((0,p.kG)(t,`widget with ref ${(0,n.objRefToString)(e)} does not exist in the state`),Id(i.filter((e=>!(0,n.isDashboardAttributeFilter)(e)||!(null==r?void 0:r.includes(e.attributeFilter.localIdentifier)))),t)))))),ic=(0,Do.createSelector)($d,(e=>Array.from(e.values()))),rc=(0,Do.createSelector)(ic,(e=>0===e.length)),ac=(0,Do.createSelector)(ic,(e=>e.filter(n.isKpiWidget))),nc=(0,Do.createSelector)(ic,(e=>e.filter(n.isInsightWidget))),oc=(0,Do.createSelector)(ic,(e=>e.filter(I))),lc=(0,Do.createSelector)(ic,(e=>e.filter((e=>!I(e))))),sc=(0,Do.createSelector)(lc,(e=>e.length>0)),dc=Xs((e=>(0,Do.createSelector)(qd,(t=>{const i=Wi(t,e);return(0,p.kG)(i,`widget with ref ${(0,n.objRefToString)(e)} does not exist in the state`),i})))),cc=(0,Do.createSelector)(oc,(e=>e.find(xd))),uc=(0,Do.createSelector)(cc,qd,((e,t)=>e?Wi(t,e.ref):void 0)),gc=(0,Do.createSelector)(oc,(e=>e.find(Pd))),mc=(0,Do.createSelector)(gc,qd,((e,t)=>e?Wi(t,e.ref):void 0)),pc=(0,Do.createSelector)(oc,(e=>e.find(wd))),hc=(0,Do.createSelector)(pc,qd,((e,t)=>e?Wi(t,e.ref):void 0));var fc=i(52353);const bc=(0,Do.createSelector)((e=>e),(e=>e.renderMode)),vc=(0,Do.createSelector)(bc,(e=>e.renderMode)),Dc=(0,Do.createSelector)(vc,(e=>"view"===e)),yc=(0,Do.createSelector)(vc,(e=>"edit"===e)),Ec=(0,Do.createSelector)((e=>e),(e=>e.dateFilterConfig)),Ic=(0,Do.createSelector)(Ec,(e=>{var t;return null!==(t=e.dateFilterConfig)&&void 0!==t?t:void 0})),Cc=(0,Do.createSelector)(Ec,(e=>((0,p.kG)(e.effectiveDateFilterConfig,"attempting to access uninitialized date filter config state"),e.effectiveDateFilterConfig))),Sc=(0,Do.createSelector)(Cc,(e=>an(e))),wc=(0,Do.createSelector)(Cc,(e=>{var t,i;return null!==(i=null===(t=e.relativeForm)||void 0===t?void 0:t.availableGranularities)&&void 0!==i?i:[]})),Tc=(0,Do.createSelector)(Ec,(e=>((0,p.kG)(void 0!==e.isUsingDashboardOverrides,"attempting to access uninitialized date filter config state"),e.isUsingDashboardOverrides))),Ac=(0,Do.createSelector)(Tc,Ic,((e,t)=>{if(e)return(0,p.kG)(void 0!==t),t.filterName})),Pc=(0,Do.createSelector)(yc,Ic,((e,t)=>{var i;return e?"active":null!==(i=null==t?void 0:t.mode)&&void 0!==i?i:"active"})),kc=(0,Do.createSelector)(Ec,(e=>{var t;return null!==(t=e.dateFilterConfigValidationWarnings)&&void 0!==t?t:[]})),Rc=(0,Do.createSelector)((e=>e),(e=>e.attributeFilterConfigs)),xc=(0,Do.createSelector)(Rc,(e=>{var t;return null!==(t=null==e?void 0:e.attributeFilterConfigs)&&void 0!==t?t:[]})),Lc=(0,Do.createSelector)(xc,(e=>e.reduce(((e,t)=>{var i;return e.set(t.localIdentifier,null!==(i=t.mode)&&void 0!==i?i:n.DashboardAttributeFilterConfigModeValues.ACTIVE),e}),new Map))),Oc=(0,Do.createSelector)(yc,xc,((e,t)=>t.reduce(((t,i)=>{const r=e||!i.mode?n.DashboardAttributeFilterConfigModeValues.ACTIVE:i.mode;return t.set(i.localIdentifier,r),t}),new Map))),Fc=(0,Do.createSelector)((e=>e),(e=>e.meta)),Mc=(0,Do.createSelector)(Fc,(e=>((0,p.kG)(e.descriptor,"attempting to access uninitialized meta state"),e.descriptor))),Nc=(0,Do.createSelector)(Fc,(e=>{var t;return null!==(t=e.persistedDashboard)&&void 0!==t?t:void 0})),_c=(0,Do.createSelector)(Fc,(e=>{var t,i;return null!==(i=null===(t=e.persistedDashboard)||void 0===t?void 0:t.filterContext)&&void 0!==i?i:void 0})),Hc=(0,Do.createSelector)(Fc,(e=>{var t,i;return null!==(i=null===(t=e.persistedDashboard)||void 0===t?void 0:t.dateFilterConfig)&&void 0!==i?i:void 0})),Uc=(0,Do.createSelector)(_c,(e=>{if(e){if((0,n.isTempFilterContext)(e)){const{ref:t,uri:i}=e,r=(0,Ir._T)(e,["ref","uri"]);return Object.assign(Object.assign({},r),{title:"filterContext",description:""})}{const{identifier:t,ref:i,uri:r}=e;return(0,Ir._T)(e,["identifier","ref","uri"])}}})),Gc=(0,Do.createSelector)(Nc,(e=>{var t;return null!==(t=null==e?void 0:e.ref)&&void 0!==t?t:void 0})),jc=(0,Do.createSelector)(Nc,(e=>{var t;return null!==(t=null==e?void 0:e.identifier)&&void 0!==t?t:void 0})),Bc=(0,Do.createSelector)(Nc,(e=>{var t;return null!==(t=null==e?void 0:e.uri)&&void 0!==t?t:void 0})),zc=(0,Do.createSelector)(jc,(e=>e?(0,n.idRef)(e,"analyticalDashboard"):void 0)),Wc=(0,Do.createSelector)(Bc,(e=>e?(0,n.uriRef)(e):void 0)),Vc=(0,Do.createSelector)(Gc,fc),Kc=(0,Do.createSelector)(Mc,(e=>e.title)),qc=(0,Do.createSelector)(Mc,(e=>e.description)),Yc=(0,Do.createSelector)(Mc,(e=>{var t;return null!==(t=e.tags)&&void 0!==t?t:[]})),Zc=(0,Do.createSelector)(Mc,(e=>e.shareStatus)),$c=(0,Do.createSelector)(Zc,(e=>"private"===e)),Xc=(0,Do.createSelector)(Mc,(e=>{var t;return null!==(t=e.isLocked)&&void 0!==t&&t})),Qc=(0,Do.createSelector)(Mc,(({shareStatus:e,isLocked:t})=>({shareStatus:e,isLocked:t}))),Jc=(0,Do.createSelector)(_c,(e=>null==e?void 0:e.filters)),eu=(0,Do.createSelector)(Jc,(e=>(null!=e?e:[]).find(n.isDashboardDateFilter))),tu=(0,Do.createSelector)(Jc,(e=>(null!=e?e:[]).filter(n.isDashboardAttributeFilter))),iu=(0,Do.createSelector)(Fc,(e=>{var t;return null===(t=e.persistedDashboard)||void 0===t?void 0:t.title})),ru=(0,Do.createSelector)(Fc,(e=>{var t;return null===(t=e.persistedDashboard)||void 0===t?void 0:t.layout})),au=(0,Do.createSelector)(Fc,(e=>{var t;return(null===(t=e.persistedDashboard)||void 0===t?void 0:t.attributeFilterConfigs)||[]})),nu=(0,Do.createSelector)(au,xc,((e,t)=>!Pa(e,t))),ou=(0,Do.createSelector)(eu,ld,((e,t)=>!Pa(e,t))),lu=(0,Do.createSelector)(Hc,Ic,((e,t)=>!Pa(e,t))),su=(0,Do.createSelector)(tu,od,((e,t)=>!Pa(e,t))),du=(0,Do.createSelector)(ou,su,nu,((e,t,i)=>e||t||i)),cu=(0,Do.createSelector)(iu,Kc,((e,t)=>t!==e)),uu=(0,Do.createSelector)(ru,Yd,((e,t)=>!Pa(t,e))),gu=(0,Do.createSelector)(Vc,Yd,du,cu,uu,lu,((e,t,i,r,a,n)=>e?!(0,ur.isDashboardLayoutEmpty)(t):[i,r,a,n].some(Boolean))),mu=(0,Do.createSelector)(Nc,Mc,td,id,Yd,Ic,((e,t,i,r,a,n)=>{const o={ref:null==e?void 0:e.ref,uri:null==e?void 0:e.uri,identifier:null==e?void 0:e.identifier},l=(null==e?void 0:e.plugins)?{plugins:e.plugins}:{};return Object.assign(Object.assign(Object.assign(Object.assign({type:"IDashboard"},t),o),{filterContext:Object.assign(Object.assign({},r),i),layout:a,dateFilterConfig:n}),l)})),pu="@@GDC.DASH.TEMP";function hu(e){return e.identifier.startsWith(pu)}function fu(e){return e.map((e=>{if(!(0,n.isDashboardLayoutItem)(e))return e;if((0,n.isInsightWidgetDefinition)(e.widget)||(0,n.isKpiWidgetDefinition)(e.widget)||C(e.widget)){const t=function(){const e=`${pu}-${(0,J.Z)()}`;return{ref:(0,n.idRef)(e),identifier:e,uri:e}}();return Object.assign(Object.assign({},e),{widget:Object.assign(Object.assign({},e.widget),t)})}return e}))}var bu=i(87185);const vu=or.getSelectors((e=>e.insights)).selectAll,Du=(0,Do.createSelector)(vu,(e=>e.map(n.insightRef))),yu=(0,Do.createSelector)(vu,Eo,((e,t)=>m(e,t.hasTypeScopedIdentifiers))),Eu=Xs((e=>(0,Do.createSelector)(yu,(t=>e&&t.get(e))))),Iu=Xs((e=>(0,Do.createSelector)(Xd(e),yu,((e,t)=>t.get(null==e?void 0:e.insight)))));async function Cu(e,t){const{backend:i,workspace:r}=e,a=await Promise.all(t.map((e=>i.workspace(r).insights().getInsight(e).catch((t=>e)))));return{loaded:a.filter(n.isInsight),missing:a.filter(n.isObjRef)}}function*Su(e,t){const i=yield(0,Q.Ys)(yu),r=[],a=[];t.forEach((e=>{const t=i.get(e);t?r.push(t):a.push(e)}));const n=yield(0,Q.RE)(Cu,e,a);return{resolved:m([...r,...n.loaded]),loaded:n.loaded,missing:n.missing}}function*wu(e,t){const i=yield(0,Q.RE)(Tu,e);return{batch:Si(i.batch,"@@GDC.DASH/RESET"),reset:ce(e,i.persistedDashboard,t.correlationId)}}function*Tu(e){const t=yield(0,Q.Ys)(Nc);let i=[];if(t){const r=function(e){const t=[];return e&&(0,ur.walkLayout)(e,{widgetCallback:e=>{(0,n.isInsightWidget)(e)&&(t.push(e.insight),e.drills.forEach((e=>{(0,n.isDrillToInsight)(e)&&t.push(e.target)})))}}),t}(t.layout),a=bu(r,n.areObjRefsEqual),o=yield(0,Q.RE)(Su,e,a),l=yield(0,Q.Ys)(Bo),s=yield(0,Q.Ys)(Cc),d=Array(...o.resolved.values());i=yield(0,Q.RE)(Is,e,t,d,l,s)}else i=Ds(yield(0,Q.Ys)(jo));return{batch:i,persistedDashboard:t}}var Au=i(69893),Pu=i(8705);function ku(e,t){const i=[];let r=null;for(;null!==(r=e.exec(t));)i.push(r);return i}const Ru=/\{attribute_title\((.*?)\)\}/g,xu=/\{dash_attribute_filter_selection\((.*?)\)\}/g,Lu=/\{attribute_filter_selection\((.*?)\)\}/g,Ou=e=>({placeholder:e[0],identifier:e[1],ref:(0,Pu.Ii)(e[1],"displayForm"),toBeEncoded:0!==e.index}),Fu=e=>ku(Ru,e).map(Ou),Mu=e=>ku(xu,e).map(Ou),Nu=e=>ku(Lu,e).map(Ou);function _u(e,t,i){var r,a;return Fa(t,La((0,n.isDrillFromAttribute)(e.origin)?null===(r=e.origin)||void 0===r?void 0:r.attribute:null===(a=e.origin)||void 0===a?void 0:a.measure)).some((e=>(0,n.areObjRefsEqual)(i.attribute,e.attributeHeader.formOf)))}function Hu(e,t=[]){return t.some((t=>t.localIdentifier===e.localIdentifier))}function Uu(e){return Oi(e.filter(Au.b(n.isDrillToCustomUrl,n.isDrillToAttributeUrl)).map((e=>(0,n.isDrillToCustomUrl)(e)?Fu(e.target.url).map((e=>(0,n.idRef)(e.identifier,"displayForm"))):[e.target.displayForm,e.target.hyperlinkDisplayForm])))}const Gu=(0,Ei.HF)({selectId:e=>(0,n.serializeObjRef)(ju(e))}),ju=e=>({uri:e.uri,identifier:e.identifier}),Bu=Gu.getSelectors((e=>e.drillTargets)).selectAll,zu=(0,Do.createSelector)(Bu,(e=>g(e))),Wu=$s((e=>(0,Do.createSelector)(zu,(t=>t.get(e)))),n.serializeObjRef),Vu=(0,Do.createSelector)((e=>e),(e=>e.accessibleDashboards)),Ku=As.getSelectors(Vu).selectAll,qu=(0,Do.createSelector)(Ku,(e=>g(e))),Yu=(0,Ei.HF)({selectId:e=>(0,n.objRefToString)(e.ref)}),Zu=(0,Do.createSelector)((e=>e),(e=>e.inaccessibleDashboards)),$u=Yu.getSelectors(Zu).selectAll,Xu=(0,Do.createSelector)($u,(e=>g(e)));function Qu(e,t,i,r){var a;let o=e;if(!(null===(a=t.drillTargets)||void 0===a?void 0:a.availableDrillTargets))throw ve(i,r,"Drill targets not set");try{o=function(e,t){const{origin:i}=e;if((0,n.isDrillFromMeasure)(i)){const i=xa(e);if(!(t.measures||[]).some((e=>e.measure.measureHeaderItem.localIdentifier===i)))throw new Error("InsightDrillDefinition origin is not valid measure drillTarget")}if((0,n.isDrillFromAttribute)(i)){const i=xa(e);if(!(t.attributes||[]).some((e=>e.attribute.attributeHeader.localIdentifier===i)))throw new Error("InsightDrillDefinition origin is not valid attribute drillTarget")}return e}(o,t.drillTargets.availableDrillTargets)}catch(e){throw ve(i,r,`Invalid drill origin for InsightDrillDefinition. Error: ${e.message}`)}const l={dashboardsMap:t.accessibleDashboardMap,insightsMap:t.resolvedInsights.resolved,displayFormsMap:t.resolvedDisplayForms.resolved,availableDrillTargets:t.drillTargets.availableDrillTargets,inaccessibleDashboardsMap:t.inaccessibleDashboardsMap};try{o=function(e,t){if((0,n.isDrillToDashboard)(e))return function(e,t){const{target:i}=e;if(!i)return e;{let r;const a=t.dashboardsMap.get(i)||t.inaccessibleDashboardsMap.get(i);if(a&&(r=Object.assign(Object.assign({},e),{target:(0,n.idRef)(a.identifier,"analyticalDashboard")})),r)return r}throw Error("Unknown target dashboard")}(e,t);if((0,n.isDrillToInsight)(e))return function(e,t){const{target:i}=e;let r;if(i){const a=t.insightsMap.get(i);a&&(r=Object.assign(Object.assign({},e),{target:a.insight.ref}))}if(r)return r;throw Error("Unknown target Insight")}(e,t);if((0,n.isDrillToCustomUrl)(e))return function(e,t){return Uu([e]).forEach((e=>{if(!t.displayFormsMap.get(e))throw new Error(`Cannot find AttributeDisplayForm definition specified by identifier: ${(0,n.objRefToString)(e)}`)})),e}(e,t);if((0,n.isDrillToAttributeUrl)(e))return function(e,t){if(!t.displayFormsMap.get(e.target.displayForm))throw new Error(`Cannot find target displayForm: ${(0,n.objRefToString)(e.target.displayForm)}`);const i=t.displayFormsMap.get(e.target.hyperlinkDisplayForm);if(!i)throw new Error(`Cannot find target hyperlinkDisplayForm: ${(0,n.objRefToString)(e.target.hyperlinkDisplayForm)}`);if("GDC.link"!==i.displayFormType)throw new Error("DisplayFormType of target hyperlinkDisplayForm type has to be GDC.link");if(!_u(e,t.availableDrillTargets,i))throw new Error(`The hyperlinkDisplayForm ${(0,n.objRefToString)(i.ref)} in not a valid drill target`);return e}(e,t);throw new Error("Can not validate unknown drillDefinition")}(o,l)}catch(e){throw ve(i,r,`Invalid InsightDrillDefinition. Error: ${e.message}`)}return o}function*Ju(e,t,i){const r=Wu(e),a=yield(0,Q.Ys)(r),o=yield(0,Q.Ys)(qu),l=yield(0,Q.Ys)(Xu),s=t.filter(n.isDrillToInsight).map((e=>e.target)),d=yield(0,Q.RE)(Su,i,s),c=Uu(t);return{drillTargets:a,accessibleDashboardMap:o,resolvedInsights:d,resolvedDisplayForms:yield(0,Q.RE)(os,i,c),inaccessibleDashboardsMap:l}}function*eg(e,t,i){const r=(yield(0,Q.$6)(i.filter(n.isInsightWidget).map((i=>(0,Q.RE)(ig,e,t,i))))).filter((({invalidDrills:e})=>e.length>0));0===r.length?yield(0,Q.gz)(Ha.removeInvalidDrillWidgetRefs(i.map(n.widgetRef))):(yield(0,Q.$6)(r.map((i=>(0,Q.RE)(tg,e,t,i.widget,i.invalidDrills)))),yield(0,Q.gz)(Ha.addInvalidDrillWidgetRefs(r.map((e=>e.widget.ref)))))}function*tg(e,t,i,r){const a=i.drills.filter((e=>!Hu(e,r)));yield(0,Q.gz)(Ji.replaceWidgetDrillWithoutUndo({ref:(0,n.widgetRef)(i),drillDefinitions:a})),yield(0,Q.gz)(ut(e,(0,n.widgetRef)(i),r,t.correlationId))}function*ig(e,t,i){const r=yield(0,Q.RE)(Ju,(0,n.widgetRef)(i),i.drills,e);return r.drillTargets?{invalidDrills:Oi(i.drills,(i=>{try{return Qu(i,r,e,t),[]}catch(e){return[i]}})),widget:i}:{invalidDrills:[],widget:i}}function rg(e,t,i){return{type:"GDC.DASH/QUERY.WIDGET.FILTERS",correlationId:i,payload:{widgetRef:e,insight:t}}}function ag(e,t){return{type:"GDC.DASH/QUERY.WIDGET.BROKEN_ALERTS",correlationId:t,payload:{widgetRef:e}}}function ng(e,t){return{type:"GDC.DASH/QUERY.WIDGET.ALERT_COUNT",correlationId:t,payload:{widgetRef:e}}}var og=i(17204);const lg="__Q";function sg(e,t,i=!1){var r,a,n;return{type:`${lg}(${e.type})`,query:e,refresh:i,onError:null!==(r=null==t?void 0:t.onError)&&void 0!==r?r:K,onStart:null!==(a=null==t?void 0:t.onStart)&&void 0!==a?a:K,onSuccess:null!==(n=null==t?void 0:t.onSuccess)&&void 0!==n?n:K}}function dg(e,t=!1){const i={};return{promise:new Promise(((e,t)=>{i.onSuccess=e,i.onError=t})),envelope:sg(e,i,t)}}function*cg(e,t,i){var r;const{query:a,query:{type:n,correlationId:o}}=i,l=null!=o?o:"(no correlationId provided)";try{try{i.onStart(a)}catch(e){console.warn(`An error has occurred while calling onStart function provided for ${n}@${l} processing:`,e)}yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.QUERY.STARTED",ctx:e,correlationId:i,payload:{query:t}}}(t,a,o));const s=yield(0,Q.RE)(e.generator,t,i.query,null!==(r=i.refresh)&&void 0!==r&&r);try{i.onSuccess(s)}catch(e){console.warn(`An error has occurred while calling onSuccess function provided for ${n}@${l} processing`,e)}yield cr(function(e,t,i,r){return{type:"GDC.DASH/EVT.QUERY.COMPLETED",ctx:e,correlationId:r,payload:{query:t,result:i}}}(t,a,s,o))}catch(e){try{i.onError(e)}catch(e){console.warn(`An error has occurred while calling onError function provided for ${n}@${l} processing:`,e)}Se(e)?yield cr(e):yield cr(function(e,t,i,r){return{type:"GDC.DASH/EVT.QUERY.FAILED",ctx:e,correlationId:r,payload:{reason:"INTERNAL_ERROR",message:t,error:i}}}(t,`An internal error has occurred while processing ${n}`,e,o))}}function*ug(e,t=!1){const{promise:i,envelope:r}=dg(e,t);return yield(0,Q.gz)(r),yield(0,Q.RE)((()=>i))}function gg(e){const{attributeElements:t,displayForm:i,negativeSelection:r}=e.attributeFilter;return r?(0,n.newNegativeAttributeFilter)(i,t):(0,n.newPositiveAttributeFilter)(i,t)}function*mg(e){const t=(yield(0,Q.$6)(e.map((e=>(0,Q.RE)(pg,e))))).filter((({invalidDrills:e})=>e.length>0));0===t.length?yield(0,Q.gz)(Ha.resetInvalidCustomUrlDrillParameterWidget(e)):yield(0,Q.gz)(Ha.setInvalidCustomUrlDrillParameterWidgets(t))}function*pg(e){const t=Wu((0,n.widgetRef)(e)),i=yield(0,Q.Ys)(t);if(!(null==i?void 0:i.availableDrillTargets))return{widget:e,invalidDrills:[]};const r=yield(0,Q.Ys)(ts),a=(yield(0,Q.RE)(ug,rg(e.ref))).filter(n.isAttributeFilter).map((e=>hg(e,r))),o=(yield(0,Q.Ys)(od)).map(gg).map((e=>hg(e,r)));return e.drills.filter(n.isDrillToCustomUrl).reduce(((e,t)=>{const l=Uu([t]).some((e=>{const a=r.get(e);return!!a&&!_u(t,i.availableDrillTargets,a)})),s=Oi([t].filter(n.isDrillToCustomUrl).map((e=>Mu(e.target.url).map((e=>(0,n.idRef)(e.identifier,"displayForm")))))).some((e=>!!r.get(e)&&!o.some((t=>(0,n.areObjRefsEqual)((0,n.filterObjRef)(t),e))))),d=Oi([t].filter(n.isDrillToCustomUrl).map((e=>Nu(e.target.url).map((e=>(0,n.idRef)(e.identifier,"displayForm")))))).some((e=>!!r.get(e)&&!a.some((t=>(0,n.areObjRefsEqual)((0,n.filterObjRef)(t),e)))));return(l||s||d)&&e.invalidDrills.push(t),e}),{widget:e,invalidDrills:[]})}function hg(e,t){const i=t.get((0,n.filterObjRef)(e));return i?(0,n.isNegativeAttributeFilter)(e)?Object.assign(Object.assign({},e),{negativeAttributeFilter:Object.assign(Object.assign({},e.negativeAttributeFilter),{displayForm:(0,n.idRef)(i.id,"displayForm")})}):Object.assign(Object.assign({},e),{positiveAttributeFilter:Object.assign(Object.assign({},e.positiveAttributeFilter),{displayForm:(0,n.idRef)(i.id,"displayForm")})}):e}const fg=(0,Ei.oM)({name:"inaccessibleDashboards",initialState:Yu.getInitialState(),reducers:{addInaccessibleDashboards:Yu.upsertMany}}),bg=fg.reducer,vg=fg.actions;function*Dg(e,t){const i=yield(0,Q.Ys)(qu),r=Oi(t.filter(n.isInsightWidget).map((({drills:e})=>e.filter(n.isDrillToDashboard)))),a=wa(r.map((({target:e})=>e))).filter((e=>!i.get(e))),o=(yield(0,Q.RE)(yg,e,a)).map((e=>{var t;return Object.assign(Object.assign({},e),{title:null!==(t=e.title)&&void 0!==t?t:"",accessibilityLimitation:void 0===e.title?"forbidden":"notShared"})}));yield(0,Q.gz)(vg.addInaccessibleDashboards(o))}async function yg(e,t){try{return await e.backend.workspace(e.workspace).dashboards().validateDashboardsExistence(t)}catch(e){return[]}}function*Eg(e,t){const{payload:{renderMode:i,renderModeChangeOptions:r},correlationId:a}=t;if(r.resetDashboard){const t=yield(0,Q.RE)(wu,e,hi(a));yield(0,Q.gz)(Si([t.batch,Ha.resetInvalidDrillWidgetRefs(),Ha.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings(),ja.setRenderMode(i)])),yield(0,Q.gz)(t.reset)}else yield(0,Q.gz)(Si([Ha.resetInvalidDrillWidgetRefs(),Ha.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings(),ja.setRenderMode(i)]));if("edit"===i){const i=yield(0,Q.Ys)(lc);yield(0,Q.RE)(Dg,e,i),yield(0,Q.RE)(eg,e,t,i),yield(0,Q.RE)(mg,i.filter(n.isInsightWidget))}return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER_MODE.CHANGED",ctx:e,correlationId:i,payload:{renderMode:t}}}(e,i,a)}const Ig=e=>{const{created:t,description:i,identifier:r,ref:a,title:n,updated:o,uri:l,tags:s,shareStatus:d,isLocked:c}=e;return{created:t,description:i,identifier:r,ref:a,title:n,updated:o,uri:l,tags:s,shareStatus:d,isLocked:c,availability:"full"}};function Cg(e,t){return e.backend.workspace(e.workspace).dashboards().createDashboard(t.dashboardToSave)}function Sg(e,t){const{persistedDashboard:i,dashboardToSave:r}=t;return(0,p.kG)(i),e.backend.workspace(e.workspace).dashboards().updateDashboard(i,r)}function wg(e,t=!1,i=!0,r){let a={};if(r){const{isUnderStrictControl:r}=e,n=(0,Ir._T)(e,["isUnderStrictControl"]);return a=t&&i?{shareStatus:"private",isUnderStrictControl:!0}:{shareStatus:"public"},Object.assign(Object.assign({},n),a)}return e}function*Tg(e,t){var i;const r=yield(0,Q.Ys)(Nc),a=yield(0,Q.Ys)(Mc),n=yield(0,Q.Ys)(td),o=yield(0,Q.Ys)(id),l=yield(0,Q.Ys)(Yd),s=yield(0,Q.Ys)(Ic),d=yield(0,Q.Ys)(xc),c=yield(0,Q.Ys)(Bo),u=yield(0,Q.Ys)(Eo),g={ref:null==r?void 0:r.ref,uri:null==r?void 0:r.uri,identifier:null==r?void 0:r.identifier},m=(null==r?void 0:r.plugins)?{plugins:r.plugins}:{},p=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({type:"IDashboard"},a),{title:null!==(i=e.payload.title)&&void 0!==i?i:a.title}),g),{filterContext:Object.assign(Object.assign({},o),n),layout:l,dateFilterConfig:s}),(null==d?void 0:d.length)?{attributeFilterConfigs:d}:{}),m);return{cmd:e,persistedDashboard:r,dashboardFromState:p,dashboardToSave:wg(Object.assign(Object.assign({},p),{layout:vo(l,hu)}),c.enableAnalyticalDashboardPermissions,u.supportsAccessControl,t)}}function*Ag(e,t,i,r){const a=yield(0,Q.RE)(i,e,t),n=bo(t.dashboardFromState.layout,a.layout),o=[En.setMeta({dashboard:a}),xi.updateFilterContextIdentity({filterContextIdentity:In(a)}),Ji.updateWidgetIdentities(n),Ji.clearLayoutHistory()];if(void 0===t.persistedDashboard){const e=Ig(a);o.push(Ka.addListedDashboard(e),Rs.addAccessibleDashboard(e))}return{batch:Si(o,r),dashboard:a}}const Pg=(0,Do.createSelector)((e=>e),(e=>e.user)),kg=(0,Do.createSelector)(Pg,(e=>((0,p.kG)(e.user,"attempting to access uninitialized user state"),e.user))),Rg=(0,Do.createSelector)(kg,(e=>e.ref));function xg(e,t){return e.backend.workspace(e.workspace).dashboards().createDashboard(t.dashboardToSave)}function*Lg(e){const{title:t,useOriginalFilterContext:i}=e.payload,r=t?{title:t}:{},a=yield(0,Q.Ys)(Nc),n=yield(0,Q.Ys)(Mc),o=yield(0,Q.Ys)(Nc),l=yield(0,Q.Ys)(i&&o?Uc:td),s=yield(0,Q.Ys)(Yd),d=yield(0,Q.Ys)(Ic),c=yield(0,Q.Ys)(xc),u=yield(0,Q.Ys)(Bo),g=yield(0,Q.Ys)(Eo),{isUnderStrictControl:m}=n,p=(0,Ir._T)(n,["isUnderStrictControl"]),h=Object.assign(Object.assign(Object.assign({type:"IDashboard"},p),{filterContext:Object.assign({},l),layout:s,dateFilterConfig:d}),(null==c?void 0:c.length)?{attributeFilterConfigs:c}:{}),f=(null==a?void 0:a.plugins)?{plugins:a.plugins}:{},b=u.enableAnalyticalDashboardPermissions&&g.supportsAccessControl?{isLocked:!1,shareStatus:"private",isUnderStrictControl:!0}:{isLocked:!1,shareStatus:"public"};return{cmd:e,dashboardFromState:h,dashboardToSave:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h),r),{layout:vo(s,(()=>!0))}),b),f)}}function*Og(e,t){const i=yield(0,Q.RE)(xg,e,t),r=yield(0,Q.Ys)(kg),a=Object.assign(Object.assign({},i),{createdBy:r});if(!t.cmd.payload.switchToCopy)return{dashboard:a};const n=bo(t.dashboardFromState.layout,a.layout);return{batch:Si([En.setMeta({dashboard:a}),ya.setAlerts([]),xi.updateFilterContextIdentity({filterContextIdentity:In(a)}),Ji.updateWidgetIdentities(n),Ji.clearLayoutHistory()],"@@GDC.DASH.SAVE_AS"),dashboard:a}}function Fg(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().deleteDashboard(t)}function*Mg(e){const t=yield(0,Q.Ys)(jo);yield(0,Q.gz)(Si([...Ds(t),Ts.clearAllExecutionResults()],"@@GDC.DASH/BATCH.CLEAR")),e.dashboardRef=void 0}const Ng={dateFilter:{type:"absolute",granularity:"GDC.time.year"}};function _g(e){return e.some(n.isDashboardDateFilter)?e:[Ng,...e]}function Hg(e,t,i){const{backend:r,workspace:a}=e;return r.workspace(a).dashboards().exportDashboardToPdf(t,i)}function*Ug(e){const{newSharingProperties:t}=e.payload,i=yield(0,Q.Ys)(Nc);(0,p.kG)(i,"Cant change sharing of unsaved dashboard");const{filterContext:r}=i,a=(0,Ir._T)(i,["filterContext"]),o=(0,n.isFilterContext)(r)?{filterContext:r}:{},l=Object.assign(Object.assign({},a),o);return{cmd:e,persistedDashboard:i,dashboardToSave:Object.assign(Object.assign({},l),{shareStatus:t.shareStatus,isLocked:t.isLocked,isUnderStrictControl:t.isUnderStrictControl})}}function Gg(e,t){return e.backend.workspace(e.workspace).dashboards().updateDashboard(t.persistedDashboard,t.dashboardToSave)}function jg(e,t){return e.backend.workspace(e.workspace).dashboards().getDashboard(t)}function Bg(e,t){const{granteesToAdd:i,granteesToDelete:r}=t.cmd.payload.newSharingProperties,a=[...i,...r].filter(n.isGranularAccessGrantee);return e.backend.workspace(e.workspace).accessControl().changeAccess(e.dashboardRef,a)}function*zg(e,t){const{granteesToAdd:i,granteesToDelete:r}=t.cmd.payload.newSharingProperties,a=[...i,...r].filter(n.isGranularAccessGrantee);h(a)||(yield(0,Q.RE)(Bg,e,t));const o=yield(0,Q.RE)(Hs,e),l=js.setDashboardPermissions(o);let s;return s=o.canViewDashboard?e.backend.capabilities.supportsGranularAccessControl?yield(0,Q.RE)(jg,e,t.persistedDashboard.ref):yield(0,Q.RE)(Gg,e,t):t.persistedDashboard,{batch:Si([En.setMeta({dashboard:s}),l],"@@GDC.DASH.SAVE_SHARING"),dashboard:s}}function*Wg(e,t){const i=yield(0,Q.Ys)(td);yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.CHANGED",ctx:e,correlationId:i,payload:{filterContext:t}}}(e,i,t.correlationId))}function*Vg(e){var t,i,r;const a=yield(0,Q.Ys)(Sc),n=gn(e,a);if(!n){if("absolute"===e.dateFilter.type)return!!(null===(t=null==a?void 0:a.absoluteForm)||void 0===t?void 0:t.visible);if("relative"===e.dateFilter.type)return"GDC.time.date"===e.dateFilter.granularity&&void 0===e.dateFilter.from&&void 0===e.dateFilter.to?!!(null===(i=null==a?void 0:a.allTime)||void 0===i?void 0:i.visible):!!(null===(r=null==a?void 0:a.relativeForm)||void 0===r?void 0:r.visible)}return!!n}async function Kg(e,t){return t.length?e.backend.workspace(e.workspace).attributes().getAttributes(t):[]}function*qg(e,t,i){const r=i||(yield(0,Q.Ys)(is)),a=[],n=[];t.forEach((e=>{const t=r.get(e);t?a.push(t.attribute):n.push(e)}));const o=u(yield(0,Q.RE)(Kg,e,n)),l=[];return n.forEach((e=>{const t=o.get(e);t?a.push(t):l.push(e)})),{resolved:u(a),missing:l}}function*Yg(e,t,i){var r;const a=[],o=new Set,l=yield(0,Q.RE)(os,i,e.map((e=>e.attributeFilter.displayForm)));for(const t of e){const e=t.attributeFilter.displayForm;let s=yield(0,Q.Ys)(sd(e));if(!s&&Xg(i)){if((0,n.isUriRef)(e)&&!i.backend.capabilities.supportsObjectUris)throw new ur.NotSupported("Unsupported filter ObjRef! Please provide IdentifierRef instead of UriRef.");const t=l.resolved.get(e),a=yield(0,Q.RE)(qg,i,wa([null==t?void 0:t.attribute])),o=(null==t?void 0:t.attribute)&&a.resolved.get(null==t?void 0:t.attribute);for(const e of null!==(r=null==o?void 0:o.displayForms)&&void 0!==r?r:[])if(s=yield(0,Q.Ys)(sd(e.ref)),s)break}s&&(a.push(xi.updateAttributeFilterSelection($g(t,s))),o.add(s.attributeFilter.localIdentifier))}if(t){const e=(yield(0,Q.Ys)(od)).filter((e=>!o.has(e.attributeFilter.localIdentifier)));e.length>0&&a.push(xi.clearAttributeFiltersSelection({filterLocalIds:e.map((e=>e.attributeFilter.localIdentifier))}))}return a}function*Zg(e,t){if(e){if(!(yield(0,Q.RE)(Vg,e)))return[];const t=(0,n.isAllTimeDashboardDateFilter)(e)?{type:"allTime"}:{type:e.dateFilter.type,granularity:e.dateFilter.granularity,from:e.dateFilter.from,to:e.dateFilter.to};return[xi.upsertDateFilter(t)]}return t?[xi.upsertDateFilter({type:"allTime"})]:[]}const $g=(e,t)=>{const{attributeElements:i,negativeSelection:r}=e.attributeFilter,a={elements:i,filterLocalId:t.attributeFilter.localIdentifier,negativeSelection:r};if((0,n.isSingleSelectionFilter)(t)){if(r)return Object.assign(Object.assign({},a),{elements:(0,n.updateAttributeElementsItems)(i,[]),negativeSelection:!1});if(!(0,n.attributeElementsIsEmpty)(i)){const e=[(0,n.getAttributeElementsItems)(i)[0]];return Object.assign(Object.assign({},a),{elements:(0,n.updateAttributeElementsItems)(i,e)})}}return a};function Xg(e){return e.backend.capabilities.supportsElementUris}var Qg=i(14841);async function Jg(e,t,i){if(0===i.length)return!0;const r=e.backend.workspace(e.workspace).attributes().getAttributeDisplayForm(t),a=e.backend.workspace(e.workspace).attributes().getAttributeDisplayForms(i.map((e=>e.attributeFilter.displayForm))),[o,l]=await Promise.all([r,a]),s=o.attribute;return!l.map((e=>e.attribute)).some((e=>(0,n.areObjRefsEqual)(e,s)))}function*em(e,t){const{displayForm:i,index:r,initialIsNegativeSelection:a,initialSelection:o,parentFilters:l,selectionMode:s,mode:d,localIdentifier:c}=t.payload;if(!(yield(0,Q.Ys)(hd)))throw ve(e,t,"Attempting to add filter, even though the limit on the count of filters has been reached.");const u=yield(0,Q.Ys)(od),g=yield(0,Q.RE)(os,e,[i]);if(!h(g.missing))throw ve(e,t,`Attempting to add filter for a non-existing display form ${(0,n.objRefToString)(i)}.`);const m=g.resolved.get(i);(0,p.kG)(m);const f=m.attribute,b=yield(0,Q.Ys)(Ml),v=yield(0,Q.RE)(Jg,e,i,u);if(!b&&!v)throw ve(e,t,`Filter for attribute ${(0,n.objRefToString)(f)} represented by the displayForm ${(0,n.objRefToString)(i)} already exists in the filter context.`);yield(0,Q.gz)(Si([xi.addAttributeFilter({displayForm:m.ref,index:r,initialIsNegativeSelection:a,initialSelection:o,parentFilters:l,selectionMode:s,localIdentifier:c}),xi.addAttributeFilterDisplayForm(m)]));const D=yield(0,Q.Ys)(dd(c)),y=yield(0,Q.Ys)(sd(m.ref)),E=null!=D?D:y;(0,p.kG)(E,"Inconsistent state in attributeFilterAddCommandHandler"),(yield(0,Q.Ys)(Eo)).supportsHiddenAndLockedFiltersOnUI&&d&&(yield(0,Q.gz)(Si([ms.changeMode({localIdentifier:E.attributeFilter.localIdentifier,mode:d})]))),yield cr(function(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADDED",ctx:e,correlationId:r,payload:{added:t,index:i}}}(e,E,t.payload.index,t.correlationId)),yield(0,Q.RE)(Wg,e,t)}function*tm(e,t){const{elements:i,filterLocalId:r,selectionType:a}=t.payload;if(!(yield(0,Q.Ys)(dd(t.payload.filterLocalId))))throw ve(e,t,`Filter with filterLocalId ${r} not found.`);yield(0,Q.gz)(xi.updateAttributeFilterSelection({elements:i,filterLocalId:r,negativeSelection:"NOT_IN"===a}));const n=yield(0,Q.Ys)(dd(t.payload.filterLocalId));if((0,p.kG)(n,"Inconsistent state in attributeFilterChangeSelectionCommandHandler"),!e.backend.capabilities.supportsKeepingDependentFiltersSelection){const e=yield(0,Q.Ys)(ud(n.attributeFilter.localIdentifier));yield(0,Q.$6)(e.map((e=>(0,Q.gz)(xi.updateAttributeFilterSelection({filterLocalId:e,elements:{uris:[]},negativeSelection:!0})))))}yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,n,t.correlationId)),yield(0,Q.RE)(Wg,e,t)}var im=i(70735),rm=i(4788);async function am(e,t,i,r,a){const o=r.filter((e=>!(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,t.attributeFilter.displayForm))),l=o.map((e=>e.attributeFilter.localIdentifier));if(i.some((e=>!l.includes(e.filterLocalIdentifier))))return"EXTRANEOUS_PARENT";const s=i.map((e=>{var i,r;const n=o.find((t=>t.attributeFilter.localIdentifier===e.filterLocalIdentifier)),l=null===(i=a.get(n.attributeFilter.displayForm))||void 0===i?void 0:i.attribute,s=null===(r=a.get(t.attributeFilter.displayForm))||void 0===r?void 0:r.attribute;if(l&&s)return{parentOverAttributes:e.over.attributes,displayFormsToGetAncestorsFor:[s,l]}}));if(s.some((e=>void 0===e)))return"INVALID_METADATA";if(e.backend.capabilities.supportsSettingConnectingAttributes){const t=await e.backend.workspace(e.workspace).attributes().getCommonAttributesBatch(s.map((e=>e.displayFormsToGetAncestorsFor)));return rm(s.map((e=>e.parentOverAttributes)),t).every((([e,t])=>0===im(e,t,n.objRefToString).length))?"VALID":"INVALID_CONNECTION"}return"VALID"}function nm(e,t){return-1===t||!(!h(e.sections)||t)||t<=e.sections.length}function om(e,t){return t>-1&&t<e.sections.length}function lm(e,t){return-1===t||!(!h(e.items)||t)||t<=e.items.length}function sm(e,t){return t>-1&&t<e.items.length}function dm(e,t){const i={missing:[],existing:[],resolved:[],newItemBitmap:[]};return t.forEach((t=>{if("string"!=typeof t)return i.resolved.push(t),void i.newItemBitmap.push(!0);void 0!==e[t]?(i.existing.push(t),i.resolved.push(...e[t]),i.newItemBitmap.push(...e[t].map((e=>!1)))):i.missing.push(t)})),i}function cm(e,t){return{type:"GDC.DASH/QUERY.INSIGHT.DATE.DATASETS",correlationId:t,payload:{insightOrRef:e}}}function um(e){const{mostImportantFromInsight:t,dateDatasetsOrdered:i}=e;return null!=t?t:i[0]}function gm(e,t){return{type:"GDC.DASH/QUERY.INSIGHT.ATTRIBUTE.META",correlationId:t,payload:{insightOrRef:e}}}function mm(e,t){return{type:"GDC.DASH/QUERY.MEASURE.DATE.DATASETS",correlationId:t,payload:{measureRef:e}}}function*pm(e,t,i,r,a){const o=yield(0,Q.RE)(ug,cm(a||i.insight)),l=d((yield(0,Q.Ys)(Ll))?yield(0,Q.Ys)(Wl):o.allAvailableDateDatasets).get(r);if(!l)throw ve(e,t,`Attempting to use date dataset ${(0,n.objRefToString)(r)}\n            to filter insight widget ${(0,n.objRefToString)(i.ref)} but the data set either does not exist or\n            is not valid to use for filtering the insight.`);return l}function*hm(e,t,i,r){const a=d((yield(0,Q.RE)(ug,mm(i.kpi.metric))).dateDatasets).get(r);if(!a)throw ve(e,t,`Attempting to use date dataset ${(0,n.objRefToString)(r)}\n            to filter insight widget ${(0,n.objRefToString)(i.ref)} but the data set either does not exist or\n            is not valid to use for filtering the insight.`);return a}function*fm(e,t,i,r){const a=yield(0,Q.RE)(os,e,r),{missing:o,resolved:l}=a;if(!h(o))throw ve(e,t,`Attempting to disable attribute filters but some of the display form refs to disable filters by do not exist: ${o.map(n.objRefToString).join(", ")}`);const s=yield(0,Q.Ys)(od),d=[],c=[];for(const e of l.values()){const t=s.find((t=>(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,e.ref)));t?c.push(t):d.push(e.ref)}if(!h(d))throw ve(e,t,`Attempting to disable attribute filters but some of the display form refs to disable filters by are not used for filtering at all: ${d.map(n.objRefToString).join(", ")}`);return c}function bm(e,t){return e.map((e=>{if((0,n.isInsightWidget)(e.widget)){const i=t.get(e.widget.insight);return(0,p.kG)(i),Object.assign(Object.assign({},e),{widget:Object.assign(Object.assign({},e.widget),{insight:(0,n.insightRef)(i)})})}return e}))}function*vm(e,t,i){const r=function(e){const t=[];return e.forEach((e=>{(0,n.isInsightWidget)(e.widget)&&t.push(e.widget.insight)})),t}(t.resolved),a=yield(0,Q.RE)(Su,e,r);if(!h(a.missing))throw ve(e,i,`Attempting to add dashboard items that reference missing insights: ${a.missing.map(n.objRefToString).join(", ")}`);return{normalizedItems:Object.assign(Object.assign({},t),{resolved:bm(t.resolved,a.resolved)}),resolvedInsights:a}}function*Dm(e,t,i,r,a){var o;const l=i.ignoreDashboardFilters.filter(n.isDashboardAttributeFilterReference).map((e=>e.displayForm));if(yield(0,Q.RE)(fm,e,t,i,l),i.dateDataSet)return yield(0,Q.RE)(pm,e,t,i,i.dateDataSet,a),i;if(r){const e=yield(0,Q.RE)(ug,cm(a));return Object.assign(Object.assign({},i),{dateDataSet:null===(o=um(e))||void 0===o?void 0:o.dataSet.ref})}return i}function*ym(e,t,i,r){var a;const o=i.ignoreDashboardFilters.filter(n.isDashboardAttributeFilterReference).map((e=>e.displayForm));if(yield(0,Q.RE)(fm,e,t,i,o),i.dateDataSet)return yield(0,Q.RE)(hm,e,t,i,i.dateDataSet),i;if(r){const e=yield(0,Q.RE)(ug,mm(i.kpi.metric));return Object.assign(Object.assign({},i),{dateDataSet:null===(a=e.dateDatasetsOrdered[0])||void 0===a?void 0:a.dataSet.ref})}return i}function Em(e,t){const i=e.ignoreDashboardFilters.filter((e=>!(0,n.isDashboardAttributeFilterReference)(e)||t.find((t=>(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,e.displayForm)))));return Object.assign(Object.assign({},e),{ignoreDashboardFilters:i})}function*Im(e,t,i,r=!1){const a=yield(0,Q.Ys)(od),{resolvedInsights:o,normalizedItems:l}=i,s=[];let d=0;for(const i of l.resolved){const c=i.widget;if(l.newItemBitmap[d])if((0,n.isInsightWidget)(c)){const a=o.resolved.get(c.insight);(0,p.kG)(a);const n=yield(0,Q.RE)(Dm,e,t,c,r,a);s.push(Object.assign(Object.assign({},i),{widget:n}))}else if((0,n.isKpiWidget)(c)){const a=yield(0,Q.RE)(ym,e,t,c,r);s.push(Object.assign(Object.assign({},i),{widget:a}))}else s.push(i);else if((0,n.isInsightWidget)(c)||(0,n.isKpiWidget)(c)){const e=Em(c,a);s.push(Object.assign(Object.assign({},i),{widget:e}))}else s.push(i);d++}return s}function Cm(e){return e&&Object.assign(Object.assign({},e.description&&{description:e.description}),e.title&&{title:e.title})}var Sm=i(82492);function*wm(e,t,i=t){const r={ctx:e,cmd:t,originalCmd:i,layout:yield(0,Q.Ys)(qd)},{fromSection:a,itemToRemove:n}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,itemIndex:r}},layout:a}=e;if(!om(a,i))throw ve(t,e.originalCmd,`Attempting to remove item from non-existent section at ${i}. There are only ${a.sections.length} sections.`);const n=a.sections[i];if(!sm(n,r))throw ve(t,e.originalCmd,`Attempting to remove non-existent item from index ${r} in section ${i}. There are only ${n.items.length} items in this section.`);return{fromSection:n,itemToRemove:n.items[r]}}(r),{sectionIndex:o,itemIndex:l,eager:s,stashIdentifier:d}=t.payload;if(s&&1===a.items.length){yield(0,Q.gz)(Ji.removeSection({index:o,stashIdentifier:d,undo:{cmd:i}}));const r=Object.assign(Object.assign({},a),{items:[]});yield cr(Ke(e,n,l,r,d,t.correlationId)),yield cr(Ge(e,r,o,!0,void 0,t.correlationId))}else yield(0,Q.gz)(Ji.removeSectionItem({sectionIndex:o,itemIndex:l,stashIdentifier:d,undo:{cmd:i}})),yield cr(Ke(e,n,l,void 0,d,t.correlationId))}const Tm=e=>0;function Am(e,t,i){const{payload:{ref:r}}=t,a=e.get(r);if(!a)throw ve(i,t,`Cannot find insight widget with ref: ${(0,n.serializeObjRef)(r)}.`);if(!(0,n.isInsightWidget)(a))throw ve(i,t,`Widget with ref: ${(0,n.serializeObjRef)(r)} exists but is not an insight widget.`);return a}function Pm(e,t,i){const{payload:{ref:r}}=t,a=e.get(r);if(!a)throw ve(i,t,`Cannot find insight widget with ref: ${(0,n.serializeObjRef)(r)}.`);if(!(0,n.isKpiWidget)(a))throw ve(i,t,`Widget with ref: ${(0,n.serializeObjRef)(r)} exists but is not a KPI widget.`);return a}function*km(e,t){const{payload:{measureRef:i}}=t,r=(yield(0,Q.Ys)(rs)).get(i);if(!r)throw ve(e,t,`Attempting to use non-existent measure for KPI widget. ${(0,n.objRefToString)(i)} does not exist.`);return r}function*Rm(e,t){if(!e.dateDataSet)return;const i=yield(0,Q.RE)(ug,mm(t.measure.ref));return d(i.dateDatasets).get(e.dateDataSet)||(h(i.dateDatasetsOrdered)?void 0:i.dateDatasetsOrdered[0])}function xm(e,t){const i=t.filter(n.isDashboardAttributeFilterReference).map((e=>e.displayForm));return e.filter((e=>i.some((t=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,t)))))}function*Lm(e,t,i,r,a){let n,o;return a.dateDatasetForFiltering&&(n=yield(0,Q.RE)(t.dateDatasetValidator,e,i,r,a.dateDatasetForFiltering)),a.ignoreAttributeFilters&&(o=yield(0,Q.RE)(t.attributeFilterValidator,e,i,r,a.ignoreAttributeFilters)),{dateDataSet:n,ignoredFilters:o}}function*Om(e,t){return{dateDataSet:t,ignoredFilters:xm(yield(0,Q.Ys)(od),e.ignoreDashboardFilters)}}function*Fm(e,t,i,r){return yield(0,Q.RE)(Om,r,void 0)}function*Mm(e,t,i,r,a){let o;return"default"===a.dateDataset?(0,n.isInsightWidget)(r)?o=um(yield(0,Q.RE)(ug,cm(r.insight))):(0,n.isKpiWidget)(r)?o=(yield(0,Q.RE)(ug,mm(r.kpi.metric))).dateDatasetsOrdered[0]:(0,p.kG)(!1,"Cannot use default date dataset for custom widgets"):o=yield(0,Q.RE)(t.dateDatasetValidator,e,i,r,a.dateDataset),yield(0,Q.RE)(Om,r,o)}function*Nm(e,t){const i=yield(0,Q.Ys)(es);return{dateDataSet:e.dateDataSet?i.get(e.dateDataSet):void 0,ignoredFilters:t}}function*_m(e,t,i,r,a){const n=yield(0,Q.RE)(t.attributeFilterValidator,e,i,r,a.displayFormRefs);return yield(0,Q.RE)(Nm,r,n)}function*Hm(e,t,i,r,a){const o=yield(0,Q.RE)(t.attributeFilterValidator,e,i,r,a.displayFormRefs),l=xm(yield(0,Q.Ys)(od),r.ignoreDashboardFilters),s=(null!=o?o:[]).filter((e=>!l.some((t=>(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,e.attributeFilter.displayForm)))));return yield(0,Q.RE)(Nm,r,[...l,...s])}function*Um(e,t,i,r,a){const o=yield(0,Q.RE)(t.attributeFilterValidator,e,i,r,a.displayFormRefs),l=xm(yield(0,Q.Ys)(od),r.ignoreDashboardFilters).filter((e=>!(null!=o?o:[]).some((t=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,t.attributeFilter.displayForm)))));return yield(0,Q.RE)(Nm,r,l)}function*Gm(e,t,i,r){const{payload:{operation:a}}=i;switch(a.type){case"replace":return yield(0,Q.RE)(Lm,e,t,i,r,a);case"disableDateFilter":return yield(0,Q.RE)(Fm,e,t,i,r);case"enableDateFilter":return yield(0,Q.RE)(Mm,e,t,i,r,a);case"replaceAttributeIgnores":return yield(0,Q.RE)(_m,e,t,i,r,a);case"ignoreAttributeFilter":return yield(0,Q.RE)(Hm,e,t,i,r,a);case"unignoreAttributeFilter":return yield(0,Q.RE)(Um,e,t,i,r,a)}}const jm={dateDatasetValidator:hm,attributeFilterValidator:fm},Bm={dateDatasetValidator:pm,attributeFilterValidator:fm};function zm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_HEADER",correlationId:i,payload:{ref:e,header:t}}}function Wm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:Object.assign({type:"replace"},t)}}}function Vm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"enableDateFilter",dateDataset:t}}}}function Km(e,t){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:t,payload:{ref:e,operation:{type:"disableDateFilter"}}}}function qm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replaceAttributeIgnores",displayFormRefs:null!=t?t:[]}}}}function Ym(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"ignoreAttributeFilter",displayFormRefs:(0,n.isObjRef)(t)?[t]:t}}}}function Zm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"unignoreAttributeFilter",displayFormRefs:(0,n.isObjRef)(t)?[t]:t}}}}function $m(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_PROPERTIES",correlationId:i,payload:{ref:e,properties:t}}}function Xm(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_CONFIGURATION",correlationId:i,payload:{ref:e,config:t}}}function Qm(e,t,i,r){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_INSIGHT",correlationId:r,payload:{ref:e,insightRef:t,visualizationProperties:i}}}function Jm(e,t,i,r){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILLS",correlationId:r,payload:{ref:e,drills:t,blacklistHierarchiesToUpdate:i}}}function ep(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILLS",correlationId:i,payload:{ref:e,localIdentifiers:t}}}function tp(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILL_DOWN",correlationId:i,payload:{ref:e,blacklistHierarchies:t}}}function ip(e,t,i,r,a){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.ADD_DRILL_DOWN",correlationId:a,payload:{ref:e,attributeIdentifier:t,drillDownIdentifier:i,drillDownAttributeHierarchyRef:r}}}function rp(e,t,i,r,a){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILL_DOWN",correlationId:a,payload:{ref:e,attributeIdentifier:t,attributeHierarchyRef:i,blacklistHierarchies:r}}}function ap(e,t){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.REFRESH",correlationId:t,payload:{ref:e}}}function np(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.EXPORT",correlationId:i,payload:{config:t,ref:e}}}function op(e,t,i){return{type:"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_DESCRIPTION",correlationId:i,payload:{ref:e,description:t}}}const lp=Au.b($.isUnknownSdkError,$.isBadRequest,$.isNoDataSdkError,$.isProtectedReport,$.isDataTooLargeToCompute,Sn.isEmptyAfm),sp=Au.b($.isUnknownSdkError,$.isBadRequest,$.isNoDataSdkError,$.isDataTooLargeToCompute,$.isDataTooLargeToDisplay,$.isProtectedReport,Sn.isEmptyAfm,$.isNegativeValues),dp=(0,Do.createSelector)((e=>e),(e=>e.permissions)),cp=(0,Do.createSelector)(dp,(e=>((0,p.kG)(e.permissions,"attempting to access uninitialized permissions state"),e.permissions))),up=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canListUsersInProject)&&void 0!==t&&t})),gp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageProject)&&void 0!==t&&t})),mp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canExportReport)&&void 0!==t&&t})),pp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=(null==e?void 0:e.canExportReport)||(null==e?void 0:e.canExportTabular))&&void 0!==t&&t})),hp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=(null==e?void 0:e.canExportReport)||(null==e?void 0:e.canExportPdf))&&void 0!==t&&t})),fp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canCreateAnalyticalDashboard)&&void 0!==t&&t})),bp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageAnalyticalDashboard)&&void 0!==t&&t})),vp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageACL)&&void 0!==t&&t})),Dp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canCreateScheduledMail)&&void 0!==t&&t})),yp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canInitData)&&void 0!==t&&t})),Ep=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canUploadNonProductionCSV)&&void 0!==t&&t})),Ip=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canExecuteRaw)&&void 0!==t&&t})),Cp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canCreateVisualization)&&void 0!==t&&t})),Sp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageMetric)&&void 0!==t&&t})),wp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageDomain)&&void 0!==t&&t})),Tp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canInviteUserToProject)&&void 0!==t&&t})),Ap=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canRefreshData)&&void 0!==t&&t})),Pp=(0,Do.createSelector)(cp,(e=>{var t;return null!==(t=null==e?void 0:e.canManageScheduledMail)&&void 0!==t&&t})),kp=(0,Do.createSelector)(gp,(e=>e)),Rp=(0,Do.createSelector)((e=>e),(e=>e.executionResults)),xp=Cs.getSelectors(Rp),Lp=xp.selectEntities,Op=xp.selectById,Fp=Xs((e=>(0,Do.createSelector)(Lp,(t=>t[(0,n.serializeObjRef)(e)])))),Mp=Xs((e=>(0,Do.createSelector)(Fp(e),Qd(e),(e=>{if(!e)return!1;const{isLoading:t,error:i,executionResult:r}=e;return!!r&&!t&&!lp(i)})))),Np=Xs((e=>(0,Do.createSelector)(Ao,Mp(e),pp,Ip,Bo,((e,t,i,r,a)=>{const n=Boolean(a.enableKPIDashboardExport&&i),o=Boolean(n&&r);return e&&t&&o})))),_p=Xs((e=>(0,Do.createSelector)(Po,Mp(e),pp,Bo,((e,t,i,r)=>{const a=Boolean(r.enableKPIDashboardExport&&i);return e&&t&&a}))));async function Hp(e,t){return(0,$.createExportFunction)(e)(t)}function*Up(e,t,i){if(!(yield(0,Q.Ys)(Mp(i))))throw ve(e,t,`The widget with ref: ${(0,n.serializeObjRef)(i)} cannot be exported at the moment.`)}function*Gp(e,t){const{config:i,ref:r}=t.payload;let a=!1;if("csv"===i.format&&(a=yield(0,Q.Ys)(Np(r))),"xlsx"===i.format&&(a=yield(0,Q.Ys)(_p(r))),!a)throw ve(e,t,`The widget with ref: ${(0,n.serializeObjRef)(r)} cannot be exported because the feature is disabled or the user does not have the necessary permissions.`)}function jp(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().createWidgetAlert(t)}function Bp(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().updateWidgetAlert(t)}const zp=(0,Do.createSelector)((e=>e),(e=>e.alerts)),Wp=ba.getSelectors(zp).selectAll,Vp=(0,Do.createSelector)(Wp,$d,((e,t)=>g(wa(e.map((e=>{const i=t.get(e.widget);if(i)return{identifier:i.identifier,uri:i.uri,ref:i.ref,alert:e}})))))),Kp=$s((e=>(0,Do.createSelector)(Vp,(t=>{const i=t.get(e);if(i)return i.alert}))),n.serializeObjRef),qp=(0,Do.createSelector)(Wp,(e=>g(e))),Yp=$s((e=>(0,Do.createSelector)(qp,(t=>t.get(e)))),n.serializeObjRef);function Zp(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).dashboards().deleteWidgetAlerts(t)}function $p(e,t,i){const{backend:r,workspace:a}=e;return r.workspace(a).dashboards().createScheduledMail(t,i)}function Xp(e,t,i){const{backend:r,workspace:a}=e;if(!(0,n.isObjRef)(t))throw new Error("Cannot save schedule not referencing to an persisted object");return r.workspace(a).dashboards().updateScheduledMail(t,t,i)}function Qp(e,t,i){return e.map((e=>e.header)).filter((e=>function(e,t){var i,r;const a=(0,$.isDrillIntersectionAttributeItem)(e)?e:void 0,o=null===(r=null===(i=null==a?void 0:a.attributeHeader)||void 0===i?void 0:i.formOf)||void 0===r?void 0:r.ref;return!!o&&!t.some((e=>(0,n.areObjRefsEqual)(e,o)))}(e,t))).filter($.isDrillIntersectionAttributeItem).map((e=>i?(0,n.newPositiveAttributeFilter)(e.attributeHeader.ref,{uris:[e.attributeHeaderItem.uri]}):(0,n.newPositiveAttributeFilter)(e.attributeHeader.ref,{uris:[e.attributeHeaderItem.name]})))}function Jp(e,t){const i=ld(e);return i?yd(i,t):(0,n.newAllTimeFilter)(t.dateDataSet)}function eh(e){return od(e)}function*th(e,t){const i=(yield(0,Q.Ys)(od)).map(Dd);return yield(0,Q.RE)(ih,e,t,i)}function ih(e,t,i){return e.backend.workspace(e.workspace).dashboards().getResolvedFiltersForWidget(t,i)}async function rh(e,t,i,r){const a={elements:r.backend.capabilities.supportsElementUris?{uris:[i]}:{primaryValues:[i]}};return(await r.backend.workspace(e).attributes().elements().forDisplayForm(t).withLimit(1).withOptions(a).query()).items[0].title}function*ah(e,t,i){const r=function(e,t){var i;return null===(i=t.drillContext.intersection.find((t=>(0,$.isDrillIntersectionAttributeItem)(t.header)&&(0,n.areObjRefsEqual)(t.header.attributeHeader.ref,e.target.displayForm))))||void 0===i?void 0:i.header}(e,t);if(r)return yield(0,Q.RE)(rh,i.workspace,e.target.hyperlinkDisplayForm,r.attributeHeaderItem.uri,i)}function nh(e){return(0,n.isAttributeFilter)(e)||(0,n.isDateFilter)(e)}function oh(e){return!h(e)&&"drillDown"===e.type}function*lh(e,t){const i=(yield(0,Q.RE)(ug,rg(t,null))).filter(nh);return(yield(0,Q.Ys)(el))?{filters:i,resolvedFilterValues:yield(0,Q.RE)(b,i,e.backend,e.workspace)}:{filters:i}}function*sh(e,t,i,r){return{identifier:t,elementTitle:yield(0,Q.RE)(rh,r.workspace,e,i,r)}}function dh(e,t){const i=e.find((({header:e})=>(0,n.isAttributeDescriptor)(e)&&(0,n.areObjRefsEqual)(t,e.attributeHeader.formOf.ref)));if(i&&(0,$.isDrillIntersectionAttributeItem)(i.header))return i.header.attributeHeaderItem}function*ch(e,t){if(t.backend.capabilities.supportsElementUris)return{displayFormForValueLoad:e,displayFormsWithKnownValues:[]};const i=(yield(0,Q.Ys)(Kl)).map((e=>e.attribute.ref)),{true:r=[],false:a=[]}=pr(e,(e=>{return t=i,r=e.attribute,t.some((e=>(0,n.areObjRefsEqual)(e,r)));var t,r}));return{displayFormsWithKnownValues:r,displayFormForValueLoad:a}}function*uh(e,t,i){const r=yield(0,Q.RE)(ch,t,i),{displayFormsWithKnownValues:a,displayFormForValueLoad:n}=r;return[...a.reduce(((t,{id:i,attribute:r})=>{const a=dh(e,r);return a?(t.push({identifier:i,elementTitle:a.uri}),t):t}),[]),...yield(0,Q.$6)(n.reduce(((t,r)=>{const{id:a,attribute:n,ref:o}=r,l=dh(e,n);return l?(t.push((0,Q.RE)(sh,o,a,l.uri,i)),t):t}),[]))]}const gh=e=>Tn(e)?e:encodeURIComponent(e);function mh(e,t,i){return i.backend.workspace(e).attributes().getAttributeDisplayForms(t)}function*ph(e,t,i){const r=Fu(e);if(0===r.length)return[];const a=yield(0,Q.RE)(mh,i.workspace,r.map((e=>(0,n.idRef)(e.identifier))),i),o=yield(0,Q.RE)(uh,t,a,i);return r.map((({placeholder:e,identifier:t,toBeEncoded:i})=>{var r;const a=null===(r=o.find((e=>e.identifier===t)))||void 0===r?void 0:r.elementTitle;return{toBeReplaced:e,replacement:i?gh(a):a}}))}function*hh(e){const t=Mu(e);if(0===t.length)return[];const i=yield(0,Q.Ys)(od),r=yield(0,Q.Ys)(ts);return t.map((({placeholder:e,ref:t})=>{var a;const o=i.find((e=>{const i=r.get(e.attributeFilter.displayForm);return i&&(0,n.areObjRefsEqual)((0,n.idRef)(i.id),t)})),l=null==o?void 0:o.attributeFilter.attributeElements,s=(0,n.isAttributeElementsByValue)(l)?l.values:null!==(a=null==l?void 0:l.uris)&&void 0!==a?a:[],d=null==o?void 0:o.attributeFilter.negativeSelection,c=o?yh(s,d):void 0;return{toBeReplaced:e,replacement:gh(c)}}))}function*fh(e,t){const i=Nu(e);if(0===i.length)return[];const r=yield(0,Q.RE)(ug,rg(t)),a=yield(0,Q.Ys)(ts);return i.map((({placeholder:e,ref:t})=>{var i;const o=r.find((e=>{const i=(0,n.filterObjRef)(e),r=i&&a.get(i);return r&&(0,n.areObjRefsEqual)((0,n.idRef)(r.id),t)})),l=o?(0,n.filterAttributeElements)(o):void 0,s=(0,n.isAttributeElementsByValue)(l)?l.values:null!==(i=null==l?void 0:l.uris)&&void 0!==i?i:[],d=(0,n.isNegativeAttributeFilter)(o),c=o?yh(s,d):void 0;return{toBeReplaced:e,replacement:gh(c)}}))}const bh=(e,t="")=>({toBeReplaced:e,replacement:t,replaceGlobally:!0});function*vh(e,t,i){const{workspace:r,clientId:a,dataProductId:o}=i,l=yield(0,Q.Ys)(jc),s=yield(0,Q.Ys)(Qd(t)),d=yield(0,Q.Ys)(Eu(s.insight)),c=[bh(D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID,r),bh(D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID,r),bh(D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID,l),bh(D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID,a),bh(D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID,o),bh(D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID,(0,n.insightId)(d))];return e.includes(D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID)?[...c,bh(D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID,s.identifier)]:c}function*Dh(e,t,i,r,a){const n=e.target.url,o=yield(0,Q.RE)(ph,n,i.drillContext.intersection,r),l=yield(0,Q.RE)(hh,n),s=yield(0,Q.RE)(fh,n,t),d=[...o,...l,...s].find((({replacement:e})=>void 0===e));if(d)throw ve(r,a,`Drill to custom URL unable to resolve missing parameter ${d.toBeReplaced}`);const c=yield(0,Q.RE)(vh,n,t,r);return((e,t)=>t.reduce(((e,{toBeReplaced:t,replacement:i,replaceGlobally:r})=>e.replace(r?new RegExp(t,"g"):t,i)),e))(n,[...o,...l,...s,...c])}function yh(e,t){return`${t?"NOT_IN":"IN"}${qr(e)}`}const Eh=(0,Ei.oM)({name:"drillTargets",initialState:Gu.getInitialState(),reducers:{addDrillTargets:Gu.upsertOne}}),Ih=Eh.reducer,Ch=Eh.actions;async function Sh(e,t,i){if(!t)return"INVALID_FILTER_ATTRIBUTE";const{backend:r,workspace:a}=e;return(await r.workspace(a).attributes().getAttribute(t)).displayForms.some((e=>(0,n.areObjRefsEqual)((0,n.idRef)(e.id,"displayForm"),i)||(0,n.areObjRefsEqual)((0,n.uriRef)(e.uri),i)))?"VALID":"INVALID_ATTRIBUTE_DISPLAY_FORM"}function wh(e,t){return{type:"GDC.DASH/QUERY.DISPLAY.FORM.ATTRIBUTE",correlationId:t,payload:{displayForms:e}}}const Th=(0,Do.createSelector)((e=>e),(e=>e.legacyDashboards)),Ah=(0,Do.createSelector)(Th,(e=>((0,p.kG)(e.legacyDashboards,"attempting to access uninitialized legacy dashboard state"),e.legacyDashboards)));function*Ph(e,t,i){const r=yield(0,Q.Ys)(Ah);try{!function(e,t){const i=t.find((t=>(0,n.areObjRefsEqual)(t.ref,e.target)));if(!i)throw Error(`Dashboard with ref ${(0,n.objRefToString)(e.target)} was not found.`);if(!i.tabs.some((t=>t.identifier===e.tab)))throw Error(`Dashboard with ref ${(0,n.objRefToString)(e.target)} does not contain tab with identifier ${e.tab}.`)}(e,r)}catch(e){throw ve(t,i,`Invalid KPI drill target. Error: ${e.message}`)}}function kh(e,t){return e.backend.workspace(e.workspace).insights().getInsight(t)}function Rh(e,t,i){return(0,n.isAttributeHierarchyReference)(e)?(0,n.areObjRefsEqual)(e.attributeHierarchy,t)&&(0,n.areObjRefsEqual)(e.attribute,i):Pa((0,n.objRefToString)(e.dateHierarchyTemplate),(0,n.objRefToString)(t))&&(0,n.areObjRefsEqual)(e.dateDatasetAttribute,i)}function xh(e,t,i,r,a,n){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION",correlationId:n,payload:{type:e,granularity:t,from:i,to:r,dateFilterOptionLocalId:a}}}function Lh(e,t){if((0,n.isAllTimeDateFilter)(e))return Oh(t);if((0,n.isRelativeDateFilter)(e)){const i=(0,n.relativeDateFilterValues)(e);return xh("relative",i.granularity,i.from,i.to,void 0,t)}{const i=(0,n.absoluteDateFilterValues)(e);return xh("absolute","GDC.time.date",i.from,i.to,void 0,t)}}function Oh(e){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION",correlationId:e,payload:{type:"relative",granularity:"GDC.time.date"}}}function Fh(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADD",correlationId:i,payload:{displayForm:e,index:t,selectionMode:r,mode:a,initialSelection:n,initialIsNegativeSelection:o,localIdentifier:l}}}function Mh(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE",correlationId:t,payload:{filterLocalIds:[e]}}}function Nh(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE",correlationId:t,payload:{filterLocalIds:e}}}function _h(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVE",correlationId:i,payload:{filterLocalId:e,index:t}}}function Hh(e,t,i,r){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION",correlationId:r,payload:{filterLocalId:e,elements:t,selectionType:i}}}function Uh(e,t,i){return Hh(e,(0,n.filterAttributeElements)(t),(0,n.isPositiveAttributeFilter)(t)?"IN":"NOT_IN",i)}function Gh(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION",correlationId:t,payload:{filterLocalId:e,elements:{uris:[]},selectionType:"NOT_IN"}}}function jh(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_PARENTS",correlationId:i,payload:{filterLocalId:e,parentFilters:t}}}function Bh(e,t=!1,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.CHANGE_SELECTION",correlationId:i,payload:{filters:e,resetOthers:t}}}function zh(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_DISPLAY_FORM",payload:{filterLocalId:e,displayForm:t}}}function Wh(e,t,i){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_TITLE",correlationId:i,payload:{filterLocalId:e,title:t}}}function Vh(e,t){return{type:"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_SELECTION_MODE",payload:{filterLocalId:e,selectionMode:t}}}const Kh={"GDC.DASH/CMD.INITIALIZE":function*(e,t){const{dashboardRef:i}=e;try{let r;return yield(0,Q.gz)(ir.setLoadingStart()),r=i?yield(0,Q.RE)(Vs,e,t,i):yield(0,Q.RE)(Ks,e,t),yield(0,Q.gz)(r.batch),yield(0,Q.gz)(ir.setLoadingSuccess()),r.event}catch(e){throw yield(0,Q.gz)(ir.setLoadingError(e)),e}},"GDC.DASH/CMD.SAVE":function*(e,t){try{yield(0,Q.gz)(nr.setSavingStart());const i=void 0===(yield(0,Q.Ys)(Nc)),r=yield(0,Q.RE)(Tg,t,i);let a;a=i?yield(0,Q.RE)(Ag,e,r,Cg,"@@GDC.DASH.SAVE_NEW"):yield(0,Q.RE)(Ag,e,r,Sg,"@@GDC.DASH.SAVE_EXISTING");const{dashboard:n,batch:o}=a;return yield(0,Q.gz)(o),i&&(e.dashboardRef=n.ref),(yield(0,Q.Ys)(Dc))||(yield(0,Q.RE)(Eg,e,qs("view",void 0,t.correlationId))),yield(0,Q.gz)(nr.setSavingSuccess()),function(e,t,i,r){return{type:"GDC.DASH/EVT.SAVED",ctx:e,correlationId:r,payload:{dashboard:t,newDashboard:i}}}(e,n,i,t.correlationId)}catch(e){throw yield(0,Q.gz)(nr.setSavingError(e)),e}},"GDC.DASH/CMD.SAVEAS":function*(e,t){var i;try{yield(0,Q.gz)(nr.setSavingStart());const r=yield(0,Q.RE)(Lg,t),{payload:{switchToCopy:a}}=t,n=yield(0,Q.RE)(Og,e,r),{dashboard:o,batch:l}=n;l&&(yield(0,Q.gz)(l)),a&&(e.dashboardRef=o.ref);const s=Ig(o);return yield(0,Q.gz)(Ka.addListedDashboard(s)),yield(0,Q.gz)(Rs.addAccessibleDashboard(s)),(yield(0,Q.Ys)(Dc))||(yield(0,Q.RE)(Eg,e,qs("view",void 0,t.correlationId))),yield(0,Q.gz)(nr.setSavingSuccess()),function(e,t,i,r){return{type:"GDC.DASH/EVT.COPY_SAVED",ctx:e,correlationId:r,payload:{dashboard:t,isOriginalDashboardLocked:i}}}(e,o,null!==(i=r.dashboardFromState.isLocked)&&void 0!==i&&i,t.correlationId)}catch(e){throw yield(0,Q.gz)(nr.setSavingError(e)),e}},"GDC.DASH/CMD.RESET":function*(e,t){const i=yield(0,Q.RE)(Tu,e);return yield(0,Q.gz)(Si(i.batch,"@@GDC.DASH/RESET")),ce(e,i.persistedDashboard,t.correlationId)},"GDC.DASH/CMD.RENAME":function*(e,t){const{newTitle:i}=t.payload;return yield(0,Q.gz)(En.setDashboardTitle(i)),function(e,t,i){return{type:"GDC.DASH/EVT.RENAMED",ctx:e,correlationId:i,payload:{newTitle:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.DELETE":function*(e,t){const i=e.dashboardRef,r=yield(0,Q.Ys)(Nc);if(!r)throw ve(e,t,"Attempting to delete a dashboard that was never saved.");return(0,p.kG)(i&&((0,n.areObjRefsEqual)(i,(0,n.uriRef)(r.uri))||(0,n.areObjRefsEqual)(i,(0,n.idRef)(r.identifier)))),yield(0,Q.RE)(Fg,e,r.ref),yield(0,Q.RE)(Mg,e),function(e,t,i){return{type:"GDC.DASH/EVT.DELETED",ctx:e,correlationId:i,payload:{dashboard:t}}}(e,r,t.correlationId)},"GDC.DASH/CMD.CHANGE_RENDER_MODE":Eg,"GDC.DASH/CMD.SHARING.CHANGE":function*(e,t){if(!(yield(0,Q.Ys)(Gc)))throw ve(e,t,"Dashboard to change its sharing status must have an ObjRef.");const i=yield(0,Q.RE)(Ug,t),r=yield(0,Q.RE)(zg,e,i),{batch:a,dashboard:n}=r;return a&&(yield(0,Q.gz)(a)),function(e,t,i){return{type:"GDC.DASH/EVT.SHARING.CHANGED",ctx:e,correlationId:i,payload:{newSharingProperties:t}}}(e,Object.assign(Object.assign({},t.payload.newSharingProperties),{shareStatus:n.shareStatus}),t.correlationId)},"GDC.DASH/CMD.EXPORT.PDF":function*(e,t){yield(0,Q.gz)(function(e,t){return{type:"GDC.DASH/EVT.EXPORT.PDF.REQUESTED",ctx:e,correlationId:t}}(e,t.correlationId));const i=yield(0,Q.Ys)(Gc);if(!i)throw ve(e,t,"Dashboard to export to PDF must have an ObjRef.");const r=_g(yield(0,Q.Ys)(nd)),a=yield(0,Q.RE)(Hg,e,i,r),n=e.backend.config.hostname?new URL(a.uri,e.backend.config.hostname).href:a.uri;return function(e,t,i){return{type:"GDC.DASH/EVT.EXPORT.PDF.RESOLVED",ctx:e,correlationId:i,payload:{resultUri:t.uri,result:t}}}(e,Object.assign(Object.assign({},a),{uri:n}),t.correlationId)},"GDC.DASH/CMD.EVENT.TRIGGER":function*(e,t){const i=Object.assign(Object.assign({},t.payload.eventBody),{ctx:e});yield cr(i)},"GDC.DASH/CMD.EXECUTION_RESULT.UPSERT":function*(e,t){yield(0,Q.gz)(Ts.upsertExecutionResult(t.payload))},"GDC.DASH/CMD.FILTER_CONTEXT.CHANGE_SELECTION":function*(e,t){const{filters:i,resetOthers:r}=t.payload,a=i.map((e=>(0,n.isDashboardAttributeFilter)(e)||(0,n.isDashboardDateFilter)(e)?e:function(e){if((0,n.isAttributeFilter)(e))return{attributeFilter:{negativeSelection:(0,n.isNegativeAttributeFilter)(e),displayForm:(0,n.filterObjRef)(e),attributeElements:(0,n.filterAttributeElements)(e),selectionMode:"multi"}};if((0,n.isAbsoluteDateFilter)(e))return(0,n.newAbsoluteDashboardDateFilter)(e.absoluteDateFilter.from,e.absoluteDateFilter.to);if((0,n.isAllTimeDateFilter)(e))return(0,n.newAllTimeDashboardDateFilter)();if((0,n.isRelativeDateFilter)(e))return(0,n.newRelativeDashboardDateFilter)(e.relativeDateFilter.granularity,e.relativeDateFilter.from,e.relativeDateFilter.to);throw new ur.NotSupported("Unsupported filter type! Please provide valid dashboard filter.")}(e))),o=Kr(a,(e=>{const t=(0,n.isDashboardAttributeFilter)(e)?e.attributeFilter.displayForm:e.dateFilter.dataSet;return t?(0,n.objRefToString)(t):t})),[[l],s]=Ti(o,n.isDashboardDateFilter),[d,c]=yield(0,Q.$6)([(0,Q.RE)(Yg,s,r,e),(0,Q.RE)(Zg,l,r)]);yield(0,Q.gz)(Si([...d,...c])),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.DATE_FILTER.CHANGE_SELECTION":function*(e,t){const i="relative"===t.payload.type&&"GDC.time.date"===t.payload.granularity&&void 0===t.payload.from&&void 0===t.payload.to;var r;if(!(yield(0,Q.RE)(Vg,(r=t.payload,"absolute"===r.type&&r.from&&r.to?(0,n.newAbsoluteDashboardDateFilter)(r.from.toString(),r.to.toString()):"relative"===r.type&&"GDC.time.date"===r.granularity&&void 0===r.from&&void 0===r.to?(0,n.newAllTimeDashboardDateFilter)():(0,n.newRelativeDashboardDateFilter)(r.granularity,Qg(r.from),Qg(r.to))))))throw ve(e,t,"Cannot apply a date filter that is invalid by the current dateFilterConfig.");yield(0,Q.gz)(xi.upsertDateFilter(i?{type:"allTime"}:{type:t.payload.type,granularity:t.payload.granularity,from:t.payload.from,to:t.payload.to}));const a=yield(0,Q.Ys)(ld);yield cr(function(e,t,i,r){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.DATE_FILTER.SELECTION_CHANGED",ctx:e,correlationId:r,payload:{filter:t,dateFilterOptionLocalId:i}}}(e,a,t.payload.dateFilterOptionLocalId,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.ADD":em,"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.REMOVE":function*(e,t){const{filterLocalIds:i}=t.payload,r=yield(0,Q.Ys)(od),[a,o]=Ti(r,(e=>i.includes(e.attributeFilter.localIdentifier))),l=kn(i,r.map((e=>e.attributeFilter.localIdentifier)));if(l.length)throw ve(e,t,`Invalid filterLocalIds provided. These ids were not found: ${l.join(", ")}.`);for(const r of a){const a=o.filter((e=>{var t;return null===(t=e.attributeFilter.filterElementsBy)||void 0===t?void 0:t.some((e=>i.includes(e.filterLocalIdentifier)))})),l=o.some((e=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,r.attributeFilter.displayForm)))?[]:[Ji.removeIgnoredAttributeFilter({displayFormRefs:[r.attributeFilter.displayForm]})],s=Si(wa([...a.map((({attributeFilter:e})=>xi.setAttributeFilterParents({filterLocalId:e.localIdentifier,parentFilters:e.filterElementsBy.filter((e=>e.filterLocalIdentifier!==(null==r?void 0:r.attributeFilter.localIdentifier)))}))),xi.removeAttributeFilter({filterLocalId:r.attributeFilter.localIdentifier}),xi.removeAttributeFilterDisplayForms(r.attributeFilter.displayForm),ms.removeAttributeFilterConfig(r.attributeFilter.localIdentifier),...l]));yield(0,Q.gz)(s),yield cr(ke(e,r,a,t.correlationId))}yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVE":function*(e,t){const{filterLocalId:i,index:r}=t.payload,a=yield(0,Q.Ys)(dd(i));if(!a)throw ve(e,t,`Filter with filterLocalId ${i} not found.`);const n=(yield(0,Q.Ys)(nd)).length-1;if(r>n||r<-1)throw ve(e,t,`Invalid index (${r}) provided, it must be between -1 and ${n}`);const o=yield(0,Q.Ys)(cd(i));yield(0,Q.gz)(xi.moveAttributeFilter({filterLocalId:i,index:r}));const l=yield(0,Q.Ys)(cd(i));yield cr(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.MOVED",ctx:e,correlationId:a,payload:{moved:t,fromIndex:i,toIndex:r}}}(e,a,o,l,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.CHANGE_SELECTION":tm,"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_PARENTS":function*(e,t){const{filterLocalId:i,parentFilters:r}=t.payload,a=yield(0,Q.Ys)(od),n=yield(0,Q.Ys)(dd(i)),o=yield(0,Q.Ys)(ad);if(!n)throw ve(e,t,`Filter with localId ${i} was not found.`);const l=yield(0,Q.RE)(am,e,n,[...r],a,o);if("VALID"!==l)throw ve(e,t,"EXTRANEOUS_PARENT"===l?"Some of the parents provided cannot be used because filters for those are not in the filters collection. Only existing filters can be used as parent filters.":"INVALID_METADATA"===l?"Some of the parents provided cannot be used because the 'metadata' for parent filter are missing.":"Some of the parents provided cannot be used because the 'over' parameter is invalid for the target filter.");yield(0,Q.gz)(xi.setAttributeFilterParents({filterLocalId:i,parentFilters:r}));const s=yield(0,Q.Ys)(dd(i));(0,p.kG)(s,"Inconsistent state in attributeFilterSetParentCommandHandler"),yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.PARENT_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,s,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_DISPLAY_FORM":function*(e,t){const{filterLocalId:i,displayForm:r}=t.payload,{backend:{capabilities:{supportsElementUris:a}}}=e,n=yield(0,Q.Ys)(ts),o=yield(0,Q.RE)(ug,wh([r])),l=c([...Oi(o,(e=>e.displayForms))]),s=n.get(r)||l.get(r);(0,p.kG)(s,"Inconsistent state in changeAttributeDisplayFormHandler, cannot update attribute filter with display form not available in the catalog.");const d=null==s?void 0:s.attribute,u=yield(0,Q.RE)(Sh,e,d,r);if("VALID"!==u)throw ve(e,t,"INVALID_ATTRIBUTE_DISPLAY_FORM"===u?"The display form provided is not a valid display form of the attribute filter.":"Cannot find the attribute for the display form used on the attribute filter.");yield(0,Q.gz)(Si([xi.addAttributeFilterDisplayForm(s),xi.changeAttributeDisplayForm({filterLocalId:i,displayForm:r,supportsElementUris:a})]));const g=yield(0,Q.Ys)(dd(i));(0,p.kG)(g,"Inconsistent state in changeAttributeDisplayFormHandler, cannot update attribute filter for given local identifier."),yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.DISPLAY_FORM_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,g,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_TITLE":function*(e,t){const{filterLocalId:i,title:r}=t.payload;if(!(yield(0,Q.Ys)(dd(t.payload.filterLocalId))))throw ve(e,t,`Filter with filterLocalId ${i} not found.`);yield(0,Q.gz)(xi.changeAttributeTitle({filterLocalId:i,title:r}));const a=yield(0,Q.Ys)(dd(t.payload.filterLocalId));(0,p.kG)(a,"Inconsistent state in changeAttributeTitleHandler, cannot update attribute filter for given local identifier."),yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,a,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.FILTER_CONTEXT.ATTRIBUTE_FILTER.SET_SELECTION_MODE":function*(e,t){const{filterLocalId:i,selectionMode:r}=t.payload;if(!(yield(0,Q.Ys)(dd(t.payload.filterLocalId))))throw ve(e,t,`Filter with filterLocalId ${i} not found.`);yield(0,Q.gz)(xi.changeSelectionMode({filterLocalId:i,selectionMode:r}));const a=yield(0,Q.Ys)(dd(t.payload.filterLocalId));(0,p.kG)(a,"Inconsistent state in changeAttributeSelectionModeHandler, cannot update attribute filter for given local identifier."),yield cr(function(e,t,i){return{type:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED",ctx:e,correlationId:i,payload:{filter:t}}}(e,a,t.correlationId)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.ATTRIBUTE_FILTER_CONFIG.SET_MODE":function*(e,t){const{localIdentifier:i}=t.payload;if(!(yield(0,Q.Ys)(dd(i))))throw ve(e,t,`Filter with localIdentifier ${i} not found.`);yield(0,Q.gz)(ms.changeMode(t.payload));const r=yield(0,Q.Ys)(dd(i));(0,p.kG)(r,"Inconsistent state in changeAttributeModeHandler, cannot update attribute filter for given local identifier."),yield cr(function(e,t){return{type:"GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED",ctx:e,payload:{filter:t}}}(e,r)),yield(0,Q.RE)(Wg,e,t)},"GDC.DASH/CMD.DATE_FILTER_CONFIG.SET_MODE":function*(e,t){const{mode:i}=t.payload;yield(0,Q.gz)(Si([Ar.setDateFilterConfigMode(i)]))},"GDC.DASH/CMD.FLUID_LAYOUT.ADD_SECTION":function*(e,t){const{payload:{initialItems:i=[]}}=t,r={ctx:e,cmd:t,initialItems:fu(i),layout:yield(0,Q.Ys)(qd),stash:yield(0,Q.Ys)(Vd),availableInsights:yield(0,Q.Ys)(yu)},a=function(e){const{ctx:t,layout:i,stash:r,initialItems:a,cmd:{payload:{index:n}}}=e;if(!nm(i,n))throw ve(t,e.cmd,`Attempting to insert new section at wrong index ${n}. There are currently ${i.sections.length} sections.`);const o=dm(r,a);if(!h(o.missing))throw ve(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${o.missing.join(", ")}`);return o}(r),{payload:{index:n,initialHeader:o,autoResolveDateFilterDataset:l}}=t,s=yield(0,Q.RE)(vm,e,a,t),d=yield(0,Q.RE)(Im,e,t,s,l),c={type:"IDashboardLayoutSection",header:Cm(o),items:d};return yield(0,Q.gz)(Si([dr.addInsights(s.resolvedInsights.loaded),Ji.addSection({section:c,usedStashes:a.existing,index:n,undo:{cmd:t}})])),function(e,t,i,r){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",ctx:e,correlationId:r,payload:{section:t,index:i}}}(e,c,Bi(r.layout.sections,n),t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_SECTION":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,Q.Ys)(qd)},{absoluteIndex:r}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,toIndex:r}},layout:a}=e;if(!om(a,i))throw ve(t,e.cmd,`Attempting to move non-existent section from index ${i}. There are only ${a.sections.length} sections.`);if(!nm(a,r))throw ve(t,e.cmd,`Attempting to move section to a wrong index ${r}. There are currently ${a.sections.length} sections.`);const n=ji(a.sections,r);if(i===n)throw ve(t,e.cmd,`Attempting to move section to a same index where it already resides ${i}.`);return{absoluteIndex:n}}(i),{sectionIndex:a,toIndex:n}=t.payload;return yield(0,Q.gz)(Ji.moveSection({sectionIndex:a,toIndex:n,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_MOVED",ctx:e,correlationId:a,payload:{section:t,fromIndex:i,toIndex:r}}}(e,i.layout.sections[a],a,r,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_SECTION":function*(e,t){const i=yield(0,Q.Ys)(qd),{index:r,stashIdentifier:a}=t.payload;if(h(i.sections))throw ve(e,t,"Attempting to remove a section from an empty layout.");if(!om(i,r))throw ve(e,t,`Attempting to remove non-existing layout section at index ${r}.`);const n=ji(i.sections,r),o=i.sections[n];return yield(0,Q.gz)(Ji.removeSection({index:n,stashIdentifier:a,undo:{cmd:t}})),Ge(e,o,n,!1,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.CHANGE_SECTION_HEADER":function*(e,t){var i;const r=yield(0,Q.Ys)(qd),{index:a,header:n,merge:o}=t.payload;if(!om(r,a))throw ve(e,t,`Attempting to modify header of non-existent section at ${a}. There are currently ${r.sections.length} sections.`);const l=null!==(i=r.sections[a].header)&&void 0!==i?i:{},s=Cm(o?Sm({},l,n):n);return yield(0,Q.gz)(Ji.changeSectionHeader({index:a,header:s,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_HEADER_CHANGED",ctx:e,correlationId:r,payload:{newHeader:t,sectionIndex:i}}}(e,s,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_HEIGHT":function*(e,t){const{payload:{sectionIndex:i,itemIndexes:r,height:a}}=t,n=yield(0,Q.Ys)(qd),o=yield(0,Q.Ys)(yu);return function(e,t,i){const{payload:{sectionIndex:r,itemIndexes:a}}=i;if(!om(t,r))throw ve(e,i,`Attempting to resize item from non-existent section at ${r}. There are only ${t.sections.length} sections.`);const n=t.sections[r];a.forEach((t=>{if(!sm(n,t))throw ve(e,i,`Attempting to resize non-existent item from index ${t} in section ${r}. There are only ${n.items.length} items in this section.`)}))}(e,n,t),function(e,t,i,r){const{payload:{sectionIndex:a,itemIndexes:n,height:o}}=r,l=n.map((e=>t.sections[a].items[e].widget)),s=Qn(l,i),d=Jn(l,i);if(!(o>=s&&o<=d))throw ve(e,r,`Attempting to set invalid height. Allowed height is from ${s} to ${d}.`)}(e,n,o,t),yield(0,Q.gz)(Ji.changeItemsHeight({sectionIndex:i,itemIndexes:r,height:a})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ITEMS_HEIGHT_RESIZED",ctx:e,correlationId:a,payload:{sectionIndex:t,itemIndexes:i,newHeight:r}}}(e,i,r,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_WIDTH":function*(e,t){const{payload:{sectionIndex:i,itemIndex:r,width:a}}=t,n=yield(0,Q.Ys)(qd),o=yield(0,Q.Ys)(yu);return function(e,t,i){const{payload:{sectionIndex:r,itemIndex:a}}=i;if(!om(t,r))throw ve(e,i,`Attempting to resize item from non-existent section at ${r}. There are only ${t.sections.length} sections.`);const n=t.sections[r];if(!sm(n,a))throw ve(e,i,`Attempting to resize non-existent item from index ${a} in section ${r}. There are only ${n.items.length} items in this section.`)}(e,n,t),function(e,t,i,r){const{payload:{sectionIndex:a,itemIndex:n,width:o}}=r,l=to(t.sections[a].items[n].widget,i);if(!(o>=l&&o<=Pn))throw ve(e,r,`Attempting to set invalid width. Allowed width is from ${l} to ${Pn}.`)}(e,n,o,t),yield(0,Q.gz)(Ji.changeItemWidth({sectionIndex:i,itemIndex:r,width:a})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ITEM_WIDTH_RESIZED",ctx:e,correlationId:a,payload:{sectionIndex:t,itemIndex:i,newWidth:r}}}(e,i,r,a,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.ADD_ITEMS":function*(e,t){const{payload:{items:i}}=t,r={ctx:e,cmd:t,items:fu(i),layout:yield(0,Q.Ys)(qd),stash:yield(0,Q.Ys)(Vd),availableInsights:yield(0,Q.Ys)(yu)},{stashValidationResult:a,section:n}=function(e){const{ctx:t,layout:i,stash:r,items:a,cmd:{payload:{sectionIndex:n,itemIndex:o}}}=e;if(!om(i,n))throw ve(t,e.cmd,`Attempting to add items to non-existing layout section at index ${n}.`);const l=i.sections[n];if(!lm(l,o))throw ve(t,e.cmd,`Attempting to insert new item at wrong index ${o}. There are currently ${l.items.length} items.`);const s=dm(r,a);if(!h(s.missing))throw ve(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${s.missing.join(", ")}`);return{stashValidationResult:s,section:l}}(r),{payload:{itemIndex:o,sectionIndex:l,autoResolveDateFilterDataset:s}}=t,d=yield(0,Q.RE)(vm,e,a,t),c=yield(0,Q.RE)(Im,e,t,d,s);return yield(0,Q.gz)(Si([dr.addInsights(d.resolvedInsights.loaded),Ji.addSectionItems({sectionIndex:l,itemIndex:o,items:c,usedStashes:a.existing,undo:{cmd:t}})])),function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",ctx:e,correlationId:n,payload:{sectionIndex:t,startIndex:i,itemsAdded:r,stashesUsed:a}}}(e,l,Bi(n.items,o),a.resolved,a.existing,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,Q.Ys)(qd)},{targetSectionIndex:r,targetItemIndex:a,itemToMove:n,shouldRemoveSection:o}=function(e){const{ctx:t,layout:i,cmd:{payload:{sectionIndex:r,toSectionIndex:a,itemIndex:n,toItemIndex:o,removeOriginalSectionIfEmpty:l}}}=e;if(!om(i,r))throw ve(t,e.cmd,`Attempting to move item from non-existent section at ${r}. There are only ${i.sections.length} sections.`);const s=i.sections[r];if(!sm(s,n))throw ve(t,e.cmd,`Attempting to move non-existent item from index ${n}. There are only ${s.items.length} items.`);const d=s.items[n];if(!nm(i,a))throw ve(t,e.cmd,`Attempting to move item to a wrong section at index ${a}. There are currently ${i.sections.length} sections.`);const c=ji(i.sections,a),u=i.sections[c];if(!lm(u,o))throw ve(t,e.cmd,`Attempting to move item to a wrong location at index ${o}. Target section has ${u.items.length} items.`);let g=0;if(r===c){if(g=ji(u.items,o),n===g)throw ve(t,e.cmd,`Attempting to move item to a same place where it already resides ${o}.`)}else g=Bi(u.items,o);return{targetSectionIndex:c,targetItemIndex:g,itemToMove:d,shouldRemoveSection:Boolean(l)&&1===s.items.length}}(i),{itemIndex:l,sectionIndex:s}=t.payload;return yield(0,Q.gz)(Si([Ji.moveSectionItem({sectionIndex:s,itemIndex:l,toSectionIndex:r,toItemIndex:a,undo:{cmd:t}}),...o?[Ji.removeSection({index:s,undo:{cmd:t}})]:[]])),function(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED",ctx:e,correlationId:l,payload:{item:t,fromSectionIndex:i,toSectionIndex:r,fromIndex:a,toIndex:n,originalSectionRemoved:o}}}(e,n,s,o&&s<r?s-1:r,l,a,o,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION":function*(e,t){const i={ctx:e,cmd:t,layout:yield(0,Q.Ys)(qd)},{targetSectionIndex:r,targetItemIndex:a,itemToMove:n,shouldRemoveSection:o}=function(e){const{ctx:t,layout:i,cmd:{payload:{sectionIndex:r,toSectionIndex:a,itemIndex:n,removeOriginalSectionIfEmpty:o}}}=e;if(!om(i,r))throw ve(t,e.cmd,`Attempting to move item from non-existent section at ${r}. There are only ${i.sections.length} sections.`);const l=i.sections[r];if(!sm(l,n))throw ve(t,e.cmd,`Attempting to move non-existent item from index ${n}. There are only ${l.items.length} items.`);const s=l.items[n];if(!nm(i,a))throw ve(t,e.cmd,`Attempting to move item to a wrong section at index ${a}. There are currently ${i.sections.length} sections.`);return{targetSectionIndex:a,targetItemIndex:0,itemToMove:s,shouldRemoveSection:Boolean(o)&&1===l.items.length}}(i),{itemIndex:l,sectionIndex:s,toSectionIndex:d}=t.payload,c=d>s?s:s+1;return yield(0,Q.gz)(Si([Ji.addSection({index:r,section:{type:"IDashboardLayoutSection",items:[]},usedStashes:[],undo:{cmd:t}}),Ji.moveSectionItem({sectionIndex:c,itemIndex:l,toSectionIndex:r,toItemIndex:a,undo:{cmd:t}}),...o?[Ji.removeSection({index:c,undo:{cmd:t}})]:[]])),function(e,t,i,r,a,n,o,l){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_MOVED_TO_NEW_SECTION",ctx:e,correlationId:l,payload:{item:t,fromSectionIndex:i,toSectionIndex:r,fromIndex:a,toIndex:n,originalSectionRemoved:o}}}(e,n,s,r,l,a,o,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM":function*(e,t){return yield(0,Q.RE)(wm,e,t)},"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF":function*(e,t){let i;try{i=yield(0,Q.Ys)(dc(t.payload.widgetRef))}catch(i){throw ve(e,t,`Can't get widget coordinates for widget ref: ${(0,n.objRefToString)(t.payload.widgetRef)}, ${i.message}`)}return yield(0,Q.RE)(wm,e,{correlationId:t.correlationId,payload:Object.assign(Object.assign({},i),{eager:t.payload.eager,stashIdentifier:t.payload.stashIdentifier})},t)},"GDC.DASH/CMD.FLUID_LAYOUT.REPLACE_ITEM":function*(e,t){const{payload:{item:i}}=t,r={ctx:e,cmd:t,items:fu([i]),layout:yield(0,Q.Ys)(qd),stash:yield(0,Q.Ys)(Vd)},{itemToReplace:a,stashValidationResult:n}=function(e){const{ctx:t,cmd:{payload:{sectionIndex:i,itemIndex:r}},items:a,layout:n,stash:o}=e;if(!om(n,i))throw ve(t,e.cmd,`Attempting to replace item from non-existent section at ${i}. There are only ${n.sections.length} sections.`);const l=n.sections[i];if(!sm(l,r))throw ve(t,e.cmd,`Attempting to replace non-existent item from index ${r} in section ${i}. There are only ${l.items.length} items in this section.`);const s=dm(o,a);if(!h(s.missing))throw ve(t,e.cmd,`Attempting to use non-existing stashes. Identifiers of missing stashes: ${s.missing.join(", ")}`);return{itemToReplace:l.items[r],stashValidationResult:s}}(r),{sectionIndex:o,itemIndex:l,stashIdentifier:s,autoResolveDateFilterDataset:d}=t.payload,c=yield(0,Q.RE)(vm,e,n,t),u=yield(0,Q.RE)(Im,e,t,c,d);return yield(0,Q.gz)(Si([dr.addInsights(c.resolvedInsights.loaded),Ji.replaceSectionItem({sectionIndex:o,itemIndex:l,newItems:u,stashIdentifier:s,usedStashes:n.existing,undo:{cmd:t}})])),function(e,t,i,r,a,n,o){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",ctx:e,correlationId:o,payload:{sectionIndex:t,itemIndex:i,items:r,previousItem:a,stashIdentifier:n}}}(e,o,l,n.resolved,a,s,t.correlationId)},"GDC.DASH/CMD.FLUID_LAYOUT.UNDO":function*(e,t){const i=yield(0,Q.Ys)(Kd),{undoPointSelector:r=Tm}=t.payload,a=r(i.map((e=>e.cmd)));if(a<0||a>=i.length)throw ve(e,t,`Undo point selector returned result out of bounds. Undoable commands: ${i.length}. Got index: ${a}`);const n=i[a];return yield(0,Q.gz)(Ji.undoLayout({undoDownTo:n.firstOccurrenceOnStack})),function(e,t,i){return{type:"GDC.DASH/EVT.FLUID_LAYOUT.LAYOUT_CHANGED",ctx:e,correlationId:i,payload:{layout:t}}}(e,yield(0,Q.Ys)(qd),t.correlationId)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_HEADER":function*(e,t){const{payload:{header:i},correlationId:r}=t,a=Pm(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceWidgetHeader({ref:a.ref,header:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.HEADER_CHANGED",ctx:e,correlationId:r,payload:{ref:t,header:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE":function*(e,t){const{correlationId:i}=t,r=Pm(yield(0,Q.Ys)($d),t,e),a=yield(0,Q.RE)(km,e,t),n=function(e,t){const{payload:{header:i}}=e;return"string"==typeof i&&"from-measure"===i?{title:t.measure.title}:h(r=i)||void 0===r.title?void 0:i;var r}(t,a),o=yield(0,Q.RE)(Rm,r,a),l=[Ji.replaceKpiWidgetMeasure({ref:r.ref,measureRef:a.measure.ref,undo:{cmd:t}}),Ji.replaceWidgetDateDataset({ref:r.ref,dateDataSet:null==o?void 0:o.dataSet.ref,undo:{cmd:t}})];n&&l.push(Ji.replaceWidgetHeader({ref:r.ref,header:n,undo:{cmd:t}})),yield(0,Q.gz)(Si(l,"@@CMD.UPDATE.KPI"));const s=(yield(0,Q.Ys)($d)).get(r.ref);return function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.KPI_WIDGET.MEASURE_CHANGED",ctx:e,correlationId:n,payload:{ref:t,kpiWidget:i,measure:r,header:a}}}(e,r.ref,s,a.measure,n,i)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS":function*(e,t){const i=Pm(yield(0,Q.Ys)($d),t,e),r=yield(0,Q.RE)(Gm,e,jm,t,i),{dateDataSet:a,ignoredFilters:n}=r,o=null==n?void 0:n.map((e=>({type:"attributeFilterReference",displayForm:e.attributeFilter.displayForm})));return yield(0,Q.gz)(Ji.replaceWidgetFilterSettings({ref:i.ref,dateDataSet:null==a?void 0:a.dataSet.ref,ignoreDashboardFilters:o,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",ctx:e,correlationId:a,payload:{ref:t,ignoredAttributeFilters:i,dateDatasetForFiltering:r}}}(e,i.ref,null!=n?n:[],r.dateDataSet,t.correlationId)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_COMPARISON":function*(e,t){const{payload:{comparison:{comparisonType:i,comparisonDirection:r}},correlationId:a}=t,n=Pm(yield(0,Q.Ys)($d),t,e),o=null!=i?i:"none",l="none"!==o?null!=r?r:"growIsGood":void 0;yield(0,Q.gz)(Ji.replaceKpiWidgetComparison({ref:n.ref,comparisonType:o,comparisonDirection:l,undo:{cmd:t}}));const s=(yield(0,Q.Ys)($d)).get(n.ref);return function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.COMPARISON_CHANGED",ctx:e,correlationId:r,payload:{ref:t,kpi:i}}}(e,n.ref,s.kpi,a)},"GDC.DASH/CMD.KPI_WIDGET.REMOVE_DRILL":function*(e,t){const{correlationId:i}=t,r=Pm(yield(0,Q.Ys)($d),t,e),{ref:a}=r;return yield(0,Q.gz)(Ji.replaceKpiWidgetDrill({ref:a,drill:void 0,undo:{cmd:t}})),function(e,t,i){return{type:"GDC.DASH/EVT.KPI_WIDGET.DRILL_REMOVED",ctx:e,correlationId:i,payload:{ref:t}}}(e,a,i)},"GDC.DASH/CMD.KPI_WIDGET.SET_DRILL":function*(e,t){const{correlationId:i}=t,{legacyDashboardTabIdentifier:r,legacyDashboardRef:a}=t.payload,n=Pm(yield(0,Q.Ys)($d),t,e),{ref:o}=n,l={tab:r,target:a,origin:{type:"drillFromMeasure",measure:n.kpi.metric},type:"drillToLegacyDashboard",transition:"in-place"};return yield(0,Q.RE)(Ph,l,e,t),yield(0,Q.gz)(Ji.replaceKpiWidgetDrill({ref:o,drill:l,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.DRILL_SET",ctx:e,correlationId:r,payload:{ref:t,drill:i}}}(e,o,l,i)},"GDC.DASH/CMD.KPI_WIDGET.REFRESH":function*(e,t){yield cr(ye(e,t.correlationId))},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_DESCRIPTION":function*(e,t){const{payload:{description:i},correlationId:r}=t,a=Pm(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceWidgetDescription({ref:a.ref,description:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.DESCRIPTION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,description:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.KPI_WIDGET.CHANGE_CONFIGURATION":function*(e,t){const{payload:{config:i},correlationId:r}=t,a=Pm(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceKpiWidgetConfiguration({ref:a.ref,config:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.KPI_WIDGET.CONFIGURATION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,configuration:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_HEADER":function*(e,t){const{payload:{header:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceWidgetHeader({ref:a.ref,header:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.HEADER_CHANGED",ctx:e,correlationId:r,payload:{ref:t,header:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_DESCRIPTION":function*(e,t){const{payload:{description:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceWidgetDescription({ref:a.ref,description:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DESCRIPTION_CHANGED",ctx:e,correlationId:r,payload:{ref:t,description:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_FILTER_SETTINGS":function*(e,t){const i=Am(yield(0,Q.Ys)($d),t,e),r=yield(0,Q.RE)(Gm,e,Bm,t,i),{dateDataSet:a,ignoredFilters:n}=r,o=null==n?void 0:n.map((e=>({type:"attributeFilterReference",displayForm:e.attributeFilter.displayForm})));return yield(0,Q.gz)(Ji.replaceWidgetFilterSettings({ref:i.ref,dateDataSet:null==a?void 0:a.dataSet.ref,ignoreDashboardFilters:o,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",ctx:e,correlationId:a,payload:{ref:t,ignoredAttributeFilters:i,dateDatasetForFiltering:r}}}(e,i.ref,null!=n?n:[],r.dateDataSet,t.correlationId)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_PROPERTIES":function*(e,t){const{payload:{properties:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceInsightWidgetVisProperties({ref:a.ref,properties:i,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.PROPERTIES_CHANGED",ctx:e,correlationId:r,payload:{ref:t,properties:i}}}(e,a.ref,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_CONFIGURATION":function*(e,t){const{payload:{config:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e);return yield(0,Q.gz)(Ji.replaceInsightWidgetVisConfiguration({ref:a.ref,config:i,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.CONFIGURATION_CHANGED",ctx:e,correlationId:a,payload:{ref:t,newConfig:i,oldConfig:r}}}(e,a.ref,i,a.configuration,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.CHANGE_INSIGHT":function*(e,t){const{payload:{ref:i,insightRef:r,visualizationProperties:a},correlationId:o}=t,l=Am(yield(0,Q.Ys)($d),t,e),s=yield(0,Q.Ys)(Eu(l.insight));(0,p.kG)(s,"inconsistent store, original insight not already in store");const d=(0,n.insightTitle)(s);let c;try{c=yield(0,Q.RE)(kh,e,r)}catch(i){throw ve(e,t,`The insight with ref: ${(0,n.serializeObjRef)(r)} was not found.`)}const u=(0,n.widgetTitle)(l)!==d,g=(0,n.insightTitle)(c)!==d,m=!u&&g,h=qn({enableKDWidgetCustomHeight:!0},"insight",c);return yield(0,Q.gz)(Si([dr.upsertInsight(c),Ha.requestInsightListUpdate(),Ji.replaceInsightWidgetInsight({ref:i,insightRef:r,properties:a,header:m?{title:(0,n.insightTitle)(c)}:void 0,newSize:h,undo:{cmd:t}})])),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.INSIGHT_SWITCHED",ctx:e,correlationId:r,payload:{ref:t,insight:i}}}(e,i,c,o)},"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILLS":function*(e,t){const{payload:{drills:i=[],blacklistHierarchiesToUpdate:r=[]},correlationId:a}=t,n=Am(yield(0,Q.Ys)($d),t,e),{ref:o}=n,l=yield(0,Q.RE)(Ju,o,i,e);if(r.length>0){const e=n.ignoredDrillDownHierarchies||[];yield(0,Q.gz)(Ji.replaceWidgetBlacklistHierarchies({ref:o,blacklistHierarchies:[...e,...r],undo:{cmd:t}}))}const{drills:s=[]}=n,d=i.map((i=>Qu(i,l,e,t))),c=d.filter((e=>!Hu(e,s))),u=d.filter((e=>Hu(e,s))),g=[...s.map((e=>function(e,t=[]){return t.find((t=>t.localIdentifier===e.localIdentifier))}(e,u)||e)),...c];yield(0,Q.gz)(Si([dr.addInsights(l.resolvedInsights.loaded),Ji.replaceWidgetDrills({ref:n.ref,drillDefinitions:g,undo:{cmd:t}})]));const m=yield(0,Q.Ys)(Xd(n.ref));return yield(0,Q.RE)(eg,e,t,[m]),yield(0,Q.RE)(mg,[m]),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILLS_MODIFIED",ctx:e,correlationId:a,payload:{ref:t,added:i,updated:r}}}(e,o,c,u,a)},"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILLS":function*(e,t){const{payload:{localIdentifiers:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e),{ref:o,drills:l}=a,s=function(e,t,i,r){return"*"===e?t:e.map((e=>{try{return function(e,t=[]){const i=t.find((t=>t.localIdentifier===e.localIdentifier));if(!i)throw new Error("Cannot find drill definition specified by local identifier");return i}(e,t)}catch(t){const a=t.message;throw ve(i,r,`Invalid drill local identifier: ${(0,n.objRefToString)(e)}. Error: ${a}`)}}))}(i,l,e,t),d=l.filter((e=>!Hu(e,s)));yield(0,Q.gz)(Ji.replaceWidgetDrills({ref:o,drillDefinitions:d,undo:{cmd:t}}));const c=yield(0,Q.Ys)(Xd(o));return yield(0,Q.RE)(eg,e,t,[c]),yield(0,Q.RE)(mg,[c]),ut(e,o,s,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.REMOVE_DRILL_DOWN":function*(e,t){const{payload:{blacklistHierarchies:i},correlationId:r}=t,a=Am(yield(0,Q.Ys)($d),t,e),{ref:n,ignoredDrillDownHierarchies:o}=a,l=[...o||[],...i];return yield(0,Q.gz)(Ji.replaceWidgetBlacklistHierarchies({ref:n,blacklistHierarchies:l,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_REMOVED",ctx:e,correlationId:r,payload:{ref:t,removed:i}}}(e,n,i,r)},"GDC.DASH/CMD.INSIGHT_WIDGET.ADD_DRILL_DOWN":function*(e,t){const{payload:{attributeIdentifier:i,drillDownIdentifier:r,drillDownAttributeHierarchyRef:a},correlationId:n}=t,o=Am(yield(0,Q.Ys)($d),t,e),{ref:l,ignoredDrillDownHierarchies:s}=o,d=o.drills.filter((e=>e.localIdentifier!==r));yield(0,Q.gz)(Ji.replaceWidgetDrills({ref:o.ref,drillDefinitions:d,undo:{cmd:t}}));const c=s?s.filter((e=>!Rh(e,a,i))):[];return yield(0,Q.gz)(Ji.replaceWidgetBlacklistHierarchies({ref:l,blacklistHierarchies:c,undo:{cmd:t}})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_ADDED",ctx:e,correlationId:a,payload:{ref:t,attributeHierarchyRef:i,attribute:r}}}(e,l,a,i,n)},"GDC.DASH/CMD.INSIGHT_WIDGET.MODIFY_DRILL_DOWN":function*(e,t){const{payload:{attributeIdentifier:i,attributeHierarchyRef:r,blacklistHierarchies:a},correlationId:n}=t,o=Am(yield(0,Q.Ys)($d),t,e),{ref:l,ignoredDrillDownHierarchies:s}=o,d=[...s?s.filter((e=>!Rh(e,r,i))):[],...a];return yield(0,Q.gz)(Ji.replaceWidgetBlacklistHierarchies({ref:l,blacklistHierarchies:d,undo:{cmd:t}})),function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.DRILL_DOWN_MODIFIED",ctx:e,correlationId:r,payload:{ref:t,updated:i}}}(e,l,a,n)},"GDC.DASH/CMD.INSIGHT_WIDGET.REFRESH":function*(e,t){const i=Am(yield(0,Q.Ys)($d),t,e),{insight:r}=i;if(!(yield(0,Q.Ys)(Eu(r))))throw ve(e,t,`Insight with ref ${(0,n.objRefToString)(r)} was not found in the store.`);const a=yield(0,Q.RE)(kh,e,r);return yield(0,Q.gz)(dr.upsertInsight(a)),function(e,t,i){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.REFRESHED",ctx:e,correlationId:i,payload:{insight:t}}}(e,a,t.correlationId)},"GDC.DASH/CMD.INSIGHT_WIDGET.EXPORT":function*(e,t){const{config:i,ref:r}=t.payload;yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_REQUESTED",ctx:e,correlationId:r,payload:{ref:t,config:i}}}(e,r,i,t.correlationId)),yield(0,Q.RE)(Up,e,t,r),yield(0,Q.RE)(Gp,e,t);const a=yield(0,Q.Ys)(Fp(r));(0,p.kG)(null==a?void 0:a.executionResult);const n=yield(0,Q.RE)(Hp,a.executionResult,i),o=e.backend.config.hostname?new URL(n.uri,e.backend.config.hostname).href:n.uri;return function(e,t,i){return{type:"GDC.DASH/EVT.INSIGHT_WIDGET.EXPORT_RESOLVED",ctx:e,correlationId:i,payload:{resultUri:t.uri,result:t}}}(e,Object.assign(Object.assign({},n),{uri:o}),t.correlationId)},"GDC.DASH/CMD.ALERT.CREATE":function*(e,t){const i=yield(0,Q.RE)(jp,e,t.payload.alert);return yield(0,Q.gz)(ya.addAlert(i)),function(e,t,i){return{type:"GDC.DASH/EVT.ALERT.CREATED",ctx:e,correlationId:i,payload:{alert:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.ALERT.UPDATE":function*(e,t){const i=yield(0,Q.RE)(Bp,e,t.payload.alert);return yield(0,Q.gz)(ya.updateAlert({changes:t.payload.alert,id:(0,n.objRefToString)(t.payload.alert.ref)})),function(e,t,i){return{type:"GDC.DASH/EVT.ALERT.UPDATED",ctx:e,correlationId:i,payload:{updated:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.ALERTS.REMOVE":function*(e,t){const i=function(e,t,i){const{payload:{refs:r}}=t;return r.map((r=>{const a=e.get(r);if(!a)throw ve(i,t,`Cannot find Kpi alert with ref: ${(0,n.serializeObjRef)(r)}.`);return a}))}(yield(0,Q.Ys)(qp),t,e),r=i.map((e=>e.ref));yield(0,Q.RE)(Zp,e,r);const a=i.map((e=>(0,n.objRefToString)(e.ref)));return yield(0,Q.gz)(ya.removeAlerts(a)),function(e,t,i){return{type:"GDC.DASH/EVT.ALERTS.REMOVED",ctx:e,correlationId:i,payload:{alerts:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.SCHEDULED_EMAIL.CREATE":function*(e,t){return function(e,t,i){return{type:"GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED",ctx:e,correlationId:i,payload:{scheduledEmail:t}}}(e,yield(0,Q.RE)($p,e,t.payload.scheduledEmail,t.payload.filterContext),t.correlationId)},"GDC.DASH/CMD.SCHEDULED_EMAIL.SAVE":function*(e,t){const{scheduledEmail:i,filterContextRef:r}=t.payload;return yield(0,Q.RE)(Xp,e,i,r),function(e,t){return{type:"GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED",ctx:e,correlationId:t}}(e,t.correlationId)},"GDC.DASH/CMD.DRILL":function*(e,t){yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:t,drillContext:i}}}(e,t.payload.drillEvent,t.payload.drillContext,t.correlationId));const i=Ra(t.payload.drillEvent.drillDefinitions,t.payload.drillEvent);return function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.RESOLVED",ctx:e,correlationId:r,payload:{drillEvent:t,drillContext:i}}}(e,Object.assign(Object.assign({},t.payload.drillEvent),{drillDefinitions:i}),t.payload.drillContext,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_DOWN":function*(e,t){var i;const{drillDefinition:r,drillEvent:a,insight:n}=t.payload;return yield(0,Q.gz)(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,n,r,a,t.correlationId)),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,(0,Sn.getInsightWithAppliedDrillDown)(n,a,r,null===(i=e.backend.capabilities.supportsElementUris)||void 0===i||i),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT":function*(e,t){var i;const{drillDefinition:r,drillEvent:a}=t.payload,n=yield(0,Q.Ys)(Eu(r.target));return yield(0,Q.gz)(function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,n,r,a,t.correlationId)),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED",ctx:e,correlationId:a,payload:{insight:t,drillEvent:r,drillDefinition:i}}}(e,(0,Sn.addIntersectionFiltersToInsight)(n,a.drillContext.intersection,null===(i=e.backend.capabilities.supportsElementUris)||void 0===i||i),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD":function*(e,t){var i;yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED",ctx:e,correlationId:r,payload:{drillDefinition:t,drillEvent:i}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const r=yield(0,Q.Ys)(Qd(t.payload.drillEvent.widgetRef)),a=yield(0,Q.Ys)(Eu(r.insight));(0,p.kG)(a);const o=r.dateDataSet&&!function(e){const t=(0,n.insightMeasures)(e);return!h(t)&&t.every((e=>{if((0,n.isSimpleMeasure)(e)){const t=(0,n.measureFilters)(e);return!!(null==t?void 0:t.some(n.isDateFilter))}return!0}))}(a)?yield(0,Q.Ys)(Jp,r):void 0,l=(0,n.areObjRefsEqual)(e.dashboardRef,t.payload.drillDefinition.target)?yield(0,Q.Ys)(eh):yield(0,Q.RE)(th,e,r),s=yield(0,Q.Ys)(Kl),d=Qp(t.payload.drillEvent.drillContext.intersection,s.map((e=>e.attribute.ref)),null===(i=e.backend.capabilities.supportsElementUris)||void 0===i||i);return function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",ctx:e,correlationId:a,payload:{filters:t,drillDefinition:i,drillEvent:r}}}(e,wa([o,...d,...l]),t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL":function*(e,t){yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const[i,r]=yield(0,Q.$6)([(0,Q.RE)(ah,t.payload.drillDefinition,t.payload.drillEvent,e),(0,Q.RE)(lh,e,t.payload.drillEvent.widgetRef)]),{widgetRef:a}=t.payload.drillEvent,n=yield(0,Q.Ys)(ec(a)),o=!Oa(t.payload.drillDefinition,n);return function(e,t,i,r,a,n,o){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED",ctx:e,correlationId:o,payload:{drillEvent:r,drillDefinition:i,url:t,filtersInfo:a,isImplicit:n}}}(e,i,t.payload.drillDefinition,t.payload.drillEvent,r,o,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL":function*(e,t){yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const[i,r]=yield(0,Q.$6)([(0,Q.RE)(Dh,t.payload.drillDefinition,t.payload.drillEvent.widgetRef,t.payload.drillEvent,e,t),(0,Q.RE)(lh,e,t.payload.drillEvent.widgetRef)]);return function(e,t,i,r,a,n){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED",ctx:e,correlationId:n,payload:{url:t,drillEvent:r,drillDefinition:i,filtersInfo:a}}}(e,i,t.payload.drillDefinition,t.payload.drillEvent,r,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD":function*(e,t){return yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)),function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED",ctx:e,correlationId:r,payload:{drillEvent:i,drillDefinition:t}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.CROSS_FILTERING":function*(e,t){var i,r,a,o,l,s,d,c,u,g,m,p,h,f;yield(0,Q.gz)(function(e,t,i,r){return{type:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED",ctx:e,correlationId:r,payload:{drillDefinition:t,drillEvent:i}}}(e,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId));const b=!!e.backend.capabilities.supportsElementUris,v=t.payload.drillEvent.widgetRef,D=yield(0,Q.Ys)(od),y=(yield(0,Q.Ys)(Kl)).map((e=>e.attribute.ref)),E=yield(0,Q.Ys)(Bd),I=E.map((e=>D.find((t=>t.attributeFilter.localIdentifier===e))));let C=[];t.payload.drillEvent.drillContext.intersection?C=Qp(t.payload.drillEvent.drillContext.intersection,y,b):(null===(r=null===(i=t.payload.drillEvent)||void 0===i?void 0:i.drillContext)||void 0===r?void 0:r.points)&&(1===(null===(l=null===(o=null===(a=t.payload.drillEvent)||void 0===a?void 0:a.drillContext)||void 0===o?void 0:o.points)||void 0===l?void 0:l.length)?C=Qp(null===(c=null===(d=null===(s=t.payload.drillEvent)||void 0===s?void 0:s.drillContext)||void 0===d?void 0:d.points[0])||void 0===c?void 0:c.intersection,y,b):(null===(m=null===(g=null===(u=t.payload.drillEvent)||void 0===u?void 0:u.drillContext)||void 0===g?void 0:g.points)||void 0===m?void 0:m.length)>1&&(C=Qp(null===(f=null===(h=null===(p=t.payload.drillEvent)||void 0===p?void 0:p.drillContext)||void 0===h?void 0:h.points[0])||void 0===f?void 0:f.intersection.slice(-1),y,b)));const S=C.map((e=>{var t;const i=(0,n.filterObjRef)(e),r=(0,n.filterAttributeElements)(e),a=(0,n.isNegativeAttributeFilter)(e),o=I.find((e=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,i)));return{attributeFilter:{displayForm:i,attributeElements:r,negativeSelection:a,localIdentifier:null!==(t=null==o?void 0:o.attributeFilter.localIdentifier)&&void 0!==t?t:(0,J.Z)(),selectionMode:"multi"}}})),w=`crossFiltering_${(0,J.Z)()}`;return yield(0,Q.$6)(S.map((t=>E.includes(t.attributeFilter.localIdentifier)?(0,Q.RE)(tm,e,Hh(t.attributeFilter.localIdentifier,t.attributeFilter.attributeElements,t.attributeFilter.negativeSelection?"NOT_IN":"IN",w)):(0,Q.RE)(em,e,Fh(t.attributeFilter.displayForm,D.length+1,w,"multi","readonly",t.attributeFilter.attributeElements,t.attributeFilter.negativeSelection,t.attributeFilter.localIdentifier))))),yield(0,Q.gz)(bs.crossFilterByWidget({widgetRef:v,filterLocalIdentifiers:S.map((e=>e.attributeFilter.localIdentifier))})),function(e,t,i,r,a){return{type:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED",ctx:e,correlationId:a,payload:{filters:t,drillDefinition:i,drillEvent:r}}}(e,S,t.payload.drillDefinition,t.payload.drillEvent,t.correlationId)},"GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE":function*(e,t){const{drillableItems:i}=t.payload;return yield(0,Q.gz)(bs.setDrillableItems(i)),function(e,t,i){return{type:"GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED",ctx:e,correlationId:i,payload:{drillableItems:t}}}(e,i,t.correlationId)},"GDC.DASH/CMD.DRILL_TARGETS.ADD":function*(e,t){const{payload:{availableDrillTargets:i},correlationId:r}=t,a=yield(0,Q.Ys)($d),n=yield(0,Q.Ys)(pl),o=Am(a,t,e),l=function(e,t,i,r){const a=e,n=null==a?void 0:a.attributes;if(!t&&n&&n.length>0)throw ve(i,r,"Attributes in availableDrillTargets are not supported when enableKPIDashboardDrillFromAttribute FF is set to false");return a}(i,n,e,t),{ref:s,uri:d,identifier:c}=o;return yield(0,Q.gz)(Ch.addDrillTargets({identifier:c,uri:d,ref:s,availableDrillTargets:l})),(yield(0,Q.Ys)(yc))&&(yield(0,Q.RE)(eg,e,t,[o]),yield(0,Q.RE)(mg,[o])),Bt(e,s,i,r)},"GDC.DASH/CMD.RENDER.ASYNC.REQUEST":function(e,t){const{payload:{id:i},correlationId:r}=t;return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER.ASYNC.REQUESTED",correlationId:i,ctx:t,payload:{id:e}}}(i,e,r)},"GDC.DASH/CMD.RENDER.ASYNC.RESOLVE":function(e,t){const{payload:{id:i},correlationId:r}=t;return function(e,t,i){return{type:"GDC.DASH/EVT.RENDER.ASYNC.RESOLVED",correlationId:i,ctx:t,payload:{id:e}}}(i,e,r)}};function*qh(e,t){yield cr(ye(e,t.correlationId))}const Yh="__C";function Zh(e,t){var i,r,a;return{type:`${Yh}(${e.type})`,command:e,onError:null!==(i=null==t?void 0:t.onError)&&void 0!==i?i:K,onStart:null!==(r=null==t?void 0:t.onStart)&&void 0!==r?r:K,onSuccess:null!==(a=null==t?void 0:t.onSuccess)&&void 0!==a?a:K}}function*$h(e,t){var i;const{command:r,command:{type:a,correlationId:n}}=t,o=null!=n?n:"(no correlationId provided)",l=null!==(i=Kh[t.command.type])&&void 0!==i?i:qh;try{yield cr(function(e,t){return{type:"GDC.DASH/EVT.COMMAND.STARTED",ctx:e,correlationId:t.correlationId,payload:{command:t}}}(e,t.command));try{t.onStart(r)}catch(e){console.warn(`An error has occurred while calling onStart function provided for ${a}@${o} processing:`,e)}const i=yield(0,Q.RE)(l,e,r);ee(i)&&(yield cr(i));try{t.onSuccess(i)}catch(e){console.warn(`An error has occurred while calling onSuccess function provided for ${a}@${o} processing`,e)}}catch(i){try{t.onError(i)}catch(e){console.warn(`An error has occurred while calling onError function provided for ${a}@${o} processing:`,e)}De(i)?yield cr(i):yield cr(function(e,t,i,r){return{type:"GDC.DASH/EVT.COMMAND.FAILED",ctx:e,correlationId:t.correlationId,payload:{reason:"INTERNAL_ERROR",command:t,message:i,error:r}}}(e,r,`Internal error has occurred while handling ${a}`,i))}}function*Xh(){const e=yield(0,Q.ZO)((e=>e.type&&(e.type.startsWith(Yh)||e.type.startsWith("GDC.DASH/CMD"))));for(;;){const r=(t=yield(0,Q.qn)(e),i=void 0,(i=t)&&i.type.startsWith(Yh)?t:Zh(t)),a=yield(0,Q.RE)(ss);yield(0,Q.RE)($h,a,r)}var t,i}var Qh=i(48403);function Jh(e,t,i){const r=function(e,t){const i=function(e){const t=e.split("/")[1];(0,p.kG)(t,`Trying to create slice for query data but the query type name seems invalid: ${e}. Must always start with "GDC.DASH/QUERY." prefix`);const i=t.split(".").slice(1).map(Qh);return i[0]=i[0].toLowerCase(),`${i.join("")}Cache`}(e),r=(0,Ei.HF)({selectId:e=>t(e.query)}),a={set:r.setOne,remove:r.removeOne,removeAll:r.removeAll},n=(0,Ei.oM)({name:i,initialState:r.getInitialState(),reducers:a}),o=r.getSelectors((e=>e._queryCache[i])),l=$s((e=>{const i=t(e);return(0,Do.createSelector)((e=>e),(e=>o.selectById(e,i)))}),(e=>t(e)));return{cacheName:i,reducer:n.reducer,actions:n.actions,selectQueryResult:l,selectById:e=>(0,Do.createSelector)((e=>e),(t=>o.selectById(t,e)))}}(e,i);return{name:e,generator:function*(e,a,n=!1){const o=i(a),l=yield(0,Q.Ys)(r.selectById(o));if((null==l?void 0:l.result)&&!n)return l.result;try{yield(0,Q.gz)(r.actions.set({query:a,status:"loading"}));const i=yield(0,Q.RE)(t,e,a);return yield(0,Q.gz)(r.actions.set({query:a,status:"success",result:i})),i}catch(e){throw yield(0,Q.gz)(r.actions.set({query:a,status:"error",error:e.message})),e}},cache:r}}function ef(e,t){return{name:e,generator:t}}function tf(e,t){const i=(r=t,(e,t)=>r[e.dataSet.title].localeCompare(r[t.dataSet.title]));var r;return e.slice().sort(((e,t)=>e.relevance===t.relevance?i(e,t):((e,t)=>t.relevance-e.relevance)(e,t)))}function rf(e){return e.dataSet.title.trim().replace(/^Date \((.*)\)$/,"$1")}function*af(e,t){var i,r;const{backend:a,workspace:o}=e,l=yield(0,Q.Ys)(Ko),s=a.workspace(o).catalog(),d=(yield(0,Q.RE)([s,s.load])).availableItems().withOptions({types:["dateDataset"],insight:t,excludeTags:(null!==(i=l.excludeObjectsWithTags)&&void 0!==i?i:[]).map((e=>(0,n.idRef)(e))),includeTags:(null!==(r=l.includeObjectsWithTags)&&void 0!==r?r:[]).map((e=>(0,n.idRef)(e)))});return(yield(0,Q.RE)([d,d.load])).availableDateDatasets()}const nf=Jh("GDC.DASH/QUERY.INSIGHT.DATE.DATASETS",(function*(e,t){var i,r;const{payload:{insightOrRef:a},correlationId:o}=t;let l;if((0,n.isObjRef)(a)){if(l=yield(0,Q.Ys)(Eu(a)),!l)throw Ce(e,`Insight with ref ${(0,n.objRefToString)(a)} does not exist on the dashboard`,o)}else l=a;const s=yield(0,Q.RE)(af,e,l),d=yield(0,Q.RE)(sf,l),{usedInDateFilters:c,usedInAttributes:u,usedInAttributeFilters:g}=d,m=null!==(r=null!==(i=c[0])&&void 0!==i?i:u[0])&&void 0!==r?r:g[0],p=Kr([...s,...c,...u,...g].filter(n.isCatalogDateDataset),(e=>(0,n.serializeObjRef)(e.dataSet.ref))),h=og(p.map((e=>[e.dataSet.title,rf(e)])));return{dateDatasets:s,dateDatasetsOrdered:tf(s,h),usedInDateFilters:c,usedInAttributes:u,usedInAttributeFilters:g,dateDatasetDisplayNames:h,mostImportantFromInsight:m,allAvailableDateDatasets:p}}),(e=>{const{payload:{insightOrRef:t}}=e,i=(0,n.isObjRef)(t)?t:(0,n.insightRef)(t);return(0,n.serializeObjRef)(i)})),of=nf.cache.selectQueryResult;function*lf(e,t){const i=yield(0,Q.RE)(ug,gm(e)),{usage:{inAttributes:r,inFilters:a},displayForms:n}=i,o=c(n,(yield(0,Q.Ys)(Eo)).hasTypeScopedIdentifiers),l=e=>{var i;const r=o.get(e);(0,p.kG)(r);const a=r.attribute;return null===(i=t.get(a))||void 0===i?void 0:i.dataset};return{usedInAttributes:wa(r.map(l)),usedInAttributeFilters:wa(a.map(l))}}function*sf(e){const t=yield(0,Q.Ys)(es),i=yield(0,Q.Ys)(as),r=function(e,t){return(0,n.insightFilters)(e).filter(n.isDateFilter).map((e=>{const i=(0,n.filterObjRef)(e),r=t.get(i);return(0,p.kG)(r,`cannot find metadata for date dataset ${(0,n.objRefToString)(i)}`),r}))}(e,t),a=yield(0,Q.RE)(lf,e,i),{usedInAttributes:o,usedInAttributeFilters:l}=a;return{usedInDateFilters:r,usedInAttributes:o,usedInAttributeFilters:l}}const df=Jh("GDC.DASH/QUERY.INSIGHT.ATTRIBUTE.META",(function*(e,t){const{correlationId:i,payload:{insightOrRef:r}}=t;let a;if((0,n.isObjRef)(r)){if(a=yield(0,Q.Ys)(Eu(r)),!a)throw Ce(e,`Insight with ref ${(0,n.objRefToString)(r)} does not exist on the dashboard`,i)}else a=r;const o=(0,n.insightDisplayFormUsage)(a),l=yield(0,Q.Ys)(ts),s=yield(0,Q.Ys)(is);return yield(0,Q.RE)(uf,e,o,l,s)}),(e=>{const{payload:{insightOrRef:t}}=e,i=(0,n.isObjRef)(t)?t:(0,n.insightRef)(t);return(0,n.serializeObjRef)(i)})),cf=df.cache.selectQueryResult;async function uf(e,t,i,r){const a=[...t.inAttributes,...t.inFilters,...t.inMeasureFilters],o=[],l=[];a.forEach((e=>{const t=i.get(e);t?o.push(t):l.push(e)}));const s=o.map((e=>{const t=r.get(e.attribute);return(0,p.kG)(t,"dashboard metadata catalog is corrupted"),t.attribute})),{loadedDisplayForms:d,loadedAttributes:c}=await async function(e,t){const{backend:i,workspace:r}=e,a=await i.workspace(r).attributes().getAttributeDisplayForms(t),n=await i.workspace(r).attributes().getAttributes(a.map((e=>e.attribute)));return{loadedDisplayForms:a,loadedAttributes:n}}(e,l);return{usage:t,attributes:Kr([...s,...c],(e=>(0,n.serializeObjRef)(e.ref))),displayForms:Kr([...o,...d],(e=>(0,n.serializeObjRef)(e.ref)))}}const gf=ef("GDC.DASH/QUERY.WIDGET.FILTERS",(function*(e,t){const{payload:{widgetRef:i,insight:r},correlationId:a}=t,o=Xd(i),l=yield(0,Q.Ys)(o);if(!l)throw Ce(e,`Widget with ref ${(0,n.objRefToString)(i)} does not exist on the dashboard`,a);if(r)return yield(0,Q.RE)(Df,e,l,r);if((0,n.isInsightWidget)(l)){const t=l.insight,i=Eu(t),r=yield(0,Q.Ys)(i);if(!r)throw Ce(e,`Insight with ref ${(0,n.objRefToString)(t)} does not exist on the dashboard`,a);return yield(0,Q.RE)(Df,e,l,r)}return yield(0,Q.RE)(yf,e,l)}));function mf(e,t,i){return(0,n.areObjRefsEqual)(e,t.ref)||(0,n.areObjRefsEqual)(e,(0,n.idRef)(t.id,i))||(0,n.areObjRefsEqual)(e,(0,n.uriRef)(t.uri))}function*pf(e,t){const i=t.map(n.filterObjRef),r=yield(0,Q.RE)(os,e,wa(i));return(0,p.kG)(h(r.missing)),t.map((e=>({filter:e,displayForm:r.resolved.get((0,n.filterObjRef)(e))})))}function*hf(e,t,i,r){return[...yield(0,Q.RE)(ff,e,t,i),...r]}function*ff(e,t,i){const r=function(e,t){return t.filter((({displayForm:t})=>{var i;return!(t&&(null===(i=e.ignoreDashboardFilters)||void 0===i?void 0:i.filter(n.isDashboardAttributeFilterReference).some((e=>mf(e.displayForm,t,"displayForm")))))}))}(t,yield(0,Q.RE)(pf,e,i));return r.map((e=>e.filter))}function bf(e,t,i,r){return function(e){const t=(0,n.insightMeasures)(e,n.isSimpleMeasure);return t.length>0&&t.every((e=>{var t;return null===(t=(0,n.measureFilters)(e))||void 0===t?void 0:t.some(n.isDateFilter)}))}(t)?r:vf(e,[...r,...i])}function vf(e,t){const i=function(e,t){const i=es(e);return t.map((e=>({dateDataset:i.get((0,n.filterObjRef)(e)),filter:e})))}(e,t);return function(e){return e.filter((e=>!!e.dateDataset)).reduceRight(((e,t)=>(e.some((e=>mf((0,n.filterObjRef)(e),t.dateDataset.dataSet,"dataSet")))||e.push(t.filter),e)),[]).filter((e=>!(0,n.isAllTimeDateFilter)(e)))}(i)}function*Df(e,t,i){const r=tc(t.ref),a=yield(0,Q.Ys)(r);!a.filter(n.isDateFilter).length&&t.dateDataSet&&a.push((0,n.newAllTimeFilter)(t.dateDataSet));const o=(0,n.insightFilters)(i),[l,s]=yield(0,Q.$6)([(0,Q.Ys)(bf,i,a.filter(n.isDateFilter),o.filter(n.isDateFilter)),(0,Q.RE)(hf,e,t,a.filter(n.isAttributeFilter),o.filter(n.isAttributeFilter))]);return[...l,...s,...o.filter(n.isMeasureValueFilter),...o.filter(n.isRankingFilter)]}function*yf(e,t){const i=tc(t.ref),r=yield(0,Q.Ys)(i),[a,o]=yield(0,Q.$6)([(0,Q.Ys)(vf,r.filter(n.isDateFilter)),(0,Q.RE)(ff,e,t,r.filter(n.isAttributeFilter))]);return[...a,...o]}const Ef=Jh("GDC.DASH/QUERY.MEASURE.DATE.DATASETS",(function*(e,t){const{payload:{measureRef:i}}=t,r=(yield(0,Q.Ys)(rs)).get(i);if(!r)throw Ce(e,`Measure ${(0,n.objRefToString)(i)} does not exist.`,t.correlationId);const a=(0,n.newInsightDefinition)("local:headline",(e=>e.buckets([(0,n.newBucket)("measures",(0,n.newMeasure)(r.measure.ref,(e=>e.localId("measure_date_datasets_availability"))))]))),o=yield(0,Q.RE)(af,e,a),l=og(o.map((e=>[e.dataSet.title,rf(e)])));return{dateDatasets:o,dateDatasetsOrdered:tf(o,l),dateDatasetDisplayNames:l}}),(e=>(0,n.serializeObjRef)(e.payload.measureRef))),If=Ef.cache.selectQueryResult;const Cf=ef("GDC.DASH/QUERY.WIDGET.BROKEN_ALERTS",(function*(e,t){var i;const{payload:{widgetRef:r},correlationId:a}=t,{alert:o,kpiWidget:l}=yield(0,Q.RE)(Sf,r,e,a),s=null===(i=null==o?void 0:o.filterContext)||void 0===i?void 0:i.filters;if(!o||!s)return[];const d=yield(0,Q.RE)(wf,o,e);return function(e,t,i,r){var a,o;const l=null===(a=null==e?void 0:e.filterContext)||void 0===a?void 0:a.filters;if(!l)return[];const s=[],[d,c]=Ti(l,n.isDashboardDateFilter),u=i.filter(n.isAttributeFilter);c.forEach((e=>{const i=r.get(e.attributeFilter.displayForm);(0,p.kG)(i,`Alert filter display form not resolved ${e.attributeFilter.displayForm}`);const a=(o=t,l=i.ref,o.ignoreDashboardFilters.some((e=>(0,n.isDashboardAttributeFilterReference)(e)&&(0,n.areObjRefsEqual)(e.displayForm,l))));var o,l;a?s.push({alertFilter:e,brokenType:"ignored"}):!u.some((e=>(0,n.areObjRefsEqual)((0,n.filterObjRef)(e),i.ref)))&&s.push({alertFilter:e,brokenType:"deleted"})}));const g=Aa(d);if(g){const e=function(e){const t=e.dateDataSet,i=!!t&&function(e,t){return e.ignoreDashboardFilters.some((e=>(0,n.isDashboardDateFilterReference)(e)&&(0,n.areObjRefsEqual)(e.dataSet,t)))}(e,t);return!t||i}(t);e&&s.push({alertFilter:{dateFilter:Object.assign(Object.assign({},g.dateFilter),{dataSet:null!==(o=g.dateFilter.dataSet)&&void 0!==o?o:t.dateDataSet})},brokenType:"ignored"})}return s}(o,l,yield(0,Q.RE)(Tf,l),d)}));function*Sf(e,t,i){const r=Qd(e),a=yield(0,Q.Ys)(r);if(!a)throw Ce(t,`Widget with ref ${(0,n.objRefToString)(e)} does not exist on the dashboard`,i);if(!(0,n.isKpiWidget)(a))throw Ce(t,`Widget with ref ${(0,n.objRefToString)(e)} is not IKpiWidget, only IKpiWidget could has alert assign.`,i);const o=Kp(a.ref);return{alert:yield(0,Q.Ys)(o),kpiWidget:a}}function*wf(e,t){const i=function(e){var t,i;return(null!==(i=null===(t=e.filterContext)||void 0===t?void 0:t.filters)&&void 0!==i?i:[]).filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.displayForm))}(e),r=yield(0,Q.RE)(os,t,i);return(0,p.kG)(h(r.missing),"Unable resolve some AttributeDisplayForms defined by alert filters"),r.resolved}function*Tf(e){const t=Id(yield(0,Q.Ys)(nd),e);return null!=t?t:[]}const Af=ef("GDC.DASH/QUERY.WIDGET.ALERT_COUNT",(function*(e,t){const{payload:{widgetRef:i},correlationId:r}=t,a=yield(0,Q.Ys)(Xd(i));if(!a)throw Ce(e,`Widget with ref ${(0,n.objRefToString)(i)} does not exist on the dashboard`,r);if(!(0,n.isKpiWidget)(a)||hu(a))return 0;const o=e.backend.workspace(e.workspace).dashboards(),[l]=yield(0,Q.RE)([o,o.getWidgetAlertsCountForWidgets],[i]);return l.alertCount})),Pf=Jh("GDC.DASH/QUERY.CONNECTING.ATTRIBUTES",(function*(e,t){const{payload:{refs:i},correlationId:r}=t,a=yield(0,Q.RE)(xf,i),n=wa(a.map((e=>wa(e))));if(i.length!==n.length)throw Ce(e,"Cannot find attributes for given displayForms",r);const o=yield(0,Q.RE)(kf,e,n);return yield(0,Q.RE)(Rf,e,o)}),(e=>{const{payload:{refs:t}}=e;return t.flatMap((e=>e)).map(n.serializeObjRef).join("&")}));async function kf(e,t){const{backend:i,workspace:r}=e;return await i.workspace(r).attributes().getCommonAttributesBatch(t)}async function Rf(e,t){const{backend:i,workspace:r}=e;return(await Promise.all(t.map((e=>Promise.all(e.map((e=>i.workspace(r).attributes().getAttribute(e)))))))).map((e=>e.map((e=>({title:e.title,ref:e.ref})))))}function*xf(e){const t=yield(0,Q.Ys)(ad);return e.map((e=>e.map((e=>{var i;return null===(i=t.get(e))||void 0===i?void 0:i.attribute}))))}const Lf=Jh("GDC.DASH/QUERY.DISPLAY.FORM.ATTRIBUTE",(function*(e,t){const{payload:{displayForms:i},correlationId:r}=t,a=yield(0,Q.Ys)(_l),n=yield(0,Q.RE)(Of,e,a,i);if(!n)throw Ce(e,"Cannot find attribute for given displayForm",r);return n}),(e=>{const{payload:{displayForms:t}}=e;return t.map((e=>(0,n.serializeObjRef)(e))).join()}));async function Of(e,t,i){return Promise.all(i.map((i=>async function(e,t,i){const{backend:r,workspace:a}=e,o=t.find((e=>e.displayForms.some((e=>(0,n.areObjRefsEqual)(e.ref,i)))));return o?o.attribute:r.workspace(a).attributes().getAttributeByDisplayForm(i)}(e,t,i))))}const Ff=Jh("GDC.DASH/QUERY.DATA.SET.ATTRIBUTE",(function*(e,t){const{payload:{displayForm:i},correlationId:r}=t,a=yield(0,Q.RE)(Mf,e,i);if(!a)throw Ce(e,"Cannot find attribute data set for given displayForm",r);return a}),(e=>{const{payload:{displayForm:t}}=e;return(0,n.serializeObjRef)(t)}));async function Mf(e,t){const{backend:i,workspace:r}=e;return i.workspace(r).attributes().getAttributeDatasetMeta(t)}const Nf=Jh("GDC.DASH/QUERY.ELEMENTS.ATTRIBUTE",(function*(e,t){const{payload:{displayForm:i,limit:r},correlationId:a}=t,n=yield(0,Q.RE)(_f,e,i,r);if(!n)throw Ce(e,"Cannot find attribute elements for given displayForm",a);return{elements:n.items,totalCount:n.totalCount}}),(e=>{const{payload:{displayForm:t}}=e;return(0,n.serializeObjRef)(t)}));async function _f(e,t,i){const{backend:r,workspace:a}=e;let n=r.workspace(a).attributes().elements().forDisplayForm(t);return i&&(n=n.withLimit(i)),n.query()}const Hf=Jh("GDC.DASH/QUERY.CONNECTED.ATTRIBUTES",(function*(e,t){const{payload:{ref:i}}=t;return yield(0,Q.RE)(Uf,e,i)}),(e=>{const{payload:{ref:t}}=e;return(0,n.serializeObjRef)(t)}));async function Uf(e,t){const{backend:i,workspace:r}=e;return await i.workspace(r).attributes().getConnectedAttributesByDisplayForm(t)}const Gf=[nf,df,gf,Ef,Cf,Af,Pf,Lf,Ff,Nf,Hf];var jf=i(25356);const Bf=(0,jf.b)(Ii.ZP),zf=["GDC.DASH/EVT.COMMAND.STARTED","GDC.DASH/EVT.COMMAND.FAILED","GDC.DASH/EVT.QUERY.FAILED","@@GDC.DASH.SAVE_NEW","@@GDC.DASH.SAVE_EXISTING","@@GDC.DASH.SAVE_AS","GDC.DASH/EVT.WIDGET.EXECUTION_STARTED","GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED","GDC.DASH/EVT.WIDGET.EXECUTION_FAILED","GDC.DASH/CMD.EVENT.TRIGGER","GDC.DASH/CMD.DRILL","GDC.DASH/CMD.EXECUTION_RESULT.UPSERT","GDC.DASH/EVT.DRILL.REQUESTED","GDC.DASH/EVT.DRILL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_DOWN","GDC.DASH/EVT.DRILL.DRILL_DOWN.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT","GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD","GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL","GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL","GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED","GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD","GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.REQUESTED","GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED","GDC.DASH/CMD.DRILL.CROSS_FILTERING","GDC.DASH/EVT.DRILL.CROSS_FILTERING.REQUESTED","GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED","GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE","GDC.DASH/EVT.DRILL.DRILLABLE_ITEMS.CHANGED","meta/setDrillableItems","layout/updateWidgetIdentities","executionResults/upsertExecutionResult","loadingSlice/setLoadingError"];function*Wf(e,t,i,r){const a=yield(0,Q.RE)(ss);try{yield(0,Q.rM)(e),yield(0,Q.rM)(t),yield(0,Q.rM)(i);for(const e of r)yield(0,Q.rM)(e,a)}catch(e){console.error("Root saga failed",e)}}const Vf=()=>e=>t=>{const i=+new Date;return t.meta=Object.assign(Object.assign({},t.meta),{acceptedTimestamp:i}),t.type.startsWith("GDC.DASH/CMD.")&&(t.meta=Object.assign(Object.assign({},t.meta),{uuid:(0,J.Z)()})),e(t)};function Kf(e){var t,i;const r=function(e){const t=Cn(e,(e=>e.name)),i=og(wa(e.map((e=>e.cache?[e.cache.cacheName,e.cache.reducer]:null))));return{queryCacheReducer:(0,yi.combineReducers)(i),rootQueryProcessor:function*(){const e=yield(0,Q.ZO)((e=>e.type&&(e.type.startsWith(lg)||e.type.startsWith("GDC.DASH/QUERY."))));for(;;){const o=(i=yield(0,Q.qn)(e),r=void 0,(r=i)&&r.type.startsWith(lg)?i:sg(i)),l=yield(0,Q.RE)(ss),s=t[o.query.type];s?yield(0,Q.Cs)(cg,s,l,o):yield cr((a=l,n=o.query.correlationId,{type:"GDC.DASH/EVT.QUERY.REJECTED",ctx:a,correlationId:n}))}var i,r,a,n}}}(function(e,t=[]){return o(Sm({},Cn(e,(e=>e.name)),Cn(t,(e=>e.name))))}(Gf,e.queryServices)),a=Bf({context:{dashboardContext:e.dashboardContext,privateContext:null!==(t=e.privateContext)&&void 0!==t?t:{}}}),n=(0,yi.combineReducers)({loading:tr,saving:ar,backendCapabilities:Ya,config:Gr,entitlements:zr,permissions:da,filterContext:Ri,layout:Qi,dateFilterConfig:Tr,attributeFilterConfigs:gs,insights:sr,alerts:Da,drillTargets:Ih,catalog:ha,user:Ca,meta:yn,drill:fs,listedDashboards:Va,accessibleDashboards:ks,inaccessibleDashboards:bg,legacyDashboards:Ns,executionResults:ws,renderMode:Ga,ui:_a,dashboardPermissions:Gs,_queryCache:r.queryCacheReducer}),l=(0,Ei.xC)({reducer:wi(n),middleware:t=>t({thunk:!1,serializableCheck:{ignoredActions:zf,ignoredActionPaths:["ctx","onStart","onError","onSuccess"],ignoredPaths:["drill.drillableItems","executionResults"],warnAfter:128}}).prepend(Vf).concat(...e.additionalMiddleware?[e.additionalMiddleware]:[],a),devTools:{name:"Dashboard component state"}}),{eventing:s={}}=e;s.onStateChange&&l.subscribe((()=>{var e;return null===(e=s.onStateChange)||void 0===e?void 0:e.call(s,l.getState(),l.dispatch)}));const d=function(e=[],t){let i=[...e];return{registerHandler:e=>{i.push(e)},unregisterHandler:e=>{i=i.filter((t=>t!==e))},eventEmitterSaga:function*(){const e=yield(0,Q.ZO)(ie);for(;;){const r=yield(0,Q.qn)(e),a=yield(0,Q.Ys)(),n=e=>e(a);try{i.forEach((e=>{e.eval(r)&&e.handler(r,t,n)}))}catch(e){console.error("Error has occurred while dispatching event",r,e)}}}}}(s.initialEventHandlers,l.dispatch);null===(i=s.onEventingInitialized)||void 0===i||i.call(s,d.registerHandler,d.unregisterHandler);const c=a.run(Wf,d.eventEmitterSaga,Xh,r.rootQueryProcessor,e.backgroundWorkers);return{store:l,registerEventHandler:d.registerHandler,unregisterEventHandler:d.unregisterHandler,rootSagaTask:c}}function qf(e,t){const i=(0,n.isDashboard)(t.dashboard)?t.dashboard.ref:t.dashboard;null==e||e.store.dispatch({type:"GDC.DASH/EVT.DEINITIALIZED",ctx:{backend:t.backend,workspace:t.workspace,dashboardRef:i,filterContextRef:t.filterContextRef,clientId:t.clientId,dataProductId:t.dataProductId},correlationId:undefined,payload:{dashboard:i}})}const Yf=R.createContext(null),Zf=function(e){void 0===e&&(e=O);var t=e===O?z:B(e);return function(){return t().dispatch}}(Yf),$f=function(e){void 0===e&&(e=O);var t=e===O?j:function(){return(0,x.useContext)(e)};return function(e,i){void 0===i&&(i=V);var r=t(),a=function(e,t,i,r){var a,n=(0,x.useReducer)((function(e){return e+1}),0)[1],o=(0,x.useMemo)((function(){return _(i,r)}),[i,r]),l=(0,x.useRef)(),s=(0,x.useRef)(),d=(0,x.useRef)(),c=(0,x.useRef)(),u=i.getState();try{if(e!==s.current||u!==d.current||l.current){var g=e(u);a=void 0!==c.current&&t(g,c.current)?c.current:g}else a=c.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return H((function(){s.current=e,d.current=u,c.current=a,l.current=void 0})),H((function(){function e(){try{var e=i.getState();if(e===d.current)return;var r=s.current(e);if(t(r,c.current))return;c.current=r,d.current=e}catch(e){l.current=e}n()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}}),[i,o]),a}(e,i,r.store,r.subscription);return(0,x.useDebugValue)(a),a}}(Yf),Xf=e=>{const t=(e=>{var t,i;const{dashboard:r,persistedDashboard:a}=e,o=(0,$.useBackendStrict)(e.backend),l=(0,$.useWorkspace)(e.workspace),s=(0,X.useMapboxToken)(null===(t=e.config)||void 0===t?void 0:t.mapboxToken),{client:d,dataProduct:c}=null!==(i=(0,$.useClientWorkspaceIdentifiers)())&&void 0!==i?i:{},[u,g]=(0,R.useState)(null),m=(0,n.isDashboard)(r)?r.ref:r,p={backend:o,workspace:l,dashboard:r,filterContextRef:e.filterContextRef,clientId:d,dataProductId:c,initialEventHandlers:e.eventHandlers},h=(0,$.usePrevious)(p);return function(e,t){const i=(0,R.useRef)(e),r=(0,R.useRef)(t);(0,R.useEffect)((()=>{i.current=e,r.current=t})),(0,R.useEffect)((()=>()=>{qf(i.current,r.current)}),[])}(u,p),(0,R.useEffect)((()=>{var t;if(!function(e,t){if(e===t)return!0;if(!e||!t)return!1;const i=Object.keys(e),r=Object.keys(t),a=i.length;if(r.length!==a)return!1;for(let r=0;r<a;r++){const a=i[r];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}(h,p)||!u){if(u){qf(u,h);try{u.rootSagaTask.cancel()}catch(e){}}const i=[ai()],d=Kf({dashboardContext:{backend:o,workspace:l,dashboardRef:m,filterContextRef:p.filterContextRef,clientId:p.clientId,dataProductId:p.dataProductId},eventing:{initialEventHandlers:e.eventHandlers,onStateChange:e.onStateChange,onEventingInitialized:e.onEventingInitialized},backgroundWorkers:i,privateContext:Object.assign(Object.assign({},e.customizationFns),{widgetsOverlayFn:e.widgetsOverlayFn,preloadedDashboard:(0,n.isDashboard)(r)?r:void 0}),initialRenderMode:null!==(t=e.initialRenderMode)&&void 0!==t?t:"view"});d.store.dispatch(ci((0,X.enrichMapboxToken)(e.config,s),e.permissions,a,si)),g(d)}})),u})(e),{additionalReduxContext:i}=e;return t?null!=i&&i!==Yf?R.createElement(U,{store:t.store,context:Yf},R.createElement(U,{store:t.store,context:i},R.createElement(Z,{registerHandler:t.registerEventHandler,unregisterHandler:t.unregisterEventHandler},e.children))):R.createElement(U,{store:t.store,context:Yf},R.createElement(Z,{registerHandler:t.registerEventHandler,unregisterHandler:t.unregisterEventHandler},e.children)):null},Qf=(e,t,i)=>{const r=Zf(),{registerHandler:a,unregisterHandler:n}=Y();return(0,R.useCallback)(((...o)=>{var l;let s=e(...o);const d=null!==(l=s.correlationId)&&void 0!==l?l:(0,J.Z)();s.correlationId||(s=Object.assign(Object.assign({},s),{correlationId:d}));const c=t?Object.keys(t).map((e=>({eval:t=>t.type===e,handler:i=>{i.correlationId===d&&(c.forEach((e=>{n(e)})),t[e](i))}}))):[];c.forEach((e=>{a(e)})),null==i||i(s),r(s)}),[])},Jf=({commandCreator:e,successEvent:t,errorEvent:i,onSuccess:r,onError:a,onBeforeRun:n})=>{const[o,l]=(0,R.useState)();return{run:Qf(e,{[t]:e=>{l("success"),null==r||r(e)},[i]:e=>{l("error"),null==a||a(e)}},(e=>{l("running"),null==n||n(e)})),status:o}};function eb(e,t){return{type:"GDC.DASH/CMD.EVENT.TRIGGER",correlationId:t,payload:{eventBody:e}}}const tb=()=>{const e=Zf();return(0,R.useCallback)((t=>{(0,p.kG)(ie(t),"Unsupported event passed to useDashboardEventDispatch result.");const i=eb(t);e(i)}),[e])};async function ib(e,t){const{promise:i,envelope:r}=dg(t);return e(r),i}const rb=({queryCreator:e,onSuccess:t,onError:i,onRejected:r,onBeforeRun:a})=>{const[n,o]=(0,R.useState)({status:"pending",error:void 0,result:void 0}),l=(0,R.useRef)(!1),s=Zf(),d=(0,R.useCallback)(((...n)=>{if(l.current)return;let d=e(...n);d.correlationId||(d=Object.assign(Object.assign({},d),{correlationId:(0,J.Z)()})),l.current||o({status:"running",result:void 0,error:void 0}),null==a||a(d),ib(s,d).then((e=>{l.current||(o({status:"success",result:e,error:void 0}),null==t||t(e))})).catch((e=>{l.current||(Se(e)?(o({status:"error",result:void 0,error:new $.UnexpectedSdkError(e.payload.message,e.payload.error)}),null==i||i(e)):Ie(e)&&(o({status:"rejected",result:void 0,error:void 0}),null==r||r(e)))}))}),[e,t,i,r,a]);return(0,R.useEffect)((()=>()=>{l.current=!0}),[]),Object.assign({run:d},n)},ab=()=>{const e=tb();return{poweredByGDLogoClicked:(0,R.useCallback)((()=>{e(Vt("poweredByGDLogoClicked"))}),[e]),kpiAlertDialogClosed:(0,R.useCallback)((()=>{e(Vt("kpiAlertDialogClosed"))}),[e]),kpiAlertDialogOpened:(0,R.useCallback)((t=>{e(Vt({interaction:"kpiAlertDialogOpened",data:{alreadyHasAlert:t}}))}),[e]),descriptionTooltipOpened:(0,R.useCallback)((t=>{e(Vt({interaction:"descriptionTooltipOpened",data:t}))}),[e]),shareDialogInteraction:(0,R.useCallback)((t=>{e(Vt({interaction:"shareDialogInteraction",data:t}))}),[e]),attributeFilterInteraction:(0,R.useCallback)((t=>{e(Vt(t))}),[e]),filterContextStateReset:(0,R.useCallback)((()=>{e(Vt("filterContextStateReset"))}),[e])}};function nb(e,t){return{type:"GDC.DASH/CMD.RENDER.ASYNC.REQUEST",correlationId:t,payload:{id:e}}}function ob(e,t){return{type:"GDC.DASH/CMD.RENDER.ASYNC.RESOLVE",correlationId:t,payload:{id:e}}}const lb=e=>{const t=Zf();return(0,R.useCallback)(((...i)=>{const r=e(...i);t(r)}),[e])},sb=e=>{const t=lb(nb),i=lb(ob);return{onRequestAsyncRender:(0,R.useCallback)((()=>{t(e)}),[e]),onResolveAsyncRender:(0,R.useCallback)((()=>{i(e)}),[e])}};function db(e,t,i){return{type:"GDC.DASH/CMD.EXECUTION_RESULT.UPSERT",correlationId:i,payload:Object.assign(Object.assign({},t),{id:Wt(e)?e:(0,n.serializeObjRef)(e)})}}function cb(e,t){return db(e,{isLoading:!0,executionResult:void 0,error:void 0,warnings:void 0},t)}function ub(e,t,i){return db(e,{isLoading:!1,error:t,warnings:void 0},i)}function gb(e,t,i,r){return db(e,{isLoading:!1,error:void 0,executionResult:t,warnings:i},r)}function mb(e){const t=lb(cb),i=lb(gb),r=lb(ub),a=(0,R.useCallback)((t=>{r(e,t)}),[r,e]),n=(0,R.useCallback)(((t,r)=>{i(e,t,r)}),[i,e]),o=(0,R.useCallback)((e=>{e.dataView&&n(e.dataView.result,e.dataView.warnings)}),[n]);return{onLoadingChanged:(0,R.useCallback)((({isLoading:i})=>{i&&t(e)}),[t,e]),onError:a,onSuccess:n,onPushData:o}}var pb=i(65165),hb=i(93386),fb=i(63105);const bb=(0,Do.createSelector)((e=>e),(e=>e.ui)),vb=(0,Do.createSelector)(bb,(e=>e.scheduleEmailDialog.open)),Db=(0,Do.createSelector)(bb,(e=>{var t;return null!==(t=e.scheduleEmailDialog.defaultAttachmentRef)&&void 0!==t?t:void 0})),yb=(0,Do.createSelector)(bb,(e=>e.scheduleEmailManagementDialog.open)),Eb=(0,Do.createSelector)(bb,(e=>e.saveAsDialog.open)),Ib=(0,Do.createSelector)(bb,(e=>e.shareDialog.open)),Cb=(0,Do.createSelector)(bb,(e=>e.deleteDialog.open)),Sb=(0,Do.createSelector)(bb,(e=>!!e.kpiDeleteDialog.widgetCoordinates)),wb=(0,Do.createSelector)(bb,(e=>!!e.cancelEditModeDialog.open)),Tb=(0,Do.createSelector)(bb,(e=>e.kpiDeleteDialog.widgetCoordinates)),Ab=(0,Do.createSelector)(bb,(e=>e.filterBar.expanded)),Pb=(0,Do.createSelector)(bb,(e=>e.kpiAlerts.highlightedWidgetRef)),kb=(0,Do.createSelector)(bb,(e=>{var t;return null!==(t=e.kpiAlerts.openedWidgetRef)&&void 0!==t?t:void 0})),Rb=Xs((e=>(0,Do.createSelector)($d,kb,((t,i)=>{if(!e)return!1;const r=i&&t.get(i);if(!r)return!1;const a=t.get(e);return!!a&&a.identifier===r.identifier})))),xb=Xs((e=>(0,Do.createSelector)($d,Pb,((t,i)=>{if(!e)return!1;const r=i&&t.get(i);if(!r)return!1;const a=t.get(e);return!!a&&a.identifier===r.identifier})))),Lb=(0,Do.createSelector)(bb,(e=>{var t;return null!==(t=e.menuButton.itemsVisibility)&&void 0!==t?t:{}})),Ob=(0,Do.createSelector)(bb,(e=>e.selectedWidgetRef)),Fb=(0,Do.createSelector)(bb,(e=>e.configurationPanelOpened)),Mb=(0,Do.createSelector)(bb,(e=>e.widgetDateDatasetAutoSelect)),Nb=(0,Do.createSelector)(bb,(e=>e.insightListLastUpdateRequested)),_b=(0,Do.createSelector)(bb,(e=>e.widgetsLoadingAdditionalData)),Hb=Xs((e=>(0,Do.createSelector)(_b,(t=>t.some((t=>(0,n.areObjRefsEqual)(t,e))))))),Ub=(0,Do.createSelector)(bb,(e=>e.filterAttributeSelectionOpen)),Gb=(0,Do.createSelector)(bb,(e=>e.selectedFilterIndex)),jb=(0,Do.createSelector)(bb,(e=>void 0!==e.draggingWidgetSource)),Bb=(0,Do.createSelector)(bb,(e=>e.activeSectionIndex)),zb=(0,Do.createSelector)(bb,(e=>e.drillValidationMessages.invalidDrillWidgetRefs)),Wb=(0,Do.createSelector)(bb,(e=>e.drillValidationMessages.invalidCustomUrlDrillParameterWidgets)),Vb=(0,Do.createSelector)(Wb,(e=>e.map((e=>e.widgetRef)))),Kb=(0,Do.createSelector)(Wb,(e=>e.filter((e=>e.showMessage)).map((e=>e.widgetRef)))),qb=(0,Do.createSelector)(Wb,(e=>new l({idExtract:e=>e.widgetId,refExtract:e=>e.widgetRef,uriExtract:e=>e.widgetUri,strictTypeCheck:!1}).fromItems(e))),Yb=Xs((e=>(0,Do.createSelector)(qb,(t=>{var i,r;return null!==(r=null===(i=t.get(e))||void 0===i?void 0:i.drillsWithInvalidParametersLocalIds)&&void 0!==r?r:[]})))),Zb=(0,Do.createSelector)(bb,(e=>e.draggingWidgetSource)),$b=(0,Do.createSelector)(bb,(e=>e.draggingWidgetTarget)),Xb=(0,Do.createSelector)(bb,(e=>e.widgetsOverlay)),Qb=Xs((e=>(0,Do.createSelector)(Xb,(t=>e.every((e=>{var i,r;return null!==(r=e&&(null===(i=t[(0,n.objRefToString)(e)])||void 0===i?void 0:i.showOverlay))&&void 0!==r&&r})))))),Jb=Xs((e=>(0,Do.createSelector)(Xb,(t=>e.reduce(((e,i)=>{const r=i&&t[(0,n.objRefToString)(i)];return(null==r?void 0:r.modification)?hb(e,[r.modification]):e}),[]))))),ev=Xs((e=>(0,Do.createSelector)(Xb,(t=>{const i=e.map((e=>{const i=e&&t[(0,n.objRefToString)(e)];return null==i?void 0:i.modification})),r=fb(i,(e=>"insertedByPlugin"===e)),a=fb(i,(e=>"modifiedByPlugin"===e));return[...r.length===e.length?["insertedByPlugin"]:[],...a.length===e.length?["modifiedByPlugin"]:[]]})))),tv=Xs((e=>(0,Do.createSelector)(ev(e),(e=>e.length>0&&e.every((e=>"insertedByPlugin"===e))))));var iv=i(50049);const rv=(0,iv.vU)({messagesDashboardSaveSuccess:{id:"messages.dashboardSaveSuccess"},messagesDashboardSaveFailed:{id:"messages.dashboardSaveFailed"},messagesExportResultStart:{id:"messages.exportResultStart"},messagesExportResultSuccess:{id:"messages.exportResultSuccess"},messagesExportResultRestrictedError:{id:"messages.exportResultRestrictedError"},messagesExportResultError:{id:"messages.exportResultError"},messagesSharingChangedSuccess:{id:"messages.sharingChangedSuccess"},messagesSharingChangedError:{id:"messages.sharingChangedError.general"},messagesSharingDialogError:{id:"messages.sharingDialogError.general"},scheduleEmailSubmitError:{id:"dialogs.schedule.email.submit.error"},scheduleEmailSubmitSuccess:{id:"dialogs.schedule.email.submit.success"},scheduleEmailSaveError:{id:"dialogs.schedule.email.save.error"},scheduleEmailSaveSuccess:{id:"dialogs.schedule.email.save.success"},scheduleEmailDeleteSuccess:{id:"dialogs.schedule.email.delete.success"},scheduleManagementLoadError:{id:"dialogs.schedule.management.load.error"},scheduleManagementDeleteError:{id:"dialogs.schedule.management.delete.error"},scheduleManagementTabUser:{id:"dialogs.schedule.management.tab.user"},scheduleManagementTabAll:{id:"dialogs.schedule.management.tab.all"},scheduleManagementNoSchedules:{id:"dialogs.schedule.management.noSchedules"},scheduleManagementNoSchedulesByUser:{id:"dialogs.schedule.management.noSchedules.byUser"},saveAsNewAlertsAndEmailsMessage:{id:"dialogs.save.as.new.alertsAndEmailsMessage"},saveAsNewAlertsMessage:{id:"dialogs.save.as.new.alertsMessage"},saveAsNewEmailsMessage:{id:"dialogs.save.as.new.emailsMessage"},alertMessageRelativePresetInPeriod:{id:"filters.alertMessage.relativePreset.inPeriod"},alertMessageRelativePreset:{id:"filters.alertMessage.relativePreset"},scheduleEmailOptionRecepientInvalid:{id:"options.menu.schedule.email.recipient.invalid"},scheduleEmailOptionRecepientExternalNotAllowed:{id:"options.menu.schedule.email.recipient.external.not.allowed"},tabsMy:{id:"gs.visualizationsList.tabs.my"},tabsAll:{id:"gs.visualizationsList.tabs.all"},controlButtonsSaveValue:{id:"controlButtons.save.value"},controlButtonsSaveAndPublishValue:{id:"controlButtons.saveAndPublish.value"},controlButtonsSaveAndPublishTitle:{id:"controlButtons.saveAndPublish.title"},controlButtonsSaveAsPrivateTitle:{id:"controlButtons.saveAsPrivate.title"},controlButtonsSaveAndPublishNoChanges:{id:"controlButtons.saveAndPublish.disable.noChanges.title"},controlButtonsSaveAndPublishEmpty:{id:"controlButtons.saveAndPublish.disable.empty.title"},scheduleDialogEmailRepeats_custom:{id:"dialogs.schedule.email.repeats.types.custom"},scheduleDialogEmailRepeats_daily:{id:"dialogs.schedule.email.repeats.types.daily"},scheduleDialogEmailRepeats_monthly:{id:"dialogs.schedule.email.repeats.types.monthly"},scheduleDialogEmailRepeats_weekly:{id:"dialogs.schedule.email.repeats.types.weekly"},scheduleDialogEmailRepeatsExecuteOn_dayOfMonth:{id:"dialogs.schedule.email.repeats.execute.on.dayOfMonth"},scheduleDialogEmailRepeatsExecuteOn_dayOfWeek:{id:"dialogs.schedule.email.repeats.execute.on.dayOfWeek"},scheduleDialogEmailRepeatsFrequencies_day:{id:"dialogs.schedule.email.repeats.frequencies.day"},scheduleDialogEmailRepeatsFrequencies_month:{id:"dialogs.schedule.email.repeats.frequencies.month"},scheduleDialogEmailRepeatsFrequencies_week:{id:"dialogs.schedule.email.repeats.frequencies.week"},filterHiddenTooltip:{id:"filter.visibilityMode.tooltip.hidden"},filterReadonlyInEditModeTooltip:{id:"filter.visibilityMode.tooltip.readonly.editMode"},filterReadonlyInViewModeTooltip:{id:"filter.visibilityMode.tooltip.readonly.viewMode"},filterConfigurationModeActiveTitle:{id:"filter.configuration.mode.interactive.title"},filterConfigurationModeHiddenTitle:{id:"filter.configuration.mode.hidden.title"},filterConfigurationModeReadOnlyTitle:{id:"filter.configuration.mode.locked.title"},filterConfigurationModeActiveTooltip:{id:"filter.configuration.mode.interactive.tooltip"},filterConfigurationModeHiddenTooltip:{id:"filter.configuration.mode.hidden.tooltip"},filterConfigurationModeReadOnlyTooltip:{id:"filter.configuration.mode.locked.tooltip"},filterConfigurationModeTitle:{id:"filter.configuration.mode.title"},dateFilterDropdownConfigurationHeader:{id:"dateFilterDropdown.configuration"},dateFilterDropdownConfigurationSaveText:{id:"dateFilterDropdown.save"},dateFilterDropdownConfigurationCancelText:{id:"gs.list.cancel"},filterResetButtonTooltip:{id:"filter.resetButton.tooltip"},drillToDashboardConfig:{id:"configurationPanel.drillConfig.drillIntoDashboard"},drillIntoInsight:{id:"configurationPanel.drillConfig.drillIntoInsight"},drillDownConfig:{id:"configurationPanel.drillConfig.drillDown"},drillToUrlConfig:{id:"configurationPanel.drillConfig.drillIntoUrl"},disableDrillDownToolTip:{id:"configurationPanel.drillConfig.disableDrillDownTooltip"},disableUsedDrillDownTooltip:{id:"configurationPanel.drillConfig.alreadyUsedTooltip"}}),av=()=>{var e;const{addSuccess:t,addError:i}=(0,pb.useToastMessage)(),r=$f(vb),a=$f(yb),n=Zf(),o=$f(Gc),l=$f(fl),s=$f(Zo),d=$f(Dc),c=$f(Dp),u=$f(rl),g=$f(Lb),m=()=>n(Ha.openScheduleEmailDialog()),p=()=>n(Ha.closeScheduleEmailDialog()),h=()=>l&&n(Ha.openScheduleEmailManagementDialog()),f=()=>l&&n(Ha.closeScheduleEmailManagementDialog()),b=()=>l&&n(Ha.resetScheduleEmailDialogDefaultAttachment()),[v,D]=(0,R.useState)(),[y,E]=(0,R.useState)([]),I=d&&!s&&c&&u&&(null===(e=g.scheduleEmailButton)||void 0===e||e),C=(0,R.useCallback)((()=>{o&&(l?h():m())}),[o,l]),S=(0,R.useCallback)((e=>{m(),e&&(e=>{l&&n(Ha.setScheduleEmailDialogDefaultAttachment(e))})(e)}),[]),w=(0,R.useCallback)((()=>{p(),i(rv.scheduleEmailSubmitError)}),[]),T=(0,R.useCallback)((()=>{p(),t(rv.scheduleEmailSubmitSuccess),b()}),[]),A=(0,R.useCallback)((()=>{p(),i(rv.scheduleEmailSaveError),D(void 0)}),[]),P=(0,R.useCallback)((()=>{p(),h(),t(rv.scheduleEmailSaveSuccess),D(void 0)}),[]),k=(0,R.useCallback)((()=>{p(),h(),b(),D(void 0)}),[]),x=(0,R.useCallback)((()=>{t(rv.scheduleEmailDeleteSuccess)}),[]),L=(0,R.useCallback)((()=>{f(),m()}),[]),O=(0,R.useCallback)(((e,t)=>{f(),D(e),E(t),m()}),[]),F=(0,R.useCallback)((()=>{f()}),[]),M=(0,R.useCallback)((()=>{f(),i(rv.scheduleManagementLoadError)}),[]),N=(0,R.useCallback)((()=>{f(),i(rv.scheduleManagementDeleteError)}),[]);return{isScheduledEmailingVisible:I,enableInsightExportScheduling:l,defaultOnScheduleEmailing:C,isScheduleEmailingDialogOpen:r,isScheduleEmailingManagementDialogOpen:a,onScheduleEmailingOpen:S,onScheduleEmailingManagementEdit:O,scheduledEmailToEdit:v,users:y,onScheduleEmailingCancel:k,onScheduleEmailingCreateError:w,onScheduleEmailingCreateSuccess:T,onScheduleEmailingSaveError:A,onScheduleEmailingSaveSuccess:P,onScheduleEmailingManagementAdd:L,onScheduleEmailingManagementClose:F,onScheduleEmailingManagementLoadingError:M,onScheduleEmailingManagementDeleteSuccess:x,onScheduleEmailingManagementDeleteError:N}};function nv(e){const t=Zf(),i=$f(Fb),r=$f(yc),a=$f(Ob),o=Boolean(r&&a&&e&&(0,n.areObjRefsEqual)(a,e)),l=(0,R.useCallback)((()=>{t(Ha.setConfigurationPanelOpened(!1))}),[t]),s=(0,R.useCallback)((i=>{i&&(i.processedDuringWidgetSelect=!0),r&&e&&(t(Ha.selectWidget(e)),t(Ha.setConfigurationPanelOpened(!0)))}),[r,e,t]),d=(0,R.useCallback)((e=>{!(null==e?void 0:e.processedDuringWidgetSelect)&&a&&t(Ha.clearWidgetSelection())}),[t,a]);return{isSelectable:r,isSelected:o,onSelected:s,hasConfigPanelOpen:i&&o,closeConfigPanel:l,deselectWidgets:d}}function ov(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.ADD_SECTION",correlationId:a,payload:{index:e,initialHeader:t,initialItems:i,autoResolveDateFilterDataset:r}}}function lv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_SECTION",correlationId:i,payload:{sectionIndex:e,toIndex:t}}}function sv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_SECTION",correlationId:i,payload:{index:e,stashIdentifier:t}}}function dv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.CHANGE_SECTION_HEADER",correlationId:r,payload:{index:e,header:t,merge:i}}}function cv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.ADD_ITEMS",correlationId:a,payload:{sectionIndex:e,itemIndex:t,items:[i],autoResolveDateFilterDataset:r}}}function uv(e,t,i,r,a,n){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REPLACE_ITEM",correlationId:n,payload:{sectionIndex:e,itemIndex:t,item:i,autoResolveDateFilterDataset:a,stashIdentifier:r}}}function gv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM",correlationId:a,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,toItemIndex:r,removeOriginalSectionIfEmpty:!1}}}function mv(e,t,i,r,a){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM",correlationId:a,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,toItemIndex:r,removeOriginalSectionIfEmpty:!0}}}function pv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION",correlationId:r,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,removeOriginalSectionIfEmpty:!1}}}function hv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.MOVE_ITEM_TO_NEW_SECTION",correlationId:r,payload:{sectionIndex:e,itemIndex:t,toSectionIndex:i,removeOriginalSectionIfEmpty:!0}}}function fv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM",correlationId:r,payload:{sectionIndex:e,itemIndex:t,stashIdentifier:i,eager:!1}}}function bv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM",correlationId:r,payload:{sectionIndex:e,itemIndex:t,stashIdentifier:i,eager:!0}}}function vv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF",correlationId:i,payload:{widgetRef:e,stashIdentifier:t,eager:!1}}}function Dv(e,t,i){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.REMOVE_ITEM_BY_WIDGET_REF",correlationId:i,payload:{widgetRef:e,stashIdentifier:t,eager:!0}}}function yv(e,t){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.UNDO",correlationId:t,payload:{undoPointSelector:e}}}function Ev(e){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.UNDO",correlationId:e,payload:{}}}function Iv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_HEIGHT",correlationId:r,payload:{sectionIndex:e,itemIndexes:t,height:i}}}function Cv(e,t,i,r){return{type:"GDC.DASH/CMD.FLUID_LAYOUT.RESIZE_WIDTH",correlationId:r,payload:{sectionIndex:e,itemIndex:t,width:i}}}function Sv(e,t){return{type:"GDC.DASH/CMD.ALERT.CREATE",correlationId:t,payload:{alert:e}}}function wv(e,t){return{type:"GDC.DASH/CMD.ALERT.UPDATE",correlationId:t,payload:{alert:e}}}function Tv(e,t){return{type:"GDC.DASH/CMD.ALERTS.REMOVE",correlationId:t,payload:{refs:e}}}function Av(e,t,i){return{type:"GDC.DASH/CMD.SCHEDULED_EMAIL.CREATE",correlationId:i,payload:{scheduledEmail:e,filterContext:t}}}function Pv(e,t,i){return{type:"GDC.DASH/CMD.SCHEDULED_EMAIL.SAVE",correlationId:i,payload:{scheduledEmail:e,filterContextRef:t}}}function kv(e,t,i){return{type:"GDC.DASH/CMD.DRILL",correlationId:i,payload:{drillEvent:e,drillContext:t}}}function Rv(e,t,i,r){return{type:"GDC.DASH/CMD.DRILL.DRILL_DOWN",correlationId:r,payload:{insight:e,drillDefinition:t,drillEvent:i}}}function xv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_INSIGHT",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Lv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_DASHBOARD",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Ov(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_CUSTOM_URL",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Fv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_ATTRIBUTE_URL",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Mv(e,t,i){return{type:"GDC.DASH/CMD.DRILL.DRILL_TO_LEGACY_DASHBOARD",correlationId:i,payload:{drillDefinition:e,drillEvent:t}}}function Nv(e,t){return{type:"GDC.DASH/CMD.DRILL.DRILLABLE_ITEMS.CHANGE",correlationId:t,payload:{drillableItems:e}}}function _v(e,t,i,r){return{type:"GDC.DASH/CMD.DRILL.CROSS_FILTERING",correlationId:r,payload:{insight:e,drillDefinition:t,drillEvent:i}}}function Hv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_HEADER",correlationId:i,payload:{ref:e,header:t}}}function Uv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_DESCRIPTION",correlationId:i,payload:{ref:e,description:t}}}function Gv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_CONFIGURATION",correlationId:i,payload:{ref:e,config:t}}}function jv(e,t,i,r){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE",correlationId:r,payload:{ref:e,measureRef:t,header:i}}}function Bv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:Object.assign({type:"replace"},t)}}}function zv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"enableDateFilter",dateDataset:t}}}}function Wv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:t,payload:{ref:e,operation:{type:"disableDateFilter"}}}}function Vv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"replaceAttributeIgnores",displayFormRefs:null!=t?t:[]}}}}function Kv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"ignoreAttributeFilter",displayFormRefs:(0,n.isObjRef)(t)?[t]:t}}}}function qv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_FILTER_SETTINGS",correlationId:i,payload:{ref:e,operation:{type:"unignoreAttributeFilter",displayFormRefs:(0,n.isObjRef)(t)?[t]:t}}}}function Yv(e,t,i){return{type:"GDC.DASH/CMD.KPI_WIDGET.CHANGE_COMPARISON",correlationId:i,payload:{ref:e,comparison:t}}}function Zv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.REFRESH",correlationId:t,payload:{ref:e}}}function $v(e,t,i,r){return{type:"GDC.DASH/CMD.KPI_WIDGET.SET_DRILL",correlationId:r,payload:{ref:e,legacyDashboardTabIdentifier:i,legacyDashboardRef:t}}}function Xv(e,t){return{type:"GDC.DASH/CMD.KPI_WIDGET.REMOVE_DRILL",correlationId:t,payload:{ref:e}}}function Qv(e,t,i){return{type:"GDC.DASH/CMD.DRILL_TARGETS.ADD",correlationId:i,payload:{ref:e,availableDrillTargets:t}}}function Jv(e,t){return{type:"GDC.DASH/QUERY.CONNECTING.ATTRIBUTES",correlationId:t,payload:{refs:e}}}function eD(e,t){return{type:"GDC.DASH/QUERY.CONNECTED.ATTRIBUTES",correlationId:t,payload:{ref:e}}}function tD(e,t){return{type:"GDC.DASH/QUERY.DATA.SET.ATTRIBUTE",correlationId:t,payload:{displayForm:e}}}function iD(e,t,i){return{type:"GDC.DASH/QUERY.ELEMENTS.ATTRIBUTE",correlationId:i,payload:{displayForm:e,limit:t}}}const rD=(0,Do.createSelector)((e=>e),(e=>e.loading)),aD=rD,nD=(0,Do.createSelector)(rD,(e=>e.loading)),oD=(0,Do.createSelector)((e=>e),(e=>e.saving)),lD=oD,sD=(0,Do.createSelector)(oD,(e=>e.saving)),dD=(0,Do.createSelector)((e=>e),(e=>e.entitlements)),cD=(0,Do.createSelector)(dD,(e=>((0,p.kG)(e.entitlements,"attempting to access uninitialized entitlements state"),e.entitlements))),uD=(0,Do.createSelector)(cD,(e=>e.find((e=>"PdfExports"===e.name)))),gD=(0,Do.createSelector)((e=>e),(e=>e.dashboardPermissions)),mD=(0,Do.createSelector)(gD,(e=>((0,p.kG)(e.dashboardPermissions,"attempting to access uninitialized dashboard permissions state"),e.dashboardPermissions))),pD=(0,Do.createSelector)(mD,(e=>{var t;return null!==(t=null==e?void 0:e.canViewDashboard)&&void 0!==t&&t})),hD=(0,Do.createSelector)(mD,(e=>{var t;return null!==(t=null==e?void 0:e.canShareDashboard)&&void 0!==t&&t})),fD=(0,Do.createSelector)(mD,(e=>{var t;return null!==(t=null==e?void 0:e.canShareLockedDashboard)&&void 0!==t&&t})),bD=(0,Do.createSelector)(mD,(e=>{var t;return null!==(t=null==e?void 0:e.canEditDashboard)&&void 0!==t&&t})),vD=(0,Do.createSelector)(mD,(e=>{var t;return null!==(t=null==e?void 0:e.canEditLockedDashboard)&&void 0!==t&&t}));function DD(e){let t;if((0,n.isDrillFromMeasure)(e.origin))t=e.origin.measure;else{if(!(0,n.isDrillFromAttribute)(e.origin))throw new ur.UnexpectedError("Unknown drill origin!");t=e.origin.attribute}return wa([(0,n.isLocalIdRef)(t)&&$.HeaderPredicates.localIdentifierMatch(t.localIdentifier),(0,n.isIdentifierRef)(t)&&$.HeaderPredicates.identifierMatch(t.identifier),(0,n.isUriRef)(t)&&$.HeaderPredicates.uriMatch(t.uri)])}function yD(e,t,i){const r=i.get(t),a=r?{target:r.defaultDisplayForm.ref,title:r.attribute.title}:{target:t};return{drillDefinition:Object.assign({type:"drillDown",origin:(0,n.localIdRef)(e.attribute.attributeHeader.localIdentifier)},a),predicates:[$.HeaderPredicates.localIdentifierMatch(e.attribute.attributeHeader.localIdentifier)]}}function ED(e,t,i,r,a){return(null==a?void 0:a.length)?e.flatMap((e=>{const t=e.attribute.attributeHeader.formOf.ref,o=[];return r.forEach((e=>{const i=(0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.ref:e.dateDatasetRef,r=((0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes).filter((e=>a.findIndex((t=>Rh(t,i,e)))<0)),l=r.findIndex((e=>(0,n.areObjRefsEqual)(e,t)));if(l<0)return;const s=r[l+1];s&&o.push(s)})),o.map((t=>yD(e,t,i)))})):e.filter((e=>(0,n.objRefToString)(e.attribute.attributeHeader.formOf.ref)in t)).flatMap((e=>{const r=e.attribute.attributeHeader.formOf.ref;return t[(0,n.objRefToString)(r)].map((t=>yD(e,t,i)))}))}function ID(e,t){return e.filter((e=>t.some((t=>(0,n.areObjRefsEqual)(t.attribute.ref,e.attribute.attributeHeader.formOf.ref))))).map((e=>{const i=t.find((t=>(0,n.areObjRefsEqual)(t.attribute.ref,e.attribute.attributeHeader.formOf.ref)));return{drillDefinition:{type:"drillToAttributeUrl",transition:"new-window",origin:{type:"drillFromAttribute",attribute:(0,n.localIdRef)(e.attribute.attributeHeader.localIdentifier)},target:{displayForm:e.attribute.attributeHeader.ref,hyperlinkDisplayForm:i.attribute.drillToAttributeLink}},predicates:[$.HeaderPredicates.identifierMatch(e.attribute.attributeHeader.identifier),$.HeaderPredicates.uriMatch(e.attribute.attributeHeader.uri)]}}))}const CD=Xs((e=>(0,Do.createSelector)(Wu(e),Ql,is,xl,Iu(e),Jd(e),$l,((e,t,i,r,a,n,o)=>{var l,s,d,c,u;const g=!(null===(d=null===(s=null===(l=null==a?void 0:a.insight)||void 0===l?void 0:l.properties)||void 0===s?void 0:s.controls)||void 0===d?void 0:d.disableDrillDown);return r&&g?ED(null!==(u=null===(c=null==e?void 0:e.availableDrillTargets)||void 0===c?void 0:c.attributes)&&void 0!==u?u:[],t,i,o,n):[]})))),SD=Xs((e=>(0,Do.createSelector)(Ml,No,Wu(e),((e,t,i)=>{var r,a;if(!e||!t)return;const n=(null!==(a=null===(r=null==i?void 0:i.availableDrillTargets)||void 0===r?void 0:r.attributes)&&void 0!==a?a:[]).filter((e=>!e.attribute.attributeHeader.granularity));return n.length?{drillDefinition:{type:"crossFiltering",transition:"in-place",origin:{},title:n.map((e=>e.attribute.attributeHeader.name)).join(", ")},predicates:n.map((e=>$.HeaderPredicates.localIdentifierMatch(e.attribute.attributeHeader.localIdentifier)))}:void 0})))),wD=Xs((e=>(0,Do.createSelector)(Wu(e),$l,Jd(e),Rl,Fo,Iu(e),((e,t,i,r,a,o)=>{var l,s,d;const c=!(null===(d=null===(s=null===(l=null==o?void 0:o.insight)||void 0===l?void 0:l.properties)||void 0===s?void 0:s.controls)||void 0===d?void 0:d.disableDrillDown);return r&&a&&c?function(e,t,i=[]){var r;const a=null!==(r=null==t?void 0:t.attributes)&&void 0!==r?r:[],o=[];return e.map((e=>{const t=(0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.ref:e.dateDatasetRef,i=(0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes;return{attributeIdentifiers:i.slice(0,i.length-1).map((e=>(0,n.objRefToString)(e))),ref:t}})).forEach((({attributeIdentifiers:e,ref:t})=>{a.forEach((r=>{const a=r.attribute.attributeHeader,l=e.includes((0,n.objRefToString)(a.formOf.ref)),s=i.findIndex((e=>Rh(e,t,a.formOf.ref)));l&&s<0&&o.push({type:"drillDown",origin:(0,n.localIdRef)(a.localIdentifier),target:t})}))})),o}(t,null==e?void 0:e.availableDrillTargets,i):[]})))),TD=Xs((e=>(0,Do.createSelector)(Wu(e),Jl,cl,((e,t,i)=>{var r,a;return i?ID(null!==(a=null===(r=null==e?void 0:e.availableDrillTargets)||void 0===r?void 0:r.attributes)&&void 0!==a?a:[],t):[]})))),AD=Xs((e=>(0,Do.createSelector)(ec(e),Jo,cl,ul,gl,sl,Ml,hl,$o,((e=[],t,i,r,a,n,o,l,s)=>{if(t)return[];const d=[...e].filter((e=>{const t=e.type;switch(t){case"drillToAttributeUrl":return i;case"drillToCustomUrl":return r;case"drillToDashboard":return n;case"drillToInsight":return a;case"drillToLegacyDashboard":return!(s&&l);case"crossFiltering":return o;default:{const e=t;throw new ur.UnexpectedError(`Unhandled widget drill type: ${e}`)}}}));return d.map((e=>({drillDefinition:e,predicates:DD(e)})))})))),PD=Xs((e=>(0,Do.createSelector)(AD(e),ts,qu,yu,((e=[],t,i,r)=>e.filter((e=>{switch(e.drillDefinition.type){case"drillToAttributeUrl":return t.get(e.drillDefinition.target.hyperlinkDisplayForm);case"drillToCustomUrl":case"drillToLegacyDashboard":case"drillDown":case"crossFiltering":return!0;case"drillToDashboard":return!e.drillDefinition.target||i.get(e.drillDefinition.target);case"drillToInsight":return r.get(e.drillDefinition.target);default:{const t=e.drillDefinition;throw new ur.UnexpectedError(`Unhandled widget drill type: ${t}`)}}})))))),kD=Xs((e=>(0,Do.createSelector)(TD(e),(e=>Oi(e,(e=>e.predicates)))))),RD=Xs((e=>(0,Do.createSelector)(CD(e),(e=>Oi(e,(e=>e.predicates)))))),xD=Xs((e=>(0,Do.createSelector)(PD(e),((e=[])=>Oi(e,(e=>e.predicates)))))),LD=Xs((e=>(0,Do.createSelector)(SD(e),(e=>{var t;return null!==(t=null==e?void 0:e.predicates)&&void 0!==t?t:[]})))),OD=Xs((e=>(0,Do.createSelector)(PD(e),CD(e),TD(e),SD(e),((e,t,i,r)=>wa([...e,...t,...i,r]))))),FD=Xs((e=>(0,Do.createSelector)(Jo,Gd,xD(e),RD(e),kD(e),LD(e),((e,t,i,r,a,n)=>{const o=[...t];return e||o.push(...i,...r,...a,...n),o})))),MD=Xs(((e,t=[])=>(0,Do.createSelector)(Jl,Ql,is,xl,$l,((i,r,a,n,o)=>{var l;const s=null!==(l=null==e?void 0:e.attributes)&&void 0!==l?l:[];return[...n?ED(s,r,a,o,t):[],...ID(s,i)]})))),ND=Xs(((e,t)=>(0,Do.createSelector)(MD(e,t),(e=>Oi(e,(e=>e.predicates)))))),_D=(0,Do.createSelector)((e=>e),(e=>e.listedDashboards)),HD=za.getSelectors(_D).selectAll,UD=(0,Do.createSelector)(HD,(e=>g(e)));async function GD(e,t){const{promise:i,envelope:r}=function(e){const t={};return{promise:new Promise(((e,i)=>{t.onSuccess=e,t.onError=i})),envelope:Zh(e,t)}}(t);return e(r),i}class jD{constructor(e,t){this.getDashboardSelect=()=>((0,p.kG)(this.selectorEvaluator,"DashboardStoreAccessor selectorEvaluator is not initialized"),this.selectorEvaluator),this.setSelector=e=>{this.selectorEvaluator=e},this.getDashboardDispatch=()=>((0,p.kG)(this.dispatch,"DashboardStoreAccessor dispatch is not initialized"),this.dispatch),this.setDispatch=e=>{this.dispatch=e},this.isDashboardStoreAccessorInitialized=()=>!!this.selectorEvaluator&&!!this.dispatch,this.setSelectAndDispatch=(e,t)=>{this.setSelector((t=>t(e))),this.setDispatch(t)},this.selectorEvaluator=e,this.dispatch=t}}class BD{static getSerializedDashboardRef(e){const t="string"==typeof e?(0,n.idRef)(e):e;return(0,n.serializeObjRef)(t)}static getAccessorsForDashboard(e){const t=BD.getSerializedDashboardRef(e),i=this.accessors.get(t);return(0,p.kG)(i,`No accessor available for dashboard ${e}`),i}static getDashboardSelectForDashboard(e){var t;const i=BD.getSerializedDashboardRef(e),r=null===(t=this.accessors.get(i))||void 0===t?void 0:t.getDashboardSelect();return(0,p.kG)(r,`No selector available for dashboard ${e}`),r}static getDashboardDispatchForDashboard(e){var t;const i=BD.getSerializedDashboardRef(e),r=null===(t=this.accessors.get(i))||void 0===t?void 0:t.getDashboardDispatch();return(0,p.kG)(r,`No selector available for dashboard ${e}`),r}static getOnChangeHandlerForDashboard(e){const t=BD.getSerializedDashboardRef(e);return(e,i)=>{BD.setAccessorForDashboard(t,(t=>t(e)),i)}}static setAccessorForDashboard(e,t,i){BD.accessors.set(e,new jD(t,i))}static clearAccessorForDashboard(e){const t=BD.getSerializedDashboardRef(e);BD.accessors.delete(t)}static clearAllAccessors(){BD.accessors.clear()}static isAccessorInitializedForDashboard(e){const t=this.getSerializedDashboardRef(e),i=BD.accessors.get(t);return!!(null==i?void 0:i.isDashboardStoreAccessorInitialized())}}BD.accessors=new Map;const zD=(0,n.serializeObjRef)((0,n.idRef)("SingleDashboardStoreAccessor_mock_dashboard_id"));class WD{static getDashboardSelect(){return BD.getAccessorsForDashboard(zD).getDashboardSelect()}static getDashboardDispatch(){return BD.getAccessorsForDashboard(zD).getDashboardDispatch()}static getOnChangeHandler(){return BD.getOnChangeHandlerForDashboard(zD)}static clearAccessor(){BD.clearAccessorForDashboard(zD)}static isAccessorInitialized(){return BD.isAccessorInitializedForDashboard(zD)}}function VD(e){return{eval:()=>!0,handler:e}}function KD(e){return{eval:ee,handler:e}}function qD(e,t){return{eval:t=>t.type===e,handler:t}}function YD(e,t){return{eval:t=>be(t)&&t.payload.command.type===e,handler:t}}function ZD(e,t){return{eval:t=>De(t)&&t.payload.command.type===e,handler:t}}const $D=e=>({eval:ei("GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",(t=>!t.payload.drillDefinition.target||(0,n.areObjRefsEqual)(t.payload.drillDefinition.target,e))),handler:(e,t)=>{t(Bh(e.payload.filters))}});class XD{constructor(e,t){this.monitoredActions={},this.capturedActions=[],this.capturedEvents=[],this.getOrCreateMonitoredAction=e=>{const t=this.monitoredActions[e];if(t)return t;const i={calls:0,resolve:K,reject:K},r=new Promise(((e,t)=>{i.resolve=e,i.reject=t})),a=Object.assign(Object.assign({},i),{promise:r});return this.monitoredActions[e]=a,a},this.onActionCaptured=e=>{this.capturedActions.push(e);const t=this.getOrCreateMonitoredAction(e.type);t.calls+=1,t.resolve(e)},this.eventHandler=e=>{this.capturedEvents.push(e)},this.commandFailedRejectsWaitFor=()=>this.getOrCreateMonitoredAction("GDC.DASH/EVT.COMMAND.FAILED").promise.then((e=>{throw console.error(`Command processing failed: ${e.payload.reason} - ${e.payload.message}`),e.payload.error})),this.commandRejectedEndsWaitFor=()=>this.getOrCreateMonitoredAction("GDC.DASH/EVT.COMMAND.REJECTED").promise.then((e=>{throw console.error("Command was rejected because dashboard does not know how to handle it. This is likely because the handler for the rejected command is not registered in the system. See root command handler."),e})),this.reduxedStore=Kf({dashboardContext:e,additionalMiddleware:()=>e=>t=>(t.type.startsWith("@@redux/")||this.onActionCaptured(t),e(t)),eventing:{initialEventHandlers:[{eval:()=>!0,handler:this.eventHandler}]},queryServices:null==t?void 0:t.queryServices,backgroundWorkers:(null==t?void 0:t.backgroundWorkers)||[],privateContext:null==t?void 0:t.customizationFns,initialRenderMode:"view"})}dispatch(e){this.monitoredActions={},this.reduxedStore.store.dispatch(e)}dispatchAndWaitFor(e,t,i=1e3){return this.dispatch(e),this.waitFor(t,i)}query(e){const{envelope:t,promise:i}=dg(e);return this.reduxedStore.store.dispatch(t),i}waitFor(e,t=1e3){const i="GDC.DASH/EVT.COMMAND.FAILED"!==e;return Promise.race([this.getOrCreateMonitoredAction(e).promise,...i?[this.commandFailedRejectsWaitFor()]:[],this.commandRejectedEndsWaitFor(),new Promise(((i,r)=>{setTimeout((()=>{r(new Error(`Wait for action '${e}' timed out after ${t}ms`))}),t)}))])}select(e){return e(this.state())}state(){return this.reduxedStore.store.getState()}}function QD(e){return function(t){var i;const r=$f(vc),a=null!==(i=e[r])&&void 0!==i?i:e.view;return R.createElement(a,Object.assign({},t))}}var JD=i(42740);const ey=(0,R.createContext)({isOpen:!1,dialogConfig:{},closeDialog:K,openDialog:K}),ty=()=>(0,R.useContext)(ey),iy=({children:e})=>{const[t,i]=(0,R.useState)(!1),[r,a]=(0,R.useState)({}),n=(0,R.useCallback)(((e={})=>{i(!0),a(e)}),[]),o=(0,R.useCallback)((()=>{i(!1)}),[]),l=(0,R.useMemo)((()=>({isOpen:t,dialogConfig:r,openDialog:n,closeDialog:o})),[t,r,n,o]);return R.createElement(ey.Provider,{value:l},e)},ry=(0,R.createContext)({});ry.displayName="DashboardCustomizationsContext";const ay=e=>{const t=(0,R.useContext)(ry);return Object.assign(Object.assign({},t),e)};function ny(e){const{children:t}=e,i=(0,Ir._T)(e,["children"]);return R.createElement(ry.Provider,{value:i},t)}const oy=e=>()=>{throw new $.UnexpectedSdkError(`Component: ${e} is missing in the DashboardComponentsProvider.`)},ly=(0,R.createContext)({ErrorComponent:$.ErrorComponent,LoadingComponent:$.LoadingComponent,LayoutComponent:oy("LayoutComponent"),InsightComponentProvider:oy("InsightComponent"),InsightBodyComponentProvider:oy("InsightBodyComponent"),InsightMenuButtonComponentProvider:oy("InsightMenuButtonComponent"),InsightMenuComponentProvider:oy("InsightMenuComponent"),InsightMenuTitleComponentProvider:oy("InsightMenuTitleComponent"),KpiComponentProvider:oy("KpiComponent"),WidgetComponentProvider:oy("WidgetComponent"),ButtonBarComponent:oy("ButtonBarComponent"),MenuButtonComponent:oy("MenuButtonComponent"),TitleComponent:oy("TitleComponent"),TopBarComponent:oy("TopBarComponent"),ToolbarComponent:oy("ToolbarComponent"),ScheduledEmailDialogComponent:oy("ScheduledEmailDialogComponent"),ScheduledEmailManagementDialogComponent:oy("ScheduledEmailManagementDialogComponent"),ShareDialogComponent:oy("ShareDialogComponent"),SaveAsDialogComponent:oy("SaveAsDialogComponent"),DashboardAttributeFilterComponentProvider:oy("DashboardAttributeFilterComponentProvider"),DashboardDateFilterComponentProvider:oy("DashboardDateFilterComponentProvider"),FilterBarComponent:oy("FilterBarComponent"),SidebarComponent:oy("SidebarComponent"),InsightWidgetComponentSet:null,KpiWidgetComponentSet:null,AttributeFilterComponentSet:null,EmptyLayoutDropZoneBodyComponent:oy("EmptyLayoutDropZoneBodyComponent"),SaveButtonComponent:oy("SaveButtonComponent"),DashboardContentComponentProvider:oy("DashboardContentComponentProvider")});ly.displayName="DashboardComponentsContext";const sy=e=>{const t=(0,R.useContext)(ly);return Object.keys(t).reduce(((i,r)=>{var a;return i[r]=null!==(a=null==e?void 0:e[r])&&void 0!==a?a:t[r],i}),{})};function dy(e){const{children:t}=e,i=(0,Ir._T)(e,["children"]);return R.createElement(ly.Provider,{value:i},t)}const cy=(0,R.createContext)({menuButtonConfig:{}});cy.displayName="DashboardConfigContext";const uy=e=>{const{children:t}=e,i=(0,Ir._T)(e,["children"]);return R.createElement(cy.Provider,{value:i},t)};var gy=i(93967);const my=!1;function py({isOver:e=!1}){return my?e?{backgroundColor:"rgba(0, 255, 0, 0.4)"}:{backgroundColor:"rgba(0, 255, 0, 0.08)"}:{}}function hy(e){return"internal-width-resizer"===e||"internal-height-resizer"===e}function fy(e){return"attributeFilter"===e.type}function by(e){var t,i;return void 0!==(null===(t=e.size)||void 0===t?void 0:t.gridWidth)&&void 0!==(null===(i=e.size)||void 0===i?void 0:i.gridHeight)}function vy(e){return by(e)&&void 0!==e.sectionIndex&&void 0!==e.itemIndex}function Dy(e){return"insight"===e.type}function yy(e){return"kpi"===e.type}function Ey(e){return"attributeFilter-placeholder"===e.type}function Iy(e){return"kpi-placeholder"===e.type}function Cy(e){return"insight-placeholder"===e.type}function Sy(e){return"insightListItem"===e.type}var wy=i(15787);function Ty(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(!e){var n;if(void 0===t)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(n=new Error(t.replace(/%s/g,(function(){return r[o++]})))).name="Invariant Violation"}throw n.framesToPop=1,n}}var Ay=(0,wy.createContext)({dragDropManager:void 0});function Py(){var e=(0,wy.useContext)(Ay).dragDropManager;return Ty(null!=e,"Expected drag drop context"),e}var ky="undefined"!=typeof window?wy.useLayoutEffect:wy.useEffect;function Ry(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xy(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ly=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xy(this,"spec",void 0),xy(this,"monitor",void 0),this.spec=t,this.monitor=i}var t,i;return t=e,(i=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&Ry(t.prototype,i),e}();function Oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Fy(e,t,i){var r=Py(),a=function(e,t){var i=(0,wy.useMemo)((function(){return new Ly(e,t)}),[t]);return(0,wy.useEffect)((function(){i.spec=e}),[e]),i}(e,t),n=function(e){var t=e.accept;return(0,wy.useMemo)((function(){return Ty(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]}),[t])}(e);ky((function(){var e,o,l=function(e,t,i){var r=i.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}(n,a,r),s=(o=2,function(e){if(Array.isArray(e))return e}(e=l)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(e,o)||function(e,t){if(e){if("string"==typeof e)return Oy(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Oy(e,t):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],c=s[1];return t.receiveHandlerId(d),i.receiveHandlerId(d),c}),[r,t,a,i,n.map((function(e){return e.toString()})).join("|")])}function My(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Ny(e,t){var i,r=function(e){if(Array.isArray(e))return My(e)}(i=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return My(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?My(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&r.push(e),(0,wy.useMemo)((function(){return"function"==typeof e?e():e}),r)}function _y(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hy(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Uy=!1,Gy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hy(this,"internalMonitor",void 0),Hy(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Ty(!Uy,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Uy=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Uy=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&_y(t.prototype,i),e}();function jy(e,t,i,r){var a=i?i.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),s=0;s<n.length;s++){var d=n[s];if(!l(d))return!1;var c=e[d],u=t[d];if(!1===(a=i?i.call(r,c,u,d):void 0)||void 0===a&&c!==u)return!1}return!0}function By(e){var t={};return Object.keys(e).forEach((function(i){var r=e[i];if(i.endsWith("Ref"))t[i]=e[i];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,wy.isValidElement)(t)){var r=t;return e(r,i),r}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(a);var n=i?function(t){return e(t,i)}:e;return function(e,t){var i=e.ref;return Ty("string"!=typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?(0,wy.cloneElement)(e,{ref:function(e){zy(i,e),zy(t,e)}}):(0,wy.cloneElement)(e,{ref:t})}(a,n)}}(r);t[i]=function(){return a}}})),t}function zy(e,t){"function"==typeof e?e(t):e.current=t}function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function Vy(e){return null!==e&&"object"===Wy(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function Ky(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qy(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Yy=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qy(this,"hooks",By({dropTarget:function(e,t){i.clearDropTarget(),i.dropTargetOptions=t,Vy(e)?i.dropTargetRef=e:i.dropTargetNode=e,i.reconnect()}})),qy(this,"handlerId",null),qy(this,"dropTargetRef",null),qy(this,"dropTargetNode",void 0),qy(this,"dropTargetOptionsInternal",null),qy(this,"unsubscribeDropTarget",void 0),qy(this,"lastConnectedHandlerId",null),qy(this,"lastConnectedDropTarget",null),qy(this,"lastConnectedDropTargetOptions",null),qy(this,"backend",void 0),this.backend=t}var t,i;return t=e,(i=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!jy(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&Ky(t.prototype,i),e}(),Zy=i(64063),$y=i.n(Zy);function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Qy(e,t,i){var r,a,n=(r=(0,wy.useState)((function(){return t(e)})),a=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(r,a)||function(e,t){if(e){if("string"==typeof e)return Xy(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xy(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],l=n[1],s=(0,wy.useCallback)((function(){var r=t(e);$y()(o,r)||(l(r),i&&i())}),[o,e,i]);return ky(s),[o,s]}function Jy(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function eE(e,t,i){return function(e,t,r){var a,n,o=(a=Qy(e,t,(function(){return i.reconnect()})),n=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(a,n)||function(e,t){if(e){if("string"==typeof e)return Jy(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Jy(e,t):void 0}}(a,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1];return ky((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),l}(t,e||function(){return{}})}function tE(e){return(0,wy.useMemo)((function(){return e.hooks.dropTarget()}),[e])}const iE=e=>({isOver:e.isOver(),canDrop:e.canDrop(),itemType:e.getItemType(),item:e.getItem()});function rE(e,t,i){return function(e,t){var i,r=Ny(e,t),a=(i=Py(),(0,wy.useMemo)((function(){return new Gy(i)}),[i])),n=function(e){var t=Py(),i=(0,wy.useMemo)((function(){return new Yy(t.getBackend())}),[t]);return ky((function(){return i.dropTargetOptions=e||null,i.reconnect(),function(){return i.disconnectDropTarget()}}),[e]),i}(r.options);return Fy(r,a,n),[eE(r.collect,a,n),tE(n)]}({accept:e,drop:t.drop,canDrop:t.canDrop,collect:iE,hover:t.hover},i)}function aE({placement:e="inside",hintPosition:t,targetIndex:i,acceptPlaceholder:r=!0,onAddAttributePlaceholder:a}){const n=Zf(),o=function(e,t,i){return"outside"===e?"next"===t?[i]:[i-1]:"next"===t?[i,i+1]:[i,i-1]}(e,t,i),[{canDrop:l,isOver:s},d]=rE(r?["attributeFilter","attributeFilter-placeholder"]:"attributeFilter",{canDrop:e=>fy(e)?!o.includes(e.filterIndex):Ey(e),drop:r=>{const o="inside"===e&&"next"===t?1:0;if(fy(r)){const e=r.filter.attributeFilter.localIdentifier,t=r.filterIndex;n(_h(e,i+o+(t<i?-1:0)))}if(Ey(r)&&a)return a(i+o)}},[o,i,e,t]),c=l&&s,u=gy("attr-filter-dropzone",t,{outside:"outside"===e,hidden:!l}),g=py({isOver:s});return R.createElement("div",{className:u,style:g,ref:d},c?R.createElement("div",{className:"drop-hint"}):null)}function nE(e){return nE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(e)}function oE(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lE(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var sE=function(){function e(t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lE(this,"spec",void 0),lE(this,"monitor",void 0),lE(this,"connector",void 0),this.spec=t,this.monitor=i,this.connector=r}var t,i;return t=e,(i=[{key:"beginDrag",value:function(){var e,t=this.spec,i=this.monitor;return null!==(e="object"===nE(t.item)?t.item:"function"==typeof t.item?t.item(i):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var i=this.spec,r=this.monitor,a=i.isDragging;return a?a(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,i=this.connector,r=e.end;r&&r(t.getItem(),t),i.reconnect()}}])&&oE(t.prototype,i),e}();function dE(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function cE(e,t,i){var r=Py(),a=function(e,t,i){var r=(0,wy.useMemo)((function(){return new sE(e,t,i)}),[t,i]);return(0,wy.useEffect)((function(){r.spec=e}),[e]),r}(e,t,i),n=function(e){return(0,wy.useMemo)((function(){var t=e.type;return Ty(null!=t,"spec.type must be defined"),t}),[e])}(e);ky((function(){if(null!=n){var e=function(e,t,i){var r=i.getRegistry(),a=r.addSource(e,t);return[a,function(){return r.removeSource(a)}]}(n,a,r),o=(c=2,function(e){if(Array.isArray(e))return e}(d=e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(d,c)||function(e,t){if(e){if("string"==typeof e)return dE(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?dE(e,t):void 0}}(d,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1];return t.receiveHandlerId(l),i.receiveHandlerId(l),s}var d,c}),[r,t,i,a,n])}function uE(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gE(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var mE=!1,pE=!1,hE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gE(this,"internalMonitor",void 0),gE(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Ty(!mE,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return mE=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{mE=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Ty(!pE,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return pE=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{pE=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&uE(t.prototype,i),e}();function fE(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bE(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var vE,DE=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bE(this,"hooks",By({dragSource:function(e,t){i.clearDragSource(),i.dragSourceOptions=t||null,Vy(e)?i.dragSourceRef=e:i.dragSourceNode=e,i.reconnectDragSource()},dragPreview:function(e,t){i.clearDragPreview(),i.dragPreviewOptions=t||null,Vy(e)?i.dragPreviewRef=e:i.dragPreviewNode=e,i.reconnectDragPreview()}})),bE(this,"handlerId",null),bE(this,"dragSourceRef",null),bE(this,"dragSourceNode",void 0),bE(this,"dragSourceOptionsInternal",null),bE(this,"dragSourceUnsubscribe",void 0),bE(this,"dragPreviewRef",null),bE(this,"dragPreviewNode",void 0),bE(this,"dragPreviewOptionsInternal",null),bE(this,"dragPreviewUnsubscribe",void 0),bE(this,"lastConnectedHandlerId",null),bE(this,"lastConnectedDragSource",null),bE(this,"lastConnectedDragSourceOptions",null),bE(this,"lastConnectedDragPreview",null),bE(this,"lastConnectedDragPreviewOptions",null),bE(this,"backend",void 0),this.backend=t}var t,i;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!jy(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!jy(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&fE(t.prototype,i),e}();function yE(e){return(0,wy.useMemo)((function(){return e.hooks.dragSource()}),[e])}function EE(e){return(0,wy.useMemo)((function(){return e.hooks.dragPreview()}),[e])}var IE=i(23560);const CE=()=>{const e=(0,R.useCallback)((()=>{(0,pb.handleOnGoodstrapDragEvent)()}),[]);return(0,R.useCallback)((()=>{e()}),[e])};function SE(e){return{isDragging:e.isDragging(),item:e.getItem()}}function wE({dragItem:e,canDrag:t=!0,hideDefaultPreview:i=!0,dragEnd:r,dragStart:a},n=[]){const[o,l,s]=function(e,t){var i=Ny(e,t);Ty(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r,a=(r=Py(),(0,wy.useMemo)((function(){return new hE(r)}),[r])),n=function(e,t){var i=Py(),r=(0,wy.useMemo)((function(){return new DE(i.getBackend())}),[i]);return ky((function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}}),[r,e]),ky((function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}}),[r,t]),r}(i.options,i.previewOptions);return cE(i,a,n),[eE(i.collect,a,n),yE(n),EE(n)]}((()=>({type:(IE(e)?e():e).type,item:e,collect:SE,canDrag:t,end:r})),n),d=CE(),c=(0,R.useCallback)((e=>{d(),a&&a(e)}),[a,d]),u=(0,R.useRef)(!1);return(0,R.useEffect)((()=>{if(o.isDragging){if(!u.current){const t=IE(e)?e():e;u.current=!0,c(t)}}else u.current=!1}),[o.isDragging,c,e]),(0,R.useEffect)((()=>{i&&s((vE||((vE=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),vE),{captureDraggingState:!1})}),[s,i]),[o,l]}function TE(e){return(0,n.isAttributeElementsByValue)(e.attributeFilter.attributeElements)?e:{attributeFilter:Object.assign(Object.assign({},e.attributeFilter),{attributeElements:{values:e.attributeFilter.attributeElements.uris}})}}function AE({FilterComponent:e,filter:t,filterIndex:i,autoOpen:r,readonly:a,onAttributeFilterChanged:n,onAttributeFilterAdded:o,onAttributeFilterClose:l}){const s=$f(yc),[{isDragging:d},c]=wE({dragItem:{type:"attributeFilter",filter:t,filterIndex:i},canDrag:s},[t,i,s]),u=$f(To),g=$f(hd),m=(0,R.useMemo)((()=>u?t:TE(t)),[t,u]),p=(0,R.useCallback)((()=>{l()}),[l]),h=s&&!d;return R.createElement("div",{className:"draggable-attribute-filter"},h?R.createElement(aE,{hintPosition:"prev",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:g}):null,R.createElement("div",{className:gy("dash-filters-notdate","dash-filters-attribute",{"dash-filter-is-edit-mode":s,"is-dragging":d}),ref:c},R.createElement(e,{filter:m,onFilterChanged:n,isDraggable:s,readonly:a,autoOpen:r,onClose:p})),h?R.createElement(aE,{hintPosition:"next",targetIndex:i,onAddAttributePlaceholder:o,acceptPlaceholder:g}):null)}var PE=i(44012),kE=i(25972);function RE({targetIndex:e,onDrop:t}){var i,r;const a=(0,kE.Fg)(),n=$f(yc),[{canDrop:o,isOver:l,itemType:s},d]=rE(["attributeFilter","attributeFilter-placeholder"],{drop:()=>t(e)},[e]);if(!n||void 0!==s&&"attributeFilter"===s)return null;const c=o||l,u=gy("attr-filter-dropzone-box","s-last-filter-drop-position","s-attr-filter-dropzone-box",{"attr-filter-dropzone-box-active":c},{"attr-filter-dropzone-box-over":l}),g=py({isOver:l});return R.createElement("div",{className:"attr-filter-dropzone-box-outer",style:g,ref:d},c?R.createElement("div",{className:u},R.createElement("div",{className:"attr-filter-dropzone-box-inner"},R.createElement(PE.Z,{id:"filterBar.filter.drop"}))):R.createElement(pb.BubbleHoverTrigger,null,R.createElement("div",{className:u},R.createElement("div",{className:"attr-filter-dropzone-box-inner"},R.createElement(PE.Z,{id:"filterBar.filter.addFilterPlaceholder",values:{icon:R.createElement(pb.Icon.AttributeFilter,{className:"attribute-filter-icon",width:14,height:14,color:null===(r=null===(i=null==a?void 0:a.palette)||void 0===i?void 0:i.complementary)||void 0===r?void 0:r.c6})}}))),R.createElement(pb.Bubble,{alignPoints:[{align:"bc tc",offset:{x:0,y:0}}]},R.createElement(PE.Z,{id:"filterBar.filter.dropzone.tooltip"}))))}const xE=()=>null;var LE=i(88699),OE=i(24476),FE=i(2498);const ME=JSON.parse('{"loading":{"value":"Loading","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"untitled":{"value":"Untitled","comment":"","limit":0},"empty_value":{"value":"empty value","comment":"","limit":0},"gs.list.cancel":{"value":"Cancel","comment":"","limit":0},"gs.list.apply":{"value":"Apply","comment":"","limit":0},"gs.list.only":{"value":"Only","comment":"","limit":0},"messages.dashboardSaveSuccess":{"value":"Great. We saved your dashboard.","comment":"","limit":0},"options.menu.save.as":{"value":"Save as new","comment":"Save As New Dashboard","limit":0},"options.menu.save.as.tooltip":{"value":"Empty dashboard cannot be saved.","comment":"Empty dashboard cannot be saved.","limit":0},"messages.dashboardSaveFailed":{"value":"Failed to save dashboard, please try again.","comment":"","limit":0},"messages.dashboard.invalidDrills.title":{"value":"<b>Some interactions were removed</b>","comment":"Title of the warning message shown while editing KPI dashboard with some invalid drills.","limit":0},"messages.dashboard.invalidDrills.body.modern._measure|insight":{"value":"One or more dashboard/insight/measure/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidDrills.body.modern._metric|insight":{"value":"One or more dashboard/insight/metric/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidDrills.body.modern._measure|report":{"value":"One or more dashboard/report/measure/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.invalidDrills.body.modern._metric|report":{"value":"One or more dashboard/report/metric/attribute has been changed or deleted causing some interactions to be removed from following widgets: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.invalidCustomUrlDrills.title":{"value":"<b>Some drill into URL interactions were disabled</b>","comment":"Title of the warning message shown while editing KPI dashboard with some invalid drills.","limit":0},"messages.dashboard.invalidCustomUrlDrills.body.modern|insight":{"value":"Some of the drill into URL interactions on the following widgets were disabled because of changes in insight attributes: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","limit":0},"messages.dashboard.invalidCustomUrlDrills.body.modern|report":{"value":"Some of the drill into URL interactions on the following widgets were disabled because of changes in report attributes: <b>{listOfWidgetTitles}</b>","comment":"Expanded text of the warning message shown while editing KPI dashboard with some invalid drills. Don\'t translate placeholder \'{listOfWidgetTitles}\'.","translate":false,"limit":0},"messages.dashboard.expandable.showMore":{"value":"Show more","comment":"Title of the link to show more text of a notification message.","limit":0},"messages.dashboard.expandable.showLess":{"value":"Show less","comment":"Title of the link to collapse text of a notification message.","limit":0},"messages.drill.InteractionConfiguredSuccess":{"value":"Interaction configured.","comment":"Dialog. Configure of drill interaction is created.","limit":0},"messages.drill.InteractionUpdatedSuccess":{"value":"Interaction updated.","comment":"Dialog. Configure of drill interaction is updated.","limit":0},"filterBar.showAll":{"value":"Show all","comment":"","limit":0},"filterBar.showLess":{"value":"Show less","comment":"","limit":0},"options.menu.export.PDF":{"value":"Export to PDF","comment":"Export whole KPI dashboard to PDF","limit":0},"options.menu.schedule.email":{"value":"Schedule emailing","comment":"Translate as imperative. Schedule emailing whole KPI dashboard","limit":0},"options.menu.delete":{"value":"Delete","comment":"Delete Dashboard","limit":0},"dialogs.export.cells":{"value":"CELLS","comment":"Cells of the table that is going to be exported to file","limit":0},"dialogs.export.filters|insight":{"value":"INSIGHT CONTEXT","comment":"The filters that are applied to the report","limit":0},"dialogs.export.filters|report":{"value":"REPORT CONTEXT","comment":"The filters that are applied to the report","limit":0,"translate":false},"dialogs.export.includeFilters":{"value":"Include applied filters","comment":"Include the applied filters to the exported file","limit":0},"dialogs.export.headline":{"value":"Export to XLSX","comment":"Export data to XLSX file","limit":0},"dialogs.export.mergeHeaders":{"value":"Keep attribute cells merged","comment":"Merge the similar cells of the table into one when exporting table to the file.","limit":0},"dialogs.export.submit":{"value":"Export","comment":"Start to export data to file","limit":0},"dialogs.schedule.email.delete.success":{"value":"Success! Your scheduled email was deleted.","comment":"","limit":0},"dialogs.schedule.email.submit.success":{"value":"Success! Your dashboard is scheduled for emailing.","comment":"","limit":0},"dialogs.schedule.email.submit.error":{"value":"Failed to schedule the dashboard. Try again later.","comment":"","limit":0},"dialogs.schedule.email.save.success":{"value":"Success! Your schedule has been saved.","comment":"","limit":0},"dialogs.schedule.email.save.error":{"value":"Failed to save the schedule. Try again later.","comment":"","limit":0},"dialogs.save.as.new.title":{"value":"Save dashboard as new","comment":"","limit":0},"dialogs.save.as.new.desc":{"value":"Give your new dashboard a new descriptive name, so it\'s easier to find it later on.","comment":"","limit":0},"dialogs.save.as.new.default.title":{"value":"Copy of {title}","comment":"","limit":0},"dialogs.save.as.new.alertsAndEmailsMessage":{"value":"Alerts and email schedules will not be duplicated","comment":"","limit":0},"dialogs.save.as.new.alertsMessage":{"value":"Alerts will not be duplicated","comment":"","limit":0},"dialogs.save.as.new.emailsMessage":{"value":"Email schedules will not be duplicated","comment":"","limit":0},"cancelConfirmationDialog.headline":{"value":"Discard changes?","comment":"","limit":0},"cancelConfirmationDialog.message":{"value":"All changes will be lost","comment":"","limit":0},"cancelConfirmationDialog.submitButtonText":{"value":"Discard changes","comment":"","limit":0},"deleteDashboardDialog.headline":{"value":"Delete dashboard?","comment":"","limit":0},"deleteDashboardDialog.submitButtonText":{"value":"Delete","comment":"","limit":0},"deleteDashboardDialog.alertsAndEmailsMessage":{"value":"All alerts and scheduled emails set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.alertsMessage":{"value":"All alerts set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.emailsMessage":{"value":"All scheduled emails set up for this dashboard will also be deleted.","comment":"","limit":0},"deleteDashboardDialog.drillMessage":{"value":"All drilling into this dashboard from other dashboards will be removed.","comment":"","limit":0},"create.dashboard":{"value":"Create dashboard","comment":"","limit":0},"drill_modal_picker.drill-down":{"value":"Drill down","comment":"Title of widget interactions","limit":0},"drill_modal_picker.drill-into":{"value":"Drill into","comment":"Title of widget interactions","limit":0},"drill_modal_picker.cross-filter":{"value":"Cross-filter","comment":"Title of widget interactions","limit":0},"drill_modal_picker.more.details":{"value":"More details","comment":"","limit":0},"drillModal.backToTop":{"value":"Back to top","comment":"","limit":0},"filters.allTime.previousPeriod":{"value":"prev. period","comment":"","limit":0},"filters.allTime.lastYear":{"value":"prev. year","comment":"","limit":0},"filters.minute.previousPeriod":{"value":"prev. minute","comment":"","limit":0},"filters.hour.previousPeriod":{"value":"prev. hour","comment":"","limit":0},"filters.day.previousPeriod":{"value":"prev. {n, plural, one {day} other {#d}}","comment":"In \'{n, plural, one {DAY} other {#D}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#d}\', wrong \'{#d.}\').","limit":0},"filters.week.previousPeriod":{"value":"prev. {n, plural, one {week} other {#w}}","comment":"In \'{n, plural, one {WEEK} other {#W}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#w}\', wrong \'{#w.}\').","limit":0},"filters.month.previousPeriod":{"value":"prev. {n, plural, one {month} other {#m}}","comment":"In \'{n, plural, one {MONTH} other {#M}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#m}\', wrong \'{#m.}\').","limit":0},"filters.quarter.previousPeriod":{"value":"prev. {n, plural, one {quarter} other {#q}}","comment":"In \'{n, plural, one {QUARTER} other {#Q}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#q}\', wrong \'{#q.}\').","limit":0},"filters.year.previousPeriod":{"value":"prev. {n, plural, one {year} other {#y}}","comment":"In \'{n, plural, one {YEAR} other {#Y}}\' translate only uppercase words. Keep number placeholder \'#\' as is. Do not put dot character after period abbreviation (correct \'{#y}\', wrong \'{#y.}\').","limit":0},"filters.alertMessage.relativePreset":{"value":"in {calendarIcon} {range}","comment":"Don\'t translate placeholders \'{calendarIcon}\', \'{range}\'.","limit":0},"filters.alertMessage.relativePreset.inPeriod":{"value":"in period {calendarIcon} {range}","comment":"Don\'t translate placeholders \'{calendarIcon}\', \'{range}\'. Example text: \'in period (calendar) from 2 months ago to 2 months ahead\'","limit":0},"filters.config.warning.multipleProjectConfigs":{"value":"There is more than one project date filter configuration associated with this project. The first one was used.","comment":"Displayed if there is more than one project date filter configuration associated with the project.","limit":0},"filters.config.warning.multipleWorkspacesConfigs":{"value":"There is more than one workspace date filter configuration associated with this workspace. The first one was used.","comment":"Displayed if there is more than one workspace date filter configuration associated with the workspace.","limit":0},"filters.config.warning.selectedFilterNotValid":{"value":"The default filter option is not valid, using the first option available instead.","comment":"Displayed if the default option for new dashboards is not valid.","limit":0},"filters.config.warning.allOptionsHidden":{"value":"The dashboard date filter configuration was ignored because it would have hidden all the filter options.","comment":"Displayed if applying a dashboard config would make all the filter options hidden.","limit":0},"filters.config.warning.conflictingIdentifiers":{"value":"The dashboard date filter configuration was ignored because it contains date filter options with identical identifiers.","comment":"Displayed if applying a dashboard config would make it contain more than one option with the same identifier.","limit":0},"filters.config.warning.notAvailable":{"value":"The project date filter configuration is either not defined or you do not have the permissions to access it.","comment":"Displayed if there is an error getting the project level config.","limit":0},"filters.config.warning.workspace.notAvailable":{"value":"The workspace date filter configuration is either not defined or you do not have the permissions to access it.","comment":"Displayed if there is an error getting the workspace level config.","limit":0},"kpi.noData":{"value":"No data for current filter settings. Try changing the filters.","comment":"","limit":0},"kpiPop.change":{"value":"change","comment":"","limit":0},"dialogs.schedule.email.filters":{"value":"Dashboard contains filter changes that will be saved in the schedule.","comment":"","limit":0},"dialogs.schedule.email.filters.not.saved":{"value":"Dashboard filters saved in the schedule will not be affected.","comment":"","limit":0},"dialogs.schedule.email.attachment.filter":{"value":"(with currently set filters)","comment":"Keep the parentheses. Attachment with filters included.","limit":0},"dialogs.schedule.email.attachment.label":{"value":"Attachment:","comment":"Attachment of the scheduled email.","limit":0},"dialogs.schedule.email.attachments.label":{"value":"Attachments:","comment":"Attachments of the scheduled email.","limit":0},"dialogs.schedule.email.attachment.select":{"value":"Select attachments","comment":"Label of a button that opens attachment selection","limit":0},"dialogs.schedule.email.attachment.select.disabled.message|insight":{"value":"This dashboard does not contain any insights.","comment":"Message for button to add insights to the export, if there are no insights.","limit":0},"dialogs.schedule.email.attachment.select.disabled.message|report":{"value":"This dashboard does not contain any reports.","comment":"Message for button to add reports to the export, if there are no reports.","limit":0,"translate":false},"dialogs.schedule.email.attachment.select.dashboard.header":{"value":"Dashboard (PDF)","comment":"Heading of checkbox that selects dashboard to be exported in PDF file format","limit":0},"dialogs.schedule.email.attachment.select.widgets.header|report":{"value":"Reports (CSV, XLSX)","comment":"Heading of section of checkboxes for selecting reports to be exported as CSV of XLSX file","limit":0,"translate":false},"dialogs.schedule.email.attachment.select.widgets.header|insight":{"value":"Insights (CSV, XLSX)","comment":"Heading of section of checkboxes for selecting insights to be exported as CSV of XLSX file","limit":0},"dialogs.schedule.email.headline":{"value":"Schedule email delivery","comment":"Translate as imperative. Schedule emailing whole KPI dashboard.","limit":0},"dialogs.schedule.email.heading":{"value":"Schedule export","comment":"Translate as imperative. Schedule exporting whole dashboard and insights","limit":0},"dialogs.schedule.email.message.label":{"value":"Message:","comment":"Message of the scheduled email.","limit":0},"dialogs.schedule.email.unsubscribed.recipients":{"value":"{n, plural, one {1 recipient unsubscribed} other {# recipients unsubscribed}} from this schedule.","comment":"Translate only \'recipient unsubscribed\'/\'recipients unsubscribed\' and \'from this schedule.\' to form a proper sentence with correct plural form for given language","limit":0},"dialogs.schedule.email.repeats.label":{"value":"Repeats:","comment":"Count of repeats of the scheduled email.","limit":0},"dialogs.schedule.email.repeats.execute.on.dayOfMonth":{"value":"on day {date}","comment":"Example \'on day 2 of January\'. Placeholder \'{date}\' refers to ordinal number of day of the month. Don\'t translate placeholder \'{date}\'.","limit":0},"dialogs.schedule.email.repeats.execute.on.dayOfWeek":{"value":"on the {week, select, 1 {first} 2 {second} 3 {third} 4 {fourth} other {last}} {day}","comment":"Example: \'on the first Friday\'. Translate only uppercase in \'ON THE {week, select, 1 {FIRST} 2 {SECOND} 3 {THIRD} 4 {FOURTH} other {LAST}} {day}\'","limit":0},"dialogs.schedule.email.repeats.every":{"value":"every","comment":"Example \'every 1 month\'. FIXME: This needs to be split into variants \'every day\', \'every week\', ... since some languages uses different gramatical gender for the \'every\' based on the subject.","limit":0},"dialogs.schedule.email.repeats.frequencies.day":{"value":"{n, plural, one {day} other {days}}","comment":"Translate only uppercase in \'{n, plural, one {DAY} other {DAYS}}\'.","limit":0},"dialogs.schedule.email.repeats.frequencies.month":{"value":"{n, plural, one {month} other {months}}","comment":"Translate only uppercase in \'{n, plural, one {MONTH} other {MONTHS}}\'.","limit":0},"dialogs.schedule.email.repeats.frequencies.week":{"value":"{n, plural, one {week} other {weeks}}","comment":"Translate only uppercase in \'{n, plural, one {WEEK} other {WEEKS}}\'.","limit":0},"dialogs.schedule.email.repeats.types.custom":{"value":"Custom","comment":"Repeats the schedule email using custom rules defined by the user.","limit":0},"dialogs.schedule.email.repeats.types.daily":{"value":"Daily","comment":"Repeats the schedule email daily.","limit":0},"dialogs.schedule.email.repeats.types.monthly":{"value":"Monthly on the {week, select, 1 {first} 2 {second} 3 {third} 4 {fourth} other {last}} {day}","comment":"Example: \'Monthly on the first Friday\'. Translate only uppercase in \'MONTHLY ON THE {week, select, 1 {FIRST} 2 {SECOND} 3 {THIRD} 4 {FOURTH} other {LAST}} {day}\'","limit":0},"dialogs.schedule.email.repeats.types.weekly":{"value":"Weekly on {day}","comment":"Example: \'Weekly on Friday\'. Placeholder \'{day}\' refers to a day of a week. Don\'t translate placeholder \'{day}\'.","limit":0},"dialogs.schedule.email.subject.label":{"value":"Subject:","comment":"Subject of the schedule email.","limit":0},"dialogs.schedule.email.time.label":{"value":"First occurrence:","comment":"Translate as imperative. Date time of the schedule email.","limit":0},"dialogs.schedule.email.to.label":{"value":"To:","comment":"Emails of the schedule email.","limit":0},"dialogs.schedule.email.message.placeholder":{"value":"Hello,\\n\\nYour scheduled email is ready. You can download the dashboard in attachments.","comment":"Don\'t translate \'\\n\\n\' which adds 2 new lines to the text.","limit":0},"dialogs.schedule.email.submit":{"value":"Schedule","comment":"Translate as imperative. Submit the schedule config form.","limit":0},"dialogs.schedule.email.save":{"value":"Save","comment":"Translate as imperative. It\'s caption of a button for saving scheduled mail","limit":0},"dialogs.schedule.email.format.options":{"value":"Format options","comment":"Header of a formatting dialog. Not an imperative!","limit":0},"dialogs.schedule.email.insight.format|insight":{"value":"Insight format:","comment":"Label of a dropdown for selecting export format","limit":0},"dialogs.schedule.email.insight.format|report":{"value":"Report format:","comment":"Label of a dropdown for selecting export format","limit":0,"translate":false},"dialogs.schedule.email.attribute.merged":{"value":"Keep attribute cells merged","comment":"Label of a checkbox field","limit":0},"dialogs.schedule.email.show.filters":{"value":"Show what filters are applied","comment":"Label of a checkbox field","limit":0},"dialogs.schedule.management.title":{"value":"Scheduled exports","comment":"","limit":0},"dialogs.schedule.management.delete":{"value":"Delete the schedule.","comment":"","limit":0},"dialogs.schedule.management.delete.dialog":{"value":"Delete schedule?","comment":"","limit":0},"dialogs.schedule.management.delete.dialog.confirm":{"value":"<b>The schedule</b> will be permanently deleted.","comment":"Do not translate html tags <b>, </b>","limit":0},"dialogs.schedule.management.noSchedules":{"value":"The dashboard contains no scheduled exports.{br}Add one now.","comment":"","limit":0},"dialogs.schedule.management.noSchedules.byUser":{"value":"You have not scheduled any exports yet.{br}Add one now.","comment":"","limit":0},"dialogs.schedule.management.addSchedule":{"value":"Add schedule","comment":"","limit":0},"dialogs.schedule.management.recipients":{"value":"{n, plural, one {# recipient} other {# recipients}}","comment":"Translate only uppercase in \'{n, plural, one {# RECIPIENT} other {# RECIPIENTS}}\'.","limit":0},"dialogs.schedule.management.recipients.onlyYou":{"value":"Only you","comment":"There is no other recipient than you.","limit":0},"dialogs.schedule.management.attachments.dashboard":{"value":"Dashboard","comment":"Type of attachment.","limit":0},"dialogs.schedule.management.attachments.widgets|insight":{"value":"{n, plural, one {# insight} other {# insights}}","comment":"Translate only uppercase in \'{n, plural, one {# INSIGHT} other {# INSIGHTS}}\'.","limit":0},"dialogs.schedule.management.attachments.widgets|report":{"value":"{n, plural, one {# report} other {# reports}}","comment":"Translate only uppercase in \'{n, plural, one {# REPORT} other {# REPORTS}}\'.","limit":0,"translate":false},"dialogs.schedule.management.attachments.mixed|insight":{"value":"Dashboard and {n, plural, one {# insight} other {# insights}}","comment":"In \'{n, plural, one {# INSIGHT} other {# INSIGHTS}}\', translate only uppercase words.","limit":0},"dialogs.schedule.management.attachments.mixed|report":{"value":"Dashboard and {n, plural, one {# report} other {# reports}}","comment":"In \'{n, plural, one {# REPORT} other {# REPORTS}}\', translate only uppercase words.","limit":0,"translate":false},"dialogs.schedule.management.load.error":{"value":"Failed to load. Try again later.","comment":"","limit":0},"dialogs.schedule.management.delete.error":{"value":"Failed to delete schedule. Try again later.","comment":"","limit":0},"dialogs.schedule.management.tab.all":{"value":"all","comment":"","limit":0},"dialogs.schedule.management.tab.user":{"value":"created by me","comment":"","limit":0},"options.menu.schedule.email.recipient.invalid":{"value":"This is not a valid email address.","comment":"Translate as imperative. Error message for recipient email address","limit":0},"options.menu.schedule.email.recipient.warning.existed":{"value":"You have already added this recipient.","comment":"Translate as imperative. Warning email has been existed on recipient field in schedule email dialog","limit":0},"options.menu.schedule.email.recipient.warning.belong.workspace":{"value":"This email address does not belong to this workspace. The recipient may receive sensitive data.","comment":"Translate as imperative. Warning email on recipient field in schedule email dialog","limit":0},"options.menu.schedule.email.recipient.external.not.allowed":{"value":"This email address does not belong to this workspace. Only the author of the schedule can add this email address.","comment":"Translate as imperative. Warning email on recipient field in schedule email dialog","limit":0},"delete":{"value":"Delete","comment":"","limit":0},"close":{"value":"Close","comment":"Label of a button for closing a dialog window","limit":0},"cancel":{"value":"Cancel","comment":"","limit":0},"gs.date.at":{"value":"at","comment":"","limit":0},"gs.date.today":{"value":"Today","comment":"","limit":0},"gs.date.tomorrow":{"value":"Tomorrow","comment":"","limit":0},"gs.date.yesterday":{"value":"Yesterday","comment":"","limit":0},"kpi.alertBox.title":{"value":"Set an alert on KPI change","comment":"","limit":0},"kpi.alertBox.example":{"value":"e.g.","comment":"","limit":0},"kpi.alertBox.unverifiedEmail":{"value":"Sorry, you can\'t set an alert. Make sure your email is verified. If that doesn\'t help, ask your administrator to update your permissions.","comment":"","limit":0},"kpi.alertBox.disabledInReadOnly":{"value":"Alerting is disabled in the read-only mode","comment":"","limit":0},"kpi.error.view":{"value":"KPI cannot be displayed. Contact your administrator to fix the KPI definition.","comment":"","limit":0},"kpiAlertDialog.delete":{"value":"Delete","comment":"","limit":0},"kpiAlertDialog.deleting":{"value":"Deleting","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.emailMe":{"value":"Email me","comment":"","limit":0},"kpiAlertDialog.emailMeWhen":{"value":"{emailMe} when this KPI is","comment":"Don\'t translate placeholder \'{emailMe}\'.","limit":0},"kpiAlertDialog.emailInfo":{"value":"Email will be sent to {userEmail}","comment":"Don\'t translate placeholder \'{userEmail}\'.","limit":0},"kpiAlertDialog.invalidNumber":{"value":"<strong>This number is not valid.</strong>{br}Double-check it and try again.","comment":"Do not translate HTML markup enclosed in <>.","limit":0},"kpiAlertDialog.filtersDiffer":{"value":"KPI is now filtered differently than when the alert was set up.","comment":"","limit":0},"kpiAlertDialog.filtersApply":{"value":"Apply alert filters to dashboard","comment":"","limit":0},"kpiAlertDialog.savingFailed":{"value":"Saving alert failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.deleteingFailed":{"value":"Deleting alert failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.brokenAlert":{"value":"Broken alert","comment":"","limit":0},"kpiAlertDialog.brokenAlertAppeal":{"value":"To see correct KPI value, update the filters in this alert. You can also remove the alert.","comment":"","limit":0},"kpiAlertDialog.brokenAlertDefaultDateLabel":{"value":"Date","comment":"Label used in broken alert dialog in case no other date label is found.","limit":0},"kpiAlertDialog.removedFilters":{"value":"Filters removed from dashboard","comment":"","limit":0},"kpiAlertDialog.ignoredFilters":{"value":"Filters ignored for this kpi","comment":"","limit":0},"kpiAlertDialog.updateTitle":{"value":"Update","comment":"","limit":0},"kpiAlertDialog.updateBrokenTitle":{"value":"Update filters","comment":"","limit":0},"kpiAlertDialog.updatingTitle":{"value":"Updating","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.updateBrokenFailed":{"value":"Updating filters failed. Please try again.","comment":"","limit":0},"kpiAlertDialog.setTitle":{"value":"Set alert","comment":"","limit":0},"kpiAlertDialog.settingTitle":{"value":"Setting","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"kpiAlertDialog.threshold.above":{"value":"above","comment":"","limit":0},"kpiAlertDialog.threshold.below":{"value":"below","comment":"","limit":0},"kpiAlertDialog.withAttributeFilters":{"value":"{numFilters} more {numFilters, select, 1 {filter} other {filters}} applied","comment":"Don\'t translate placeholder \'{numFilters}\'. In \'{numFilters, select, 1 {FILTER} other {FILTERS}}\' translate only uppercase words.","limit":0},"messages.exportResultError":{"value":"Failed to export the data. Try again later.","comment":"Error dialog. Exporting insight to the file fails.","limit":0},"messages.exportResultRestrictedError|insight":{"value":"You cannot export this insight because it contains restricted data.","comment":"Error dialog. Exporting insight to the file fails because contains restricted data.","limit":0},"messages.exportResultRestrictedError|report":{"value":"You cannot export this report because it contains restricted data.","comment":"Error dialog. Exporting report to the file fails because contains restricted data.","limit":0,"translate":false},"messages.exportResultStart":{"value":"Export in progress","comment":"Dialog. Export of the visualization to the file is in progress.","limit":0},"messages.exportResultSuccess":{"value":"Export successful.","comment":"Dialog. Export of the visualization to the file is done.","limit":0},"messages.sharingChangedSuccess":{"value":"Sharing updated.","comment":"Global messages. Change of dashboard sharing is done.","limit":0},"messages.sharingChangedError.general":{"value":"Failed to update the sharing settings. Try again later.","comment":"Global messages. Change of dashboard sharing fails.","limit":0},"messages.sharingDialogError.general":{"value":"Failed to load the sharing settings. Try again later.","comment":"Global messages. Load of dashboard sharing dialog fails.","limit":0},"visualization.dataTooLarge.headline":{"value":"Too many data points to display","comment":"","limit":0},"visualization.dataTooLarge.text":{"value":"Try applying one or more filters to your dashboard.","comment":"","limit":0},"visualization.execute_protected_report.headline":{"value":"You are not authorized to see this report","comment":"","limit":0},"visualization.execute_protected_report.text":{"value":"Contact your administrator.","comment":"","limit":0},"visualization.alert_not_supported":{"value":"Alerts are not supported for the static date period","comment":"","limit":0},"visualization.empty.headline":{"value":"No data for your filter selection","comment":"","limit":0},"visualization.error.headline|insight":{"value":"Sorry, we can\'t display this insight","comment":"","limit":0},"visualization.error.headline|report":{"value":"Sorry, we can\'t display this report","comment":"","limit":0,"translate":false},"visualization.error.text":{"value":"Contact your administrator.","comment":"","limit":0},"options.button.bubble|insight":{"value":"Export insight data","comment":"Show this message when hovering on the options button","limit":0},"options.button.bubble|report":{"value":"Export report data","comment":"Show this message when hovering on the options button","limit":0,"translate":false},"options.menu.export.CSV":{"value":"CSV","comment":"Export to file with CSV extension.","limit":0},"options.menu.export.XLSX":{"value":"XLSX","comment":"Export to file with XLSX extension.","limit":0},"options.menu.unsupported.error._measure|insight":{"value":"The insight cannot be exported at the moment. Try applying different filters, or using different measures or attributes.","comment":"Error popup. Insight cannot be exported to the file because of wrong setting of filters, measures or attributes.","limit":0},"options.menu.unsupported.error._metric|insight":{"value":"The insight cannot be exported at the moment. Try applying different filters, or using different metrics or attributes.","comment":"Error popup. Insight cannot be exported to the file because of wrong setting of filters, metrics or attributes.","limit":0},"options.menu.unsupported.error._measure|report":{"value":"The report cannot be exported at the moment. Try applying different filters, or using different measures or attributes.","comment":"Error popup. Report cannot be exported to the file because of wrong setting of filters, measures or attributes.","limit":0,"translate":false},"options.menu.unsupported.error._metric|report":{"value":"The report cannot be exported at the moment. Try applying different filters, or using different metrics or attributes.","comment":"Error popup. Report cannot be exported to the file because of wrong setting of filters, metrics or attributes.","limit":0,"translate":false},"options.menu.unsupported.loading|insight":{"value":"The insight cannot be exported at the moment.","comment":"Error popup. Insight cannot be exported to the file.","limit":0},"options.menu.unsupported.loading|report":{"value":"The report cannot be exported at the moment.","comment":"Error popup. Report cannot be exported to the file.","limit":0,"translate":false},"export.defaultTitle|insight":{"value":"Untitled insight","comment":"Default title for exported file","limit":0},"export.defaultTitle|report":{"value":"Untitled report","comment":"Default title for exported file","limit":0,"translate":false},"export_unsupported.disabled":{"value":"Export is not supported","comment":"Export to the file not supported.","limit":0},"widget.options.menu.exportToCSV":{"value":"Export to CSV","comment":"Export to file with CSV extension.","limit":0},"widget.options.menu.exportToXLSX":{"value":"Export to XLSX","comment":"Export to file with XLSX extension.","limit":0},"widget.options.menu.scheduleExport":{"value":"Schedule export","comment":"","limit":0},"share.button.text":{"value":"Share","comment":"Text of button that opens share dialog","limit":0},"dashboard.error.empty.heading":{"value":"This dashboard is empty","comment":"The user has a dashboard that contains no widgets.","limit":0},"dashboard.error.empty.text|insight":{"value":"All insights were removed.","comment":"The user has a dashboard that contains no widgets.","limit":0},"dashboard.error.empty.text|report":{"value":"All reports were removed.","comment":"The user has a dashboard that contains no widgets.","translate":false,"limit":0},"dashboard.shareDialog.underLenientControl.label":{"value":"Other users can access this dashboard if they drill to it","comment":"Label of checkbox that sets if other users than the ones in the list above the checkbox will be able to access the dashboard if they drill into it from another dashboard.","limit":0},"dashboard.shareDialog.lock.label":{"value":"Only admins can edit this dashboard","comment":"Label of checkbox that sets edit right for the dashboard","limit":0},"header.lockStatus.tooltip":{"value":"<b>This dashboard is locked.</b> Only administrators can edit this dashboard.","comment":"Shown when hovering over lock indicator. Dont translate html tags <b>, </b>","limit":0},"header.shareStatus.private.text":{"value":"Private","comment":"Share indicator text when dashboard is private","limit":0},"header.shareStatus.private.strict.tooltip":{"value":"Only you can view and edit this dashboard.","comment":"Shown when hovering over share indicator of private dashboard and strict access.","limit":0},"header.shareStatus.private.not.strict.tooltip":{"value":"The creator can edit this dashboard. Other users with appropriate user roles can edit this dashboard when they drill to it.","comment":"Shown when hovering over share indicator of private dashboard and not strict access.","limit":0},"dashboard.shareDialog.removeAccessGranteeTooltip":{"value":"Remove access to this dashboard.","comment":"Text of the tooltip shown above button that removes user or group dashboard access right.","limit":0},"dashboard.shareDialog.removeAccessCreatorTooltip":{"value":"The user that created this dashboard. Creators cannot be removed.","comment":"Text of the tooltip shown above disabled button that removes user dashboard access right. Shown in the case when user cannot be removed because he is the creator of the dashboard.","limit":0},"attributesDropdown.placeholder":{"value":"Search attributes","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"attributesDropdown.configuration":{"value":"Configuration","comment":"Configuration button label in attribute filter dropdown","limit":0},"attributesDropdown.itemsFiltered":{"value":"Items are filtered","comment":"This message is displayed when attribute elements are being filtered out by parent filters","limit":0},"attributesDropdown.allItemsFiltered":{"value":"All items are filtered out","comment":"This message is displayed when there are no items available because they were filtered out by parent filters","limit":0},"attributesDropdown.itemsFiltered.tooltip":{"value":"Items are filtered by: <strong>{filters}</strong>","comment":"Do not translate HTML markup enclosed in <> and {filters} placeholder as it will be replaced by list of filter names.","limit":0},"attributesDropdown.save":{"value":"Save","comment":"Save button label in attribute filter dropdown configuration","limit":0},"attributesDropdown.filterBy":{"value":"Filter by","comment":"Filter section label in attribute filter dropdown configuration","limit":0},"attributesDropdown.displayValuesAs":{"value":"Display values as","comment":"Filter section label in attribute filter dropdown configuration. Displayed before dropdown button that changes form of the attribute used in insight. For example \'Display as: Shortened name\'.","limit":0},"attributesDropdown.title":{"value":"Title","comment":"","limit":0},"attributesDropdown.title.reset":{"value":"Reset","comment":"","limit":0},"attributesDropdown.selectionMode":{"value":"Selection","comment":"Dropdown subsection title.","limit":0},"attributesDropdown.selectionMode.multi":{"value":"Multiple values","comment":"Input selection choice.","limit":0},"attributesDropdown.selectionMode.single":{"value":"Single value","comment":"Input selection choice.","limit":0},"attributesDropdown.selectionMode.disabled.tooltip":{"value":"Single value selection is not allowed if any filters are selected in Filter by.To use the Single value selection, disable all filters in Filter by.","comment":"Tooltip describing why selection value is disabled.","limit":0},"attributesDropdown.parentFilter.disabled.tooltip":{"value":"Filtering by other filters is disabled for Single value selection. To set Filter by, select the multiple value selection.","comment":"Tooltip describing why choosing parent filters is disabled.","limit":0},"attributesDropdown.noConnectionMessage":{"value":"<strong>{childTitle}</strong> cannot be filtered by <strong>{parentTitle}</strong>. There is no connection between the filter attributes in the data model.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"attributesDropdown.details.dataset":{"value":"Dataset","comment":"","limit":0},"attributesDropdown.details.values":{"value":"Values","comment":"","limit":0},"attributesDropdown.details.shortening_decoration":{"value":"and {count} more","comment":"Don\'t translate placeholder \'{count}\'. Use \'\' as one character, not 3 dots (\'...\').","limit":0},"attributesDropdown.removeTooltip":{"value":"Remove from dashboard","comment":"Tooltip text of button for deleting filter","limit":0},"layout.header.characters.left":{"value":"{currentCharactersCount} / {maximumCharactersCount} characters left","comment":"Number of characters that can be written e.g. : 4 /20 characters left","limit":0},"layout.header.add.title.placeholder":{"value":"Add Title here...","comment":"Add title component placeholder text","limit":0},"layout.header.add.description.placeholder":{"value":"Add Description here...","comment":"Add description component placeholder text","limit":0},"error":{"value":"Error","comment":"","limit":0},"controlButtons.edit.value":{"value":"Edit","comment":"","limit":0},"controlButtons.saveAndPublish.value":{"value":"Save & Publish","comment":"","limit":0},"controlButtons.save.value":{"value":"Save","comment":"","limit":0},"controlButtons.saveAndPublish.title":{"value":"All changes will be immediately visible to everyone who can access this dashboard.","comment":"","limit":0},"controlButtons.saveAsPrivate.title":{"value":"All changes will be saved.","comment":"","limit":0},"controlButtons.saveAndPublish.disable.empty.title":{"value":"Empty dashboard cannot be saved","comment":"","limit":0},"controlButtons.saveAndPublish.disable.noChanges.title":{"value":"There are no changes to save","comment":"","limit":0},"controlButtons.saving.value":{"value":"Saving","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"gs.visualizationsList.tabs.all":{"value":"all","comment":"","limit":0},"gs.visualizationsList.tabs.my":{"value":"created by me","comment":"","limit":0},"visualizationsList.noInsights|insight":{"value":"This workspace contains no insights.","comment":"","limit":0},"visualizationsList.noInsights|report":{"value":"This workspace contains no reports.","comment":"","limit":0,"translate":false},"visualizationsList.create|insight":{"value":"Create insight","comment":"","limit":0},"visualizationsList.create|report":{"value":"Create report","comment":"","translate":false,"limit":0},"visualizationsList.noUserInsights|insight":{"value":"No insights created.","comment":"","limit":0},"visualizationsList.noUserInsights|report":{"value":"No reports created.","comment":"","limit":0,"translate":false},"visualizationsList.noVisualizationsFound|insight":{"value":"No insight matched.","comment":"","limit":0},"visualizationsList.noVisualizationsFound|report":{"value":"No report matched.","comment":"","limit":0,"translate":false},"search_insights|insight":{"value":"Search all insights","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"search_insights|report":{"value":"Search all reports","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0,"translate":false},"save.as.new":{"value":"Save as new","comment":"","limit":0},"addPanel.deleteItem":{"value":"Drop to remove","comment":"","limit":0},"addPanel.newItem":{"value":"New item","comment":"","limit":0},"addPanel.attributeFilter":{"value":"Attribute Filter","comment":"","limit":0},"addPanel.attributeFilter.tooltip.no_attributes":{"value":"The attribute filter requires an attribute.","comment":"","limit":0},"addPanel.attributeFilter.tooltip.no_attributes.link":{"value":"Learn more","comment":"","limit":0},"addPanel.kpi":{"value":"Key Performance Indicator","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures._measure":{"value":"The Key Performance Indicator requires a calculated measure.","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures._metric":{"value":"The Key Performance Indicator requires a metric.","comment":"","limit":0},"addPanel.kpi.tooltip.no_measures.link":{"value":"Learn more","comment":"","limit":0},"visualizationsList.dragToAdd":{"value":"Drag to add","comment":"","limit":0},"visualizationsList.savedVisualizations|insight":{"value":"Saved insights","comment":"","limit":0},"visualizationsList.savedVisualizations|report":{"value":"Saved reports","comment":"","translate":false,"limit":0},"configurationPanel.drillConfig.selectDashboard":{"value":"Choose dashboard","comment":"Hint guiding users that drill target dashboard in select box has to be selected. Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":{"value":"Search all dashboards","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.forbiddenDashboard":{"value":"(Not shared with you)","comment":"Placeholder used instead of the name of a dashboard in a list if dashboard name cannot be shown because dashboard was not shared with the user..","limit":0},"configurationPanel.drillConfig.forbiddenDashboard.tooltip":{"value":"Dashboard is not shared with you, but other users have access to this dashboard.","comment":"Tooltip explaining the accessibility of the dashboard.","limit":0},"configurationPanel.drillConfig.notSharedDashboard.tooltip":{"value":"Dashboard is not shared with you, but all users can access it if they drill to it.","comment":"Tooltip explaining the accessibility of the dashboard.","limit":0},"configurationPanel.remove.form.dashboard":{"value":"Remove from dashboard","comment":"","limit":0},"filterBar.filter.drop":{"value":"drop to add","comment":"","limit":0},"filterBar.filter.addFilterPlaceholder":{"value":"Drag {icon} here","comment":"Do not translate variable enclosed in {}.","limit":0},"filterBar.filter.dropzone.tooltip":{"value":"Drag the attribute filter here.","comment":"","limit":0},"configurationPanel.title":{"value":"Configuration","comment":"Label of widget configuration section","limit":0},"configurationPanel.comparison":{"value":"Comparison","comment":"","limit":0},"configurationPanel.compareWith":{"value":"Compare with","comment":"","limit":0},"configurationPanel.increasingNumberIs":{"value":"Increasing number is","comment":"","limit":0},"configurationPanel.comparisonTypeItems.previousPeriod":{"value":"Previous period","comment":"","limit":0},"configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":{"value":"Same period in previous year","comment":"","limit":0},"configurationPanel.comparisonTypeItems.noComparison":{"value":"No comparison","comment":"","limit":0},"configurationPanel.comparisonDirectionItems.green":{"value":"Green","comment":"","limit":0},"configurationPanel.comparisonDirectionItems.red":{"value":"Red","comment":"","limit":0},"configurationPanel.unlistedMetric._measure":{"value":"Unlisted measure","comment":"","limit":0},"configurationPanel.unlistedMetric._metric":{"value":"Unlisted metric","comment":"","limit":0},"configurationPanel.unlistedMetricIconTitle._measure":{"value":"This measure is hidden. Only you can see it.","comment":"","limit":0},"configurationPanel.unlistedMetricIconTitle._metric":{"value":"This metric is hidden. Only you can see it.","comment":"","limit":0},"configurationPanel.selectMeasurePlaceholder._measure":{"value":"Select measure","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectMeasurePlaceholder._metric":{"value":"Select metric","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectComparisonPlaceholder":{"value":"Select comparison","comment":"Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.selectComparisonDirectionPlaceholder":{"value":"Select positive/negative","comment":"","limit":0},"configurationPanel.measure._measure":{"value":"Measure","comment":"","limit":0},"configurationPanel.measure._metric":{"value":"Metric","comment":"","limit":0},"configurationPanel.filterBy":{"value":"Filter by","comment":"","limit":0},"configurationPanel.date":{"value":"Date","comment":"","limit":0},"configurationPanel.dateAs":{"value":"as","comment":"","limit":0},"configurationPanel.vizCantBeFilteredByAttribute|insight":{"value":"The insight cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","limit":0},"configurationPanel.vizCantBeFilteredByAttribute|report":{"value":"The report cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","translate":false,"limit":0},"configurationPanel.kpiCantBeFilteredByAttribute":{"value":"The kpi cannot be filtered by {attributeName}. Unselect the check box.","comment":"Don\'t translate placeholder \'{attributeName}\'.","limit":0},"configurationPanel.vizCantBeFilteredByDate|insight":{"value":"The insight cannot be filtered by Date. Unselect the check box.","comment":"","limit":0},"configurationPanel.vizCantBeFilteredByDate|report":{"value":"The report cannot be filtered by Date. Unselect the check box.","comment":"","translate":false,"limit":0},"configurationPanel.kpiCantBeFilteredByDate":{"value":"The kpi cannot be filtered by Date. Unselect the check box.","comment":"","limit":0},"configurationPanel.unrelatedVizDateInfo|insight":{"value":"\\"{dateDataSet}\\" can no longer be applied to the insight. Select a different dimension or edit the insight.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","limit":0},"configurationPanel.unrelatedVizDateInfo|report":{"value":"\\"{dateDataSet}\\" can no longer be applied to the report. Select a different dimension or edit the report.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","translate":false,"limit":0},"configurationPanel.unrelatedKpiDateInfo":{"value":"\\"{dateDataSet}\\" can no longer be applied to the kpi. Select a different dimension or edit the kpi.","comment":"Don\'t translate placeholder \'{dateDataSet}\' and keep \'\\"\' characters as are.","limit":0},"configurationPanel.breakAlertWarning":{"value":"\\n            Users have set up {numAlerts} {numAlerts, select, 1 {alert} other {alerts}}\\n            for this KPI. Modifying the KPI will affect {numAlerts, select, 1 {this alert} other {these alerts}}.\\n        ","comment":"Don\'t translate placeholder \'{numAlerts}\'. Translate only uppercase \'{numAlerts, select, 1 {ALERT} other {ALERTS}}\'","limit":0},"configurationPanel.drillIntoDashboard":{"value":"Drill into dashboard","comment":"","limit":0},"configurationPanel.noLinkableDashboards":{"value":"No dashboard to link to","comment":"","limit":0},"configurationPanel.selectDashboard":{"value":"Select a dashboard","comment":"","limit":0},"configurationPanel.interactions":{"value":"Interactions","comment":"","limit":0},"configurationPanel.drillConfig.interactions":{"value":"Drill interactions","comment":"Header of a section where user can set drilling for some visualization widget containing some visualization (chart, table, etc). Interactions here stands for user interactions.","limit":0},"configurationPanel.drillConfig.addInteraction":{"value":"Add interaction","comment":"Use imperative. Button label that is related to \\"Interactions\\" section. This button adds some drilling to a widget.","limit":30},"configurationPanel.drillConfig.clickHint":{"value":"When I click on","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"WHEN I CLICK ON on value of measure \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.measureValue._measure":{"value":"Value of measure","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF MEASURE \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.measureValue._metric":{"value":"Value of metric","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF METRIC \'Number of user accounts\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.attributeValue":{"value":"Value of attribute","comment":"Hint guiding users how to understand interaction (drilling) setting. Example in sentence: \\"When I click on VALUE OF ATTRIBUTE \'Account\', drill into detail.\\"","limit":0},"configurationPanel.drillConfig.selectTarget":{"value":"I want to","comment":"","limit":0},"configurationPanel.drillConfig.clickHintItem":{"value":"When I click on <addon>(value of)</addon>","comment":"Do not translate <addon...> and </addon>, but translate (value of)","limit":0},"configurationPanel.drillConfig.drillIntoDashboard":{"value":"Drill into dashboard","comment":"","limit":0},"configurationPanel.drillConfig.drillIntoInsight|insight":{"value":"Drill into insight","comment":"","limit":0},"configurationPanel.drillConfig.drillIntoInsight|report":{"value":"Drill into report","comment":"","translate":false,"limit":0},"configurationPanel.drillConfig.drillDown":{"value":"Drill down","comment":"Name of an option in dropdown that is used to select drill down type of dashboard drill.","limit":0},"configurationPanel.drillConfig.disableDrillDownTooltip":{"value":"Drill down is turned off in this insight\'s configuration.","comment":"The disable tooltip message for the Drill down item","limit":0},"configurationPanel.drillConfig.drillIntoUrl":{"value":"Drill into URL","comment":"Name of an option in dropdown that is used to select type of dashboard drill.","limit":0},"configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":{"value":"Invalid URL parameters","comment":"Warning displayed in drill config when drill into URL has invalid parameters of custom URL.","limit":0},"configurationPanel.drillConfig.select":{"value":"Choose action","comment":"Hint guiding users that drill actions in select box has to be selected. Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning|insight":{"value":"The date attribute value from the insight will not be transferred to filter the target dashboard.","comment":"Warning displayed in drill config when drill into dashboard has date attribute as source or in intersection","limit":0},"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning|report":{"value":"The date attribute value from the report will not be transferred to filter the target dashboard.","comment":"Warning displayed in drill config when drill into dashboard has date attribute as source or in intersection","translate":false,"limit":0},"configurationPanel.unlistedDashboardTab":{"value":"Unlisted dashboard","comment":"","limit":0},"configurationPanel.visualprops.sectionTitle":{"value":"Title","comment":"","limit":0},"configurationPanel.visualprops.hideTitle":{"value":"Hide title","comment":"","limit":0},"configurationPanel.visualprops.sectionDescription":{"value":"Description","comment":"","limit":0},"configurationPanel.visualprops.inheritDescription":{"value":"Inherit","comment":"","limit":0},"configurationPanel.visualprops.inheritDescriptionHelp|insight":{"value":"Inherit the description from the insight.","comment":"","limit":0},"configurationPanel.visualprops.inheritDescriptionHelp|report":{"value":"Inherit the description from the report.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":{"value":"Inherit the description from the metric.","comment":"","limit":0},"configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":{"value":"Inherit the description from the measure.","comment":"","limit":0},"configurationPanel.visualprops.customDescription":{"value":"Custom","comment":"","limit":0},"configurationPanel.visualprops.customDescriptionHelp|insight":{"value":"Add a custom description for this instance of the insight.","comment":"","limit":0},"configurationPanel.visualprops.customDescriptionHelp|report":{"value":"Add a custom description for this instance of the report.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.customKpiDescriptionHelp":{"value":"Add a custom description.","comment":"","limit":0},"configurationPanel.visualprops.noneDescription":{"value":"None","comment":"","limit":0},"configurationPanel.visualprops.includeMetrics._measure":{"value":"Include measure descriptions","comment":"","limit":0},"configurationPanel.visualprops.includeMetrics._metric":{"value":"Include metric descriptions","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._measure|insight":{"value":"Display section with list of insights measures and their description.","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._metric|insight":{"value":"Display section with list of insights metrics and their description.","comment":"","limit":0},"configurationPanel.visualprops.includeMetricsHelp._measure|report":{"value":"Display section with list of reports measures and their description.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.includeMetricsHelp._metric|report":{"value":"Display section with list of reports metrics and their description.","comment":"","translate":false,"limit":0},"configurationPanel.visualprops.descriptionPlaceholder":{"value":"Add description","comment":"","limit":0},"configurationPanel.drillIntoUrl.defaultButtonValue":{"value":"Choose URL","comment":"Default value of \'Drill into URL\' dropdown button before a value is selected.","limit":0},"configurationPanel.drillIntoUrl.attributeUrlSectionTitle":{"value":"Hyperlink in attribute label","comment":"Title of \'Drill into URL\' dropdown section.","limit":0},"configurationPanel.drillIntoUrl.customUrlSectionTitle":{"value":"Custom URL","comment":"Title of \'Drill into URL\' dropdown section.","limit":0},"configurationPanel.drillIntoUrl.editor.addUrlTitle":{"value":"Add custom URL","comment":"Title of Drill to URL \'Custom URL\' editor when URL is not defined.","limit":0},"configurationPanel.drillIntoUrl.editor.editUrlTitle":{"value":"Edit custom URL","comment":"Title of Drill to URL \'Custom URL\' editor when URL is defined.","limit":0},"configurationPanel.drillIntoUrl.editor.textAreaLabel":{"value":"URL","comment":"Label of the textarea in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parametersPanelLabel":{"value":"Parameters","comment":"Label of the panel in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":{"value":"Parameters are placeholders that are replaced by dynamic values during drilling.","comment":"Tooltip displayed when user hovers over question mark icon next to label of the parameters panel in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":{"value":"Add","comment":"Label of the button that adds a parameter to URL in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailType":{"value":"Type","comment":"Title of type section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailLabel":{"value":"Label","comment":"Title of label section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailValues":{"value":"{numberOfValues, plural, one {Value} other {Values}}","comment":"Translate only uppercase words in \'{numberOfValues, plural, one {VALUE} other {VALUES}}\'. Title of values section in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":{"value":"...and {count} more","comment":"Translate only uppercase words In \'...AND {count} MORE\'. Info about number of other values not shown in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel|insight":{"value":"Insight ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel|report":{"value":"Report ID","comment":"Label of the report parameter in Drill to URL \'Custom URL\' editor.","translate":false,"limit":0},"configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":{"value":"Client ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":{"value":"Data product ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":{"value":"Project ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":{"value":"Workspace ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":{"value":"Widget ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":{"value":"Dashboard ID","comment":"Label of the insight parameter in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.identifierTypeLabel":{"value":"Identifier","comment":"Type label of identifier in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel|insight":{"value":"Insight","comment":"Label of the parameters section that contains attributes and measures in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel|report":{"value":"Report","comment":"Label of the parameters section that contains attributes and measures in Drill to URL \'Custom URL\' editor.","translate":false,"limit":0},"configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":{"value":"Identifiers","comment":"Label of the parameters section that contains identifiers in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel":{"value":"Dashboard","comment":"Label of the parameters section that contains dashboard filters in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.applyButtonLabel":{"value":"Apply","comment":"Label of the button that applies changes in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.cancelButtonLabel":{"value":"Cancel","comment":"Label of the button that cancels changes in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":{"value":"Enter URL and add parameters from the right panel.","comment":"Placeholder of textarea in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.helpButtonLabel":{"value":"How to create custom URLs?","comment":"Help button label in Drill to URL \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":{"value":"Invalid parameters: {invalidParameters}","comment":"Help button label in Drill to URL \'Custom URL\' editor. Do not translate \'{invalidParameters}\' placeholder.","limit":0},"configurationPanel.drillIntoUrl.customUrlAddButtonLabel":{"value":"Add custom URL","comment":"Label of the button in \'Drill into URL\' dropdown that is used for adding of the custom URL.","limit":0},"configurationPanel.drillIntoUrl.customUrlEditButtonLabel":{"value":"Edit custom URL","comment":"Label of the button in \'Drill into URL\' dropdown that is used for editing of the custom URL.","limit":0},"configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":{"value":"Attribute label value","comment":"Type label of default display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":{"value":"Attribute geo value","comment":"Type label of geo display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":{"value":"Attribute URL value","comment":"Type label of URL display form in parameter detail in \'Custom URL\' editor.","limit":0},"configurationPanel.zoomInsight|insight":{"value":"Zoomable insight","comment":"","limit":0},"configurationPanel.zoomInsight|report":{"value":"Zoomable report","comment":"","translate":false,"limit":0},"configurationPanel.zoomInsight.help|insight":{"value":"Enable to zoom the insight to display a detailed view. Hold the shift key to pan the zoomed area.","comment":"","limit":0},"configurationPanel.zoomInsight.help|report":{"value":"Enable to zoom the report to display a detailed view. Hold the shift key to pan the zoomed area.","comment":"","translate":false,"limit":0},"configurationPanel.zoomInsight.notice":{"value":"Zoom will not be applied to exported dashboards","comment":"","limit":0},"configurationPanel.drillConfig.selectInsight|insight":{"value":"Choose insight","comment":"Hint guiding users that drill target insight in select box has to be selected. Use \'\' as one character, not 3 dots (\'...\').","limit":0},"configurationPanel.drillConfig.selectInsight|report":{"value":"Choose report","comment":"Hint guiding users that drill target report in select box has to be selected. Use \'\' as one character, not 3 dots (\'...\').","translate":false,"limit":0},"gs.date.date-dataset.recommended":{"value":"Recommended","comment":"","limit":0},"gs.date.date-dataset.other":{"value":"Other","comment":"","limit":0},"gs.date.date-dataset.related":{"value":"Related","comment":"","limit":0},"gs.date.date-dataset.unrelated":{"value":"Unrelated","comment":"","limit":0},"gs.date.date-dataset.unrelated_hidden":{"value":"{count} unrelated {count, plural, one {date} other {dates}} {isShow, select, true {visible} other {hidden}}.","comment":"Don\'t translate placeholder \'{count}\'. In \'{count, plural, one {DATE} other {DATES}} and {isShow, select, true {VISIBLE} other {HIDDEN}}\' translate only uppercase words.","limit":0},"gs.date.date-dataset.unrelated.show":{"value":"Show","comment":"The unrelated items button","limit":0},"gs.date.date-dataset.unrelated.hide":{"value":"Hide","comment":"The unrelated items button","limit":0},"layout.widget.width.min":{"value":"Widget is at the minimal width","comment":"Shown as red text inside of widget if resized under min limit.","limit":0},"layout.widget.width.max":{"value":"Widget is at the maximal width","comment":"Shown as red text inside of widget if resized under max limit.","limit":0},"layout.widget.height.min":{"value":"Widget is at the minimal height","comment":"Shown as red text inside of widget if resized under min limit.","limit":0},"layout.widget.height.max":{"value":"Widget is at the maximal height","comment":"Shown as red text inside of widget if resized under max limit.","limit":0},"layout.widget.addedByPlugin":{"value":"Added by plugin","comment":"","limit":0},"layout.widget.modifiedByPlugin":{"value":"Modified by plugin","comment":"","limit":0},"layout.widget.hideOverlay":{"value":"Hide overlay","comment":"","limit":0},"dropzone.new.row.desc":{"value":"Drop to create a{nbsp}<b>new section</b>","comment":"Used as placeholder when user drags some widget and tries to drop it on dashboard. Dropping the widget over such placeholder creates new section of a dashboard. Do not translate HTML markup enclosed in <>. Translate words \'new section\'.","limit":0},"dropzone.widget.desc":{"value":"Drop <b>here</b>","comment":"Do not translate HTML markup enclosed in <>. Translate word \'here\'.","limit":0},"dropzone.widget.last.in.row.desc":{"value":"Drop to the <b>existing section</b>","comment":"Used as placeholder when user drags some widget and tries to drop it on dashboard. Dropping the widget over such placeholder will cause adding the widget to an existing section of a dashboard. Do not translate HTML markup enclosed in <>. Translate words \'existing section\'.","limit":0},"deleteKpiConfirmationDialog.headline":{"value":"Delete KPI","comment":"","limit":0},"deleteKpiConfirmationDialog.message":{"value":"All alerts set up for this KPI will also be deleted.","comment":"","limit":0},"deleteKpiConfirmationDialog.submitButtonText":{"value":"Delete","comment":"","limit":0},"newDashboard.title|insight":{"value":"Drag insight here","comment":"","limit":0},"newDashboard.title|report":{"value":"Drag report here","comment":"","translate":false,"limit":0},"newDashboard.dropInsight|insight":{"value":"Drop insight","comment":"A placeholder showed when user drags new insight into a dashboard canvas by cursor (drag and drop).","limit":0},"newDashboard.dropInsight|report":{"value":"Drop report","comment":"A placeholder showed when user drags new report into a dashboard canvas by cursor (drag and drop).","translate":false,"limit":0},"attributesDropdown.filterConfiguredMessage":{"value":"<strong>{parentTitle}</strong> is already filtered by <strong>{childTitle}</strong> filter directly or through other filters.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"attributesDropdown.attributeNameWithData":{"value":"with data of","comment":"Will be used in sentence between two nouns. For instance \'Filter by AttributeX with data of MetricY\'","limit":0},"filter.visibilityMode.tooltip.hidden":{"value":"This filter is hidden. It can be accessed only via the Edit mode.","comment":"The tooltip serves as a warning to the user that the filter will be hidden in view mode.","limit":0},"filter.visibilityMode.tooltip.readonly.editMode":{"value":"This filter is locked. It can be changed only via the Edit mode.","comment":"The tooltip serves as a warning to the user that the filter will be locked, and the user cannot change its value in view mode.","limit":0},"filter.visibilityMode.tooltip.readonly.viewMode":{"value":"This filter is locked.","comment":"The tooltip helps users understand why they cannot change its value.","limit":0},"filter.resetButton.tooltip":{"value":"Reset all filters","comment":"The tooltip of the reset button in the filter bar","limit":0},"dateFilterDropdown.save":{"value":"Save","comment":"Save button label in date filter dropdown configuration","limit":0},"filter.configuration.mode.title":{"value":"Mode","comment":"The title of the state section in date filter dropdown configuration","limit":0},"filter.configuration.mode.interactive.title":{"value":"Interactive","comment":"The title of the interactive mode","limit":0},"filter.configuration.mode.interactive.tooltip":{"value":"Dashboard users can see and change the filter.","comment":"The tooltip of the interactive mode","limit":0},"filter.configuration.mode.locked.title":{"value":"Locked","comment":"The title of the locked mode","limit":0},"filter.configuration.mode.locked.tooltip":{"value":"Dashboard users can see the filter but cannot change it.","comment":"The tooltip of the locked mode","limit":0},"filter.configuration.mode.hidden.title":{"value":"Hidden","comment":"The title of the hidden mode","limit":0},"filter.configuration.mode.hidden.tooltip":{"value":"Dashboard users cannot see the filter but it is applied.","comment":"The tooltip of the hidden mode","limit":0},"filter.dependency.icon.tooltip":{"value":"Available values for <strong>{filterTitle}</strong> are limited by selection in another filter.","comment":"Do not translate HTML markup enclosed in <> and placeholders enclosed in {}.","limit":0},"configurationPanel.drillConfig.alreadyUsedTooltip":{"value":"This <strong>hierarchy</strong> is already used for <strong>the same</strong> drill down.","comment":"Tooltip displayed when hierarchy object cannot be used again for drill down functionality.","limit":0}}'),NE=JSON.parse('{"loading":"Ldt","untitled":"Unbenannt","empty_value":"leerer Wert","gs.list.cancel":"Abbrechen","gs.list.apply":"bernehmen","gs.list.only":"Nur","messages.dashboardSaveSuccess":"Super. Wir haben Ihr Dashboard gespeichert.","options.menu.save.as":"Als neu speichern","options.menu.save.as.tooltip":"Ein leeres Dashboard kann nicht gespeichert werden.","messages.dashboardSaveFailed":"Speichern des Dashboards fehlgeschlagen. Bitte versuchen Sie es noch einmal.","messages.dashboard.invalidDrills.title":"<b>Einige Interaktionen wurden entfernt.</b>","messages.dashboard.invalidDrills.body.modern._measure":"Ein oder mehrere Dashboards/Betrachtungen/Messungen/Attribute wurden gendert oder gelscht, wodurch einige Interaktionen von folgenden Widgets entfernt wurden: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Ein oder mehrere Dashboards/Betrachtungen/Metriken/Attribute wurden gendert oder gelscht, wodurch einige Interaktionen von folgenden Widgets entfernt wurden: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Einige Interaktionen fr die URL-Verfeinerung wurden deaktiviert</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Einige Drill-in-URL-Interaktionen fr die folgenden Widgets wurden aufgrund von nderungen in Betrachtungsattributen deaktiviert: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mehr anzeigen","messages.dashboard.expandable.showLess":"Weniger anzeigen","messages.drill.InteractionConfiguredSuccess":"Interaktion konfiguriert.","messages.drill.InteractionUpdatedSuccess":"Interaktion aktualisiert.","filterBar.showAll":"Alle anzeigen","filterBar.showLess":"Weniger anzeigen","options.menu.export.PDF":"Nach PFD exportieren","options.menu.schedule.email":"E-Mailing planen","options.menu.delete":"Lschen","dialogs.export.cells":"ZELLEN","dialogs.export.filters":"BETRACHTUNGSKONTEXT","dialogs.export.includeFilters":"Angewendete Filter einschlieen","dialogs.export.headline":"Nach XLSX exportieren","dialogs.export.mergeHeaders":"Zusammengefhrte Attributzellen so belassen","dialogs.export.submit":"Exportieren","dialogs.schedule.email.delete.success":"Erfolgreich! Ihre geplante E-Mail wurde gelscht.","dialogs.schedule.email.submit.success":"Erfolgreich! Ihr Dashboard ist jetzt fr E-Mails eingerichtet.","dialogs.schedule.email.submit.error":"Fehler! E-Mails fr das Dashboard konnten nicht eingerichtet werden. Bitte spter erneut versuchen.","dialogs.schedule.email.save.success":"Erfolgreich! Ihr Zeitplan wurde gespeichert.","dialogs.schedule.email.save.error":"Der Zeitplan konnte nicht gespeichert werden. Bitte spter erneut versuchen.","dialogs.save.as.new.title":"Dashboard als \\"Neu\\" speichern","dialogs.save.as.new.desc":"Geben Sie Ihrem neuen Dashboard einen aussagekrftigen Namen, um es spter einfacher zu finden.","dialogs.save.as.new.default.title":"Kopie von {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Warnmeldungen und E-Mail-Zeitplne werden nicht dupliziert","dialogs.save.as.new.alertsMessage":"Warnmeldungen werden nicht dupliziert","dialogs.save.as.new.emailsMessage":"Warnmeldungen und E-Mail-Zeitplne werden nicht dupliziert","cancelConfirmationDialog.headline":"nderungen verwerfen?","cancelConfirmationDialog.message":"Alle nderungen gehen verloren","cancelConfirmationDialog.submitButtonText":"nderungen verwerfen","deleteDashboardDialog.headline":"Dashboard lschen?","deleteDashboardDialog.submitButtonText":"Lschen","deleteDashboardDialog.alertsAndEmailsMessage":"Alle Warnmeldungen und geplanten E-Mails fr dieses Dashboard werden ebenfalls gelscht.","deleteDashboardDialog.alertsMessage":"Alle fr dieses Dashboard eingerichteten Alarme werden ebenfalls gelscht.","deleteDashboardDialog.emailsMessage":"Alle geplanten E-Mails fr dieses Dashboard werden ebenfalls gelscht.","deleteDashboardDialog.drillMessage":"Jegliches Drilling in diesem Dashboard von anderen Dashboards wird entfernt.","create.dashboard":"Dashboard erstellen","drill_modal_picker.drill-down":"Drill-Down","drill_modal_picker.drill-into":"Verfeinern von","drill_modal_picker.more.details":"Mehr Infos","drillModal.backToTop":"Nach oben","filters.allTime.previousPeriod":"vorh. Zeitraum","filters.allTime.lastYear":"Vorjahr","filters.minute.previousPeriod":"vorh. Minute","filters.hour.previousPeriod":"vorh. Stunde","filters.day.previousPeriod":"vorh. {n, plural, one {Tag} other {#T}}","filters.week.previousPeriod":"vorh. {n, plural, one {Woche} other {#W}}","filters.month.previousPeriod":"vorh. {n, plural, one {Monat} other {#M}}","filters.quarter.previousPeriod":"vorh. {n, plural, one {Quartal} other {#Q}}","filters.year.previousPeriod":"vorh. {n, plural, one {Jahr} other {#J}}","filters.alertMessage.relativePreset":"in {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"im Zeitraum {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Mit diesem Projekt ist mehr als ein Projektdatumsfilter verknpft. Der erste Filter wird verwendet.","filters.config.warning.multipleWorkspacesConfigs":"Mit diesem Workspace sind mehrere Datumsfilterkonfigurationen verknpft. Es wurde die erste Konfiguration verwendet.","filters.config.warning.selectedFilterNotValid":"Die Standardfilteroption ist ungltig. Stattdessen wird die erste gltige Filteroption verwendet.","filters.config.warning.allOptionsHidden":"Die Dashboard-Datumsfiltereinstellung wurde ignoriert, weil sie alle Filteroptionen verborgen htte.","filters.config.warning.conflictingIdentifiers":"Die Dashboard-Datumsfiltereinstellung wurde ignoriert, weil sie Datenfilteroptionen mit identischen Identifikatoren enthlt.","filters.config.warning.notAvailable":"Die Konfiguration des Projektdatumsfilters wurde entweder noch nicht definiert oder Sie haben keine Zugriffsberechtigung dafr.","filters.config.warning.workspace.notAvailable":"Die Datumsfilterkonfiguration des Workspaces ist entweder nicht definiert oder Sie verfgen nicht ber die ntigen Zugriffsrechte.","kpi.noData":"Keine Daten fr die aktuellen Filtereinstellungen. Versuchen Sie, die Filter zu ndern.","kpiPop.change":"Vernderung","dialogs.schedule.email.filters":"Das Dashboard enthlt Filternderungen, die im Zeitplan gespeichert werden.","dialogs.schedule.email.filters.not.saved":"Dashboard-Filter, die im Zeitplan gespeichert wurden, sind nicht davon betroffen.","dialogs.schedule.email.attachment.filter":"(mit derzeit festgelegten Filtern)","dialogs.schedule.email.attachment.label":"Anhang:","dialogs.schedule.email.attachments.label":"Anhnge:","dialogs.schedule.email.attachment.select":"Anhnge auswhlen","dialogs.schedule.email.attachment.select.disabled.message":"Dieses Dashboard enthlt keine Betrachtungen.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Betrachtungen (CSV, XLSX)","dialogs.schedule.email.headline":"Planen Sie die E-Mail-Zustellung","dialogs.schedule.email.heading":"Exportvorgang planen","dialogs.schedule.email.message.label":"Nachricht:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 Empfnger hat} other {# Empfnger haben}} diesen Zeitplan nicht mehr abonniert.","dialogs.schedule.email.repeats.label":"Wiederholungen:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"am {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"am {week, select, 1 {ersten} 2 {zweiten} 3 {dritten} 4 {vierten} other {letzten}} {day}","dialogs.schedule.email.repeats.every":"alle","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {Tag} other {Tage}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {Monat} other {Monate}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {Woche} other {Wochen}}","dialogs.schedule.email.repeats.types.custom":"Benutzerdefiniert","dialogs.schedule.email.repeats.types.daily":"Tglich","dialogs.schedule.email.repeats.types.monthly":"Monatlich am {week, select, 1 {ersten} 2 {zweiten} 3 {dritten} 4 {vierten} other {letzten}} {day}","dialogs.schedule.email.repeats.types.weekly":"Wchentlich am {day}","dialogs.schedule.email.subject.label":"Betreff:","dialogs.schedule.email.time.label":"Erste E-Mail:","dialogs.schedule.email.to.label":"An:","dialogs.schedule.email.message.placeholder":"Hallo,\\n\\nIhre geplante E-Mail ist bereit. Sie knnen das Dashboard in Anhnge herunterladen.","dialogs.schedule.email.submit":"Planen","dialogs.schedule.email.save":"Speichern","dialogs.schedule.email.format.options":"Formatoptionen","dialogs.schedule.email.insight.format":"Format der Betrachtung:","dialogs.schedule.email.attribute.merged":"Zusammengefhrte Attributzellen so belassen","dialogs.schedule.email.show.filters":"Angewendete Filter anzeigen","dialogs.schedule.management.title":"Geplante Exportvorgnge","dialogs.schedule.management.delete":"Lschen Sie den Zeitplan.","dialogs.schedule.management.delete.dialog":"Zeitplan lschen?","dialogs.schedule.management.delete.dialog.confirm":"<b>Der Zeitplan</b> wird unwiderruflich gelscht.","dialogs.schedule.management.noSchedules":"Das Dashboard enthlt keine geplanten Exporte.{br}Jetzt hinzufgen.","dialogs.schedule.management.noSchedules.byUser":"Sie haben noch keine Exporte geplant.{br}Jetzt hinzufgen.","dialogs.schedule.management.addSchedule":"Zeitplan hinzufgen","dialogs.schedule.management.recipients":"{n, plural, one {# Empfnger} other {# Empfnger}}","dialogs.schedule.management.recipients.onlyYou":"Nur Sie","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# Betrachtung} other {# Betrachtungen}}","dialogs.schedule.management.attachments.mixed":"Dashboard und {n, plural, one {# Betrachtung} other {# Betrachtungen}}","dialogs.schedule.management.load.error":"Laden fehlgeschlagen. Spter erneut versuchen.","dialogs.schedule.management.delete.error":"Der Zeitplan konnte nicht gelscht werden. Spter erneut versuchen.","dialogs.schedule.management.tab.all":"alle","dialogs.schedule.management.tab.user":"von mir erstellt","options.menu.schedule.email.recipient.invalid":"Dies ist keine gltige E-Mail-Adresse.","options.menu.schedule.email.recipient.warning.existed":"Sie haben diesen Empfnger bereits hinzugefgt.","options.menu.schedule.email.recipient.warning.belong.workspace":"Diese E-Mail-Adresse ist nicht bei diesem Workspace registriert. Der Empfnger knnte sensible Daten erhalten.","options.menu.schedule.email.recipient.external.not.allowed":"Diese E-Mail-Adresse ist nicht bei diesem Workspace registriert. Nur der Ersteller des Zeitplans kann diese E-Mail-Adresse hinzufgen.","delete":"Lschen","close":"Schlieen","cancel":"Abbrechen","gs.date.at":"um","gs.date.today":"Heute","gs.date.tomorrow":"Morgen","gs.date.yesterday":"Gestern","kpi.alertBox.title":"Alarm bei KPI-nderung setzen","kpi.alertBox.example":"z. B.","kpi.alertBox.unverifiedEmail":"Leider knnen Sie keinen Alarm sehen. berprfen Sie Ihre E-Mail. Wenn das nichts ntzt, bitten Sie Ihren Administrator, Ihre Berechtigungen zu aktualisieren.","kpi.alertBox.disabledInReadOnly":"Warnmeldungen im schreibgeschtzten Modus deaktiviert","kpi.error.view":"KPI kann nicht angezeigt werden. Setzen Sie sich mit Ihrem Administrator in Verbindung, um die KPI-Definition festzulegen.","kpiAlertDialog.delete":"Lschen","kpiAlertDialog.deleting":"Wird gelscht","kpiAlertDialog.emailMe":"Schicken Sie mir eine E-Mail","kpiAlertDialog.emailMeWhen":"{emailMe}, wenn dieser KPI ist","kpiAlertDialog.emailInfo":"E-Mail wird gesendet an {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Diese Nummer ist ungltig.</strong>{br}Bitte berprfen und erneut versuchen.","kpiAlertDialog.filtersDiffer":"Der KPI wird jetzt anders gefiltert als beim Einrichten des Alarms.","kpiAlertDialog.filtersApply":"Alarmfilter auf Dashboard anwenden","kpiAlertDialog.savingFailed":"Speichern des Alarms fehlgeschlagen. Bitte versuchen Sie es noch einmal.","kpiAlertDialog.deleteingFailed":"Lschen des Alarms fehlgeschlagen. Bitte versuchen Sie es noch einmal.","kpiAlertDialog.brokenAlert":"Gebrochene Warnmeldung","kpiAlertDialog.brokenAlertAppeal":"Um den richtigen KPI-Wert anzuzeigen, aktivieren Sie die Filter in dieser Warnmeldung. Sie knnen die Warnmeldung auch entfernen.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Datum","kpiAlertDialog.removedFilters":"Die Filter wurden aus dem Dashboard entfernt","kpiAlertDialog.ignoredFilters":"Unbekannte Filter fr diesen KPI","kpiAlertDialog.updateTitle":"Aktualisieren","kpiAlertDialog.updateBrokenTitle":"Filter aktualisieren","kpiAlertDialog.updatingTitle":"Wird aktualisiert","kpiAlertDialog.updateBrokenFailed":"Aktualisieren der Filter fehlgeschlagen. Bitte versuchen Sie es erneut.","kpiAlertDialog.setTitle":"Alarm einstellen","kpiAlertDialog.settingTitle":"Wird eingestellt","kpiAlertDialog.threshold.above":"ber","kpiAlertDialog.threshold.below":"unter","kpiAlertDialog.withAttributeFilters":"{numFilters} weitere {numFilters, select, 1 {Filter} other {Filter}} angewandt","messages.exportResultError":"Daten konnten nicht exportiert werden. Versuchen Sie es spter noch einmal.","messages.exportResultRestrictedError":"Sie knnen die Betrachtungsansicht nicht exportieren, weil sie zugriffsbeschrnkte Daten enthlt.","messages.exportResultStart":"Export wird durchgefhrt","messages.exportResultSuccess":"Export erfolgreich abgeschlossen.","messages.sharingChangedSuccess":"Freigabe aktualisiert.","messages.sharingChangedError.general":"Fehler beim Aktualisieren der Freigabeeinstellungen. Bitte spter erneut versuchen.","messages.sharingDialogError.general":"Fehler beim Laden der Freigabeeinstellungen. Bitte spter erneut versuchen.","visualization.dataTooLarge.headline":"Zu viele Datenpunkte zum Anzeigen","visualization.dataTooLarge.text":"Versuchen Sie, einen oder mehrere Filter auf Ihr Dashboard anzuwenden.","visualization.execute_protected_report.headline":"Sie sind nicht berechtigt, diesen Bericht anzuzeigen.","visualization.execute_protected_report.text":"Setzen Sie sich mit Ihrem Administrator in Verbindung.","visualization.alert_not_supported":"Warnmeldungen fr den statischen Zeitraum werden nicht untersttzt.","visualization.empty.headline":"Keine Daten fr Ihre Filterauswahl","visualization.error.headline":"Leider knnen wir diese Betrachtung nicht anzeigen","visualization.error.text":"Setzen Sie sich mit Ihrem Administrator in Verbindung.","options.button.bubble":"Betrachtungsdaten exportieren","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"Die Betrachtung kann momentan nicht exportiert werden. Versuchen Sie andere Filter anzuwenden bzw. andere Messungen oder Attribute.","options.menu.unsupported.error._metric":"Die Betrachtungen knnen derzeit nicht exportiert werden. Whlen Sie andere Filter, Metriken oder Attribute aus.","options.menu.unsupported.loading":"Die Betrachtung kann momentan nicht exportiert werden. ","export.defaultTitle":"Betrachtung ohne Namen","export_unsupported.disabled":"Es wird kein Export untersttzt","widget.options.menu.exportToCSV":"Als CSV exportieren","widget.options.menu.exportToXLSX":"Nach XLSX exportieren","widget.options.menu.scheduleExport":"Exportvorgang planen","share.button.text":"Teilen","dashboard.error.empty.heading":"Dieses Dashboard ist leer","dashboard.error.empty.text":"Alle Betrachtungen wurden entfernt.","dashboard.shareDialog.underLenientControl.label":"Andere Benutzer knnen auf dieses Dashboard zugreifen, wenn sie danach suchen","dashboard.shareDialog.lock.label":"Nur Administratoren knnen dieses Dashboard bearbeiten","header.lockStatus.tooltip":"<b>Dieses Dashboard ist gesperrt.</b> Nur Administratoren knnen dieses Dashboard bearbeiten.","header.shareStatus.private.text":"Privat","header.shareStatus.private.strict.tooltip":"Nur Sie knnen dieses Dashboard ansehen und bearbeiten.","header.shareStatus.private.not.strict.tooltip":"Der Ersteller kann dieses Dashboard bearbeiten. Andere Benutzer mit entsprechenden Benutzerrollen knnen dieses Dashboard bearbeiten, wenn sie danach suchen.","dashboard.shareDialog.removeAccessGranteeTooltip":"Entfernt den Zugriff auf dieses Dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"Dies ist der Benutzer, der dieses Dashboard erstellt hat. Ersteller knnen nicht entfernt werden.","attributesDropdown.placeholder":"Sucht","attributesDropdown.configuration":"Konfiguration","attributesDropdown.itemsFiltered":"Elemente wurden gefiltert","attributesDropdown.allItemsFiltered":"Alle Elemente sind ausgefiltert.","attributesDropdown.itemsFiltered.tooltip":"Elemente wurden nach: <strong>{filters}</strong> gefiltert","attributesDropdown.save":"Speichern","attributesDropdown.filterBy":"Filtern nach","attributesDropdown.displayValuesAs":"Werte anzeigen als","attributesDropdown.title":"Titel","attributesDropdown.title.reset":"Zurcksetzen","attributesDropdown.selectionMode":"Auswahl","attributesDropdown.selectionMode.multi":"Mehrere Werte","attributesDropdown.selectionMode.single":"Einzelner Wert","attributesDropdown.selectionMode.disabled.tooltip":"Die Auswahl einzelner Werte ist nicht zulssig, wenn Filter in den Filtereinstellungen ausgewhlt sind. Um einzelne Werte auswhlen zu knnen, deaktivieren Sie bitte alle Filter.","attributesDropdown.parentFilter.disabled.tooltip":"Das Filtern nach anderen Filtern ist fr die Auswahl von einzelnen Werten deaktiviert. Um Filtereinstellungen festzulegen, whlen Sie die Auswahl von mehreren Werten.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> kann nicht nach <strong>{parentTitle}</strong> gefiltert werden. Es besteht keine Verbindung zwischen den Filterattributen und dem Datenmodell.","attributesDropdown.details.dataset":"Dataset","attributesDropdown.details.values":"Werte","attributesDropdown.details.shortening_decoration":"und {count} weitere","attributesDropdown.removeTooltip":"Vom Dashboard entfernen","layout.header.characters.left":"Noch {currentCharactersCount}/{maximumCharactersCount} Zeichen","layout.header.add.title.placeholder":"Titel hier hinzufgen...","layout.header.add.description.placeholder":"Beschreibung hier hinzufgen...","error":"Fehler","controlButtons.edit.value":"Bearbeiten","controlButtons.saveAndPublish.value":"Speichern und verffentlichen","controlButtons.save.value":"Speichern","controlButtons.saveAndPublish.title":"Alle nderungen sind sofort fr alle sichtbar, die auf dieses Dashboard zugreifen knnen.","controlButtons.saveAsPrivate.title":"Alle nderungen werden gespeichert.","controlButtons.saveAndPublish.disable.empty.title":"Leere Dashboards knnen nicht gespeichert werden","controlButtons.saveAndPublish.disable.noChanges.title":"Es gibt keine nderungen, die gespeichert werden knnten","controlButtons.saving.value":"Speichert","gs.visualizationsList.tabs.all":"alle","gs.visualizationsList.tabs.my":"von mir erstellt","visualizationsList.noInsights":"Dieser Workspace enthlt keine Betrachtungen.","visualizationsList.create":"Betrachtung erstellen","visualizationsList.noUserInsights":"Keine Betrachtungen erstellt.","visualizationsList.noVisualizationsFound":"Keine bereinstimmende Betrachtung.","search_insights":"Alle durchsuchen","save.as.new":"Als neu speichern","addPanel.deleteItem":"Zum Entfernen loslassen","addPanel.newItem":"Neues Element","addPanel.attributeFilter":"Attributsfilter","addPanel.attributeFilter.tooltip.no_attributes":"Der Attributfilter erfordert ein Attribut.","addPanel.attributeFilter.tooltip.no_attributes.link":"Weitere Informationen","addPanel.kpi":"Kritischer Leistungsindikator","addPanel.kpi.tooltip.no_measures._measure":"Der Kritische Leistungsindikator erfordert eine berechnete Messung.","addPanel.kpi.tooltip.no_measures._metric":"Der Kritische Leistungsindikator erfordert eine Metrik.","addPanel.kpi.tooltip.no_measures.link":"Weitere Informationen","visualizationsList.dragToAdd":"Zum Hinzufgen loslassen","visualizationsList.savedVisualizations":"Gespeicherte Betrachtungen","configurationPanel.drillConfig.selectDashboard":"Dashboard auswhlen","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Alle Dashboards durchsuchen","configurationPanel.drillConfig.forbiddenDashboard":"(Nicht mit Ihnen geteilt)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Dieses Dashboard wird nicht mit Ihnen geteilt, aber andere Benutzer haben Zugriff auf dieses Dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Dieses Dashboard wird nicht mit Ihnen geteilt, aber alle Benutzer knnen darauf zugreifen, wenn sie danach suchen.","configurationPanel.remove.form.dashboard":"Vom Dashboard entfernen","filterBar.filter.drop":"zum Hinzufgen loslassen","filterBar.filter.addFilterPlaceholder":"{icon} hierher ziehen","filterBar.filter.dropzone.tooltip":"Ziehen Sie den Attributfilter hierher.","configurationPanel.title":"Konfiguration","configurationPanel.comparison":"Vergleich","configurationPanel.compareWith":"Vergleichen mit","configurationPanel.increasingNumberIs":"Steigender Wert ist","configurationPanel.comparisonTypeItems.previousPeriod":"Vorheriger Zeitraum","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Gleicher Zeitraum des Vorjahres","configurationPanel.comparisonTypeItems.noComparison":"Kein Vergleich","configurationPanel.comparisonDirectionItems.green":"Grn","configurationPanel.comparisonDirectionItems.red":"Rot","configurationPanel.unlistedMetric._measure":"Nicht aufgefhrte Messung","configurationPanel.unlistedMetric._metric":"Nicht aufgefhrte Metrik","configurationPanel.unlistedMetricIconTitle._measure":"Diese Messung wird ausgeblendet. Nur Sie knnen sie sehen.","configurationPanel.unlistedMetricIconTitle._metric":"Diese Metrik ist ausgeblendet. Nur Sie knnen sie sehen.","configurationPanel.selectMeasurePlaceholder._measure":"Messung auswhlen","configurationPanel.selectMeasurePlaceholder._metric":"Metrik auswhlen","configurationPanel.selectComparisonPlaceholder":"Whlt Vergleich aus","configurationPanel.selectComparisonDirectionPlaceholder":"Positive/negative auswhlen","configurationPanel.measure._measure":"Messung","configurationPanel.measure._metric":"Metrik","configurationPanel.filterBy":"Filtern nach","configurationPanel.date":"Datum","configurationPanel.dateAs":"als","configurationPanel.vizCantBeFilteredByAttribute":"Die Betrachtung kann nicht nach {attributeName} gefiltert werden. Deaktivieren Sie das Kontrollfeld.","configurationPanel.kpiCantBeFilteredByAttribute":"KPI kann nicht nach {attributeName} gefiltert werden. Markierung des Kontrollfelds entfernen.","configurationPanel.vizCantBeFilteredByDate":"Die Betrachtung kann nicht nach Datum gefiltert werden. Deaktivieren Sie das Kontrollfeld.","configurationPanel.kpiCantBeFilteredByDate":"KPI kann nicht nach Datum gefiltert werden. Markierung des Kontrollfelds entfernen.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" kann nicht mehr auf die Betrachtung angewandt werden. Whlen Sie eine andere Einheit oder bearbeiten Sie die Betrachtung.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" kann nicht mehr auf den kpi angewandt werden. Whlen Sie eine andere Dimension oder bearbeiten Sie den KPI.","configurationPanel.breakAlertWarning":"\\n            Nutzer haben {numAlerts} {numAlerts, select, 1 {Benachrichtigung} other {Benachrichtigungen}}\\n            fr diese KPI eingerichtet. Eine nderung der KPI wirkt sich auf {numAlerts, select, 1 {dies Benachrichtungen} other {diese Benachrichtungen}} aus.\\n","configurationPanel.drillIntoDashboard":"Dashboard verfeinern","configurationPanel.noLinkableDashboards":"Kein Dashboard zum Verbinden mit","configurationPanel.selectDashboard":"Ein Dashboard auswhlen","configurationPanel.interactions":"Interaktionen","configurationPanel.drillConfig.interactions":"Drill-Interaktionen","configurationPanel.drillConfig.addInteraction":"Interaktion hinzufgen","configurationPanel.drillConfig.clickHint":"Beim Klicken auf","configurationPanel.drillConfig.measureValue._measure":"Messwert","configurationPanel.drillConfig.measureValue._metric":"Wert von Metrik","configurationPanel.drillConfig.attributeValue":"Attributwert","configurationPanel.drillConfig.selectTarget":"Ich mchte","configurationPanel.drillConfig.clickHintItem":"Wenn ich auf <addon>(Wert von)</addon> klicke","configurationPanel.drillConfig.drillIntoDashboard":"Dashboard verfeinern","configurationPanel.drillConfig.drillIntoInsight":"Betrachtung verfeinern","configurationPanel.drillConfig.drillDown":"Drill-Down","configurationPanel.drillConfig.disableDrillDownTooltip":"Der Drill-Down ist fr diese Betrachtung deaktiviert.","configurationPanel.drillConfig.drillIntoUrl":"URL-Ansicht verfeinern","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Ungltige URL-Parameter","configurationPanel.drillConfig.select":"Befehl auswhlen","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"Der Datumsattributwert aus der Betrachtung wird nicht bertragen, um das Ziel-Dashboard zu filtern.","configurationPanel.unlistedDashboardTab":"Nicht aufgefhrtes Dashboard","configurationPanel.visualprops.sectionTitle":"Titel","configurationPanel.visualprops.hideTitle":"Titel ausblenden","configurationPanel.visualprops.sectionDescription":"Beschreibung","configurationPanel.visualprops.inheritDescription":"Erben","configurationPanel.visualprops.inheritDescriptionHelp":"bernehmen Sie die Beschreibung aus der Betrachtung.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"bernehmen Sie die Beschreibung von der Metrik.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"bernehmen Sie die Beschreibung von der Messung.","configurationPanel.visualprops.customDescription":"Benutzerdefiniert","configurationPanel.visualprops.customDescriptionHelp":"Fgen Sie eine benutzerdefinierte Beschreibung fr diese Instanz der Betrachtung hinzu.","configurationPanel.visualprops.customKpiDescriptionHelp":"Fgen Sie eine benutzerdefinierte Beschreibung hinzu.","configurationPanel.visualprops.noneDescription":"Keine","configurationPanel.visualprops.includeMetrics._measure":"Messbeschreibungen einbeziehen","configurationPanel.visualprops.includeMetrics._metric":"Metrikbeschreibungen einbeziehen","configurationPanel.visualprops.includeMetricsHelp._measure":"Anzeigebereich mit einer Liste der Messungen einer Betrachtung und deren Beschreibung.","configurationPanel.visualprops.includeMetricsHelp._metric":"Anzeigebereich mit einer Liste der Metriken einer Betrachtung und deren Beschreibung.","configurationPanel.visualprops.descriptionPlaceholder":"Beschreibung hinzufgen","configurationPanel.drillIntoUrl.defaultButtonValue":"URL auswhlen","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlink in Attributsbeschriftung","configurationPanel.drillIntoUrl.customUrlSectionTitle":"Eigene URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Eigene URL hinzufgen","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Eigene URL bearbeiten","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parameter","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Parameter sind Platzhalter, die beim Verfeinern mit dynamischen Werten ersetzt werden.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Hinzufgen","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Typ","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Bezeichnung","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Wert} other {Werte}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... und {count} weitere","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Betrachtungs-ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Client-ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Daten Produkt-ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Projekt-ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Workspace-ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Widget-ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Dashboard-ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Kennung","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Betrachtung","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identifikatoren","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"bernehmen","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Abbrechen","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"URL eingeben und Parameter aus dem rechten Bereich einfgen.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Wie erstelle ich eigene URL?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Ungltige Parameter: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Eigene URL hinzufgen","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Eigene URL bearbeiten","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Attributsbeschriftungswert","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Geo-Attributswert","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"URL-Attributswert","configurationPanel.zoomInsight":"Vergrerbare Betrachtung","configurationPanel.zoomInsight.help":"Aktivieren Sie Vergrern der Betrachtung fr eine detaillierte Ansicht. Halten Sie die Umschalttaste gedrckt, um den vergrerten Bereich zu verschieben.","configurationPanel.zoomInsight.notice":"Vergrern wird nicht auf exportierte Dashboards angewendet","configurationPanel.drillConfig.selectInsight":"Betrachtung auswhlen","gs.date.date-dataset.recommended":"Empfohlen","gs.date.date-dataset.other":"Andere","gs.date.date-dataset.related":"Zugehrig","gs.date.date-dataset.unrelated":"Nicht zugehrig","gs.date.date-dataset.unrelated_hidden":"{count} irrelevante {count, plural, one {Datumsangabe} other {Datumsangaben}} {isShow, select, true {sichtbar} other {ausgeblendet}}.","gs.date.date-dataset.unrelated.show":"Anzeigen","gs.date.date-dataset.unrelated.hide":"Verbergen","layout.widget.width.min":"Widget hat minimale Breite","layout.widget.width.max":"Das Widget kann nicht breiter sein","layout.widget.height.min":"Das Widget befindet sich auf der minimalen Hhe","layout.widget.height.max":"Das Widget befindet sich auf der maximalen Hhe","layout.widget.addedByPlugin":"ber Plugin hinzugefgt","layout.widget.modifiedByPlugin":"ber Plugin bearbeitet","layout.widget.hideOverlay":"Overlay ausblenden","dropzone.new.row.desc":"Zum Erstellen eines{nbsp}<b>neuen Bereichs</b> ablegen","dropzone.widget.desc":"<b>Hier</b> ablegen","dropzone.widget.last.in.row.desc":"Im <b>vorhandenen Abschnitt</b> ablegen","deleteKpiConfirmationDialog.headline":"KPI lschen","deleteKpiConfirmationDialog.message":"Alle fr diesen KPI eingerichteten Alarme werden ebenfalls gelscht.","deleteKpiConfirmationDialog.submitButtonText":"Lschen","newDashboard.title":"Betrachtungen hierher ziehen","newDashboard.dropInsight":"Betrachtung ablegen","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> ist bereits durch <strong>{childTitle}</strong> gefiltert, filtern Sie direkt oder durch andere Filter.","attributesDropdown.attributeNameWithData":"mit Daten von","filter.visibilityMode.tooltip.hidden":"Dieser Filter ist ausgeblendet. Der Zugriff ist nur ber den Bearbeitungsmodus mglich.","filter.visibilityMode.tooltip.readonly.editMode":"Dieser Filter ist gesperrt. Es kann nur ber den Bearbeitungsmodus gendert werden.","filter.visibilityMode.tooltip.readonly.viewMode":"Dieser Filter ist gesperrt.","filter.resetButton.tooltip":"Alle Filter zurcksetzen","dateFilterDropdown.save":"Speichern","filter.configuration.mode.title":"Modus","filter.configuration.mode.interactive.title":"Interaktiv","filter.configuration.mode.interactive.tooltip":"Dashboard-Benutzer knnen den Filter sehen und ndern.","filter.configuration.mode.locked.title":"Gesperrt","filter.configuration.mode.locked.tooltip":"Dashboard-Benutzer knnen den Filter sehen, ihn aber nicht ndern.","filter.configuration.mode.hidden.title":"Ausgeblendet","filter.configuration.mode.hidden.tooltip":"Dashboard-Benutzer knnen den Filter nicht sehen, er ist jedoch angewendet.","filter.dependency.icon.tooltip":"Die verfgbaren Werte fr <strong>{filterTitle}</strong> werden durch die Auswahl in einem anderen Filter eingeschrnkt."}'),_E=JSON.parse('{"loading":"Cargando","untitled":"Sin ttulo","empty_value":"valor vaco","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"Solo","messages.dashboardSaveSuccess":"Genial. Hemos guardado su panel.","options.menu.save.as":"Guardar como nuevo","options.menu.save.as.tooltip":"No se puede guardar el panel vaco.","messages.dashboardSaveFailed":"Error al guardar panel. Vuelva a intentarlo.","messages.dashboard.invalidDrills.title":"<b>Se han eliminado algunas interacciones</b>","messages.dashboard.invalidDrills.body.modern._measure":"Se ha cambiado o eliminado algn(a) panel/perspectiva/medida/atributo, lo que ha provocado que se hayan quitado algunas interacciones de los siguientes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Se ha cambiado o eliminado algn(a) panel/perspectiva/mtrica/atributo, lo que ha provocado que se hayan quitado algunas interacciones de los siguientes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Se han desactivado algunas interacciones de exploracin hasta la URL</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Se han deshabilitado algunas interacciones de exploracin hasta la URL en los siguientes widgets debido a cambios en atributos de perspectivas: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mostrar ms","messages.dashboard.expandable.showLess":"Mostrar menos","messages.drill.InteractionConfiguredSuccess":"Interaccin configurada.","messages.drill.InteractionUpdatedSuccess":"Interaccin actualizada.","filterBar.showAll":"Mostrar todo","filterBar.showLess":"Mostrar menos","options.menu.export.PDF":"Exportar a PDF","options.menu.schedule.email":"Programar el envo de correos","options.menu.delete":"Eliminar","dialogs.export.cells":"CELDAS","dialogs.export.filters":"CONTEXTO DE LA PERSPECTIVA","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar a XLSX","dialogs.export.mergeHeaders":"Mantener fusionadas las celdas de atributos","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"Hecho! Se ha eliminado el correo electrnico programado.","dialogs.schedule.email.submit.success":"Hecho! Su panel se ha configurado para el envo de correos.","dialogs.schedule.email.submit.error":"Error al programar el panel. Intntelo de nuevo ms tarde.","dialogs.schedule.email.save.success":"Hecho! Se ha guardado la programacin.","dialogs.schedule.email.save.error":"Error al guardar la programacin. Intntelo de nuevo ms tarde.","dialogs.save.as.new.title":"Guardar panel como nuevo","dialogs.save.as.new.desc":"Pngale a su nuevo panel un nombre descriptivo nuevo para que despus sea ms fcil de encontrar.","dialogs.save.as.new.default.title":"Copia de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"La programacin de los correos electrnicos y las alertas no se duplicar","dialogs.save.as.new.alertsMessage":"Las alertas no se duplicarn","dialogs.save.as.new.emailsMessage":"La programacin de los correos no se duplicar","cancelConfirmationDialog.headline":"Desea descartar los cambios?","cancelConfirmationDialog.message":"Se perdern todos los cambios","cancelConfirmationDialog.submitButtonText":"Descartar cambios","deleteDashboardDialog.headline":"Desea eliminar el panel?","deleteDashboardDialog.submitButtonText":"Eliminar","deleteDashboardDialog.alertsAndEmailsMessage":"Todas las alertas y los correos programados configurados para este panel tambin se eliminarn.","deleteDashboardDialog.alertsMessage":"Todas las alertas establecidas para este panel tambin se eliminarn.","deleteDashboardDialog.emailsMessage":"Todos los correos electrnicos programados configurados para este panel tambin se eliminarn.","deleteDashboardDialog.drillMessage":"Se eliminarn todas las exploraciones de otros paneles que lleven a este panel.","create.dashboard":"Crear panel","drill_modal_picker.drill-down":"Exploracin vertical","drill_modal_picker.drill-into":"Explorar hasta","drill_modal_picker.more.details":"Ms detalles","drillModal.backToTop":"Volver al principio","filters.allTime.previousPeriod":"period. prev.","filters.allTime.lastYear":"ao prev.","filters.minute.previousPeriod":"minuto prev.","filters.hour.previousPeriod":"hora prev.","filters.day.previousPeriod":"{n, plural, one {da} other {#d}} prev.","filters.week.previousPeriod":"{n, plural, one {semana} other {#s}} prev.","filters.month.previousPeriod":"{n, plural, one {mes} other {#m}} prev.","filters.quarter.previousPeriod":"{n, plural, one {trimestre} other {#t}} prev.","filters.year.previousPeriod":"{n, plural, one {ao} other {#a}} prev.","filters.alertMessage.relativePreset":"en {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"en el periodo {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Hay ms de una configuracin de filtro de fechas de proyecto asociada a este proyecto. Se ha utilizado la primera.","filters.config.warning.multipleWorkspacesConfigs":"Hay ms de una configuracin de filtro de fechas de espacio de trabajo asociada a este espacio de trabajo. Se ha utilizado la primera.","filters.config.warning.selectedFilterNotValid":"La opcin de filtro predeterminada no es vlida; utilice la primera opcin disponible en su lugar.","filters.config.warning.allOptionsHidden":"La configuracin del filtro de fechas del panel se ha ignorado porque habra ocultado todas las opciones de filtros.","filters.config.warning.conflictingIdentifiers":"La configuracin del filtro de fechas del panel se ha ignorado porque contiene opciones de filtro de fechas con identificadores idnticos.","filters.config.warning.notAvailable":"La configuracin del filtro de fechas del proyecto no est definida o no tiene permiso para acceder a ella.","filters.config.warning.workspace.notAvailable":"La configuracin del filtro de fechas del espacio de trabajo no est definida o no tiene permiso para acceder a ella.","kpi.noData":"No hay datos para la configuracin actual de filtro. Intente cambiar los filtros.","kpiPop.change":"cambio","dialogs.schedule.email.filters":"El panel contiene cambios en los filtros que se guardarn en la programacin.","dialogs.schedule.email.filters.not.saved":"Los filtros del panel guardados en la programacin no se vern afectados.","dialogs.schedule.email.attachment.filter":"(con los filtros establecidos actualmente)","dialogs.schedule.email.attachment.label":"Adjunto:","dialogs.schedule.email.attachments.label":"Adjuntos:","dialogs.schedule.email.attachment.select":"Seleccione los adjuntos","dialogs.schedule.email.attachment.select.disabled.message":"Este panel no contiene ninguna perspectiva.","dialogs.schedule.email.attachment.select.dashboard.header":"Panel (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Perspectivas (CSV, XLSX)","dialogs.schedule.email.headline":"Programe el envo de correos","dialogs.schedule.email.heading":"Programe la exportacin","dialogs.schedule.email.message.label":"Mensaje:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinatario se dio de baja} other {# destinatarios se dieron de baja}} de esta programacin.","dialogs.schedule.email.repeats.label":"Repeticiones:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"el {date} da","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"el {week, select, 1 {primer} 2 {segundo} 3 {tercer} 4 {cuarto} other {ltimo}} {day}","dialogs.schedule.email.repeats.every":"cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {da} other {das}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mes} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diario","dialogs.schedule.email.repeats.types.monthly":"Mensualmente el {week, select, 1 {primer} 2 {segundo} 3 {tercer} 4 {cuarto} other {ltimo}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente el {day}","dialogs.schedule.email.subject.label":"Asunto:","dialogs.schedule.email.time.label":"Primer evento:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Hola:\\n\\nEl correo programado est listo. Puede descargar el panel en los adjuntos.","dialogs.schedule.email.submit":"Programar","dialogs.schedule.email.save":"Guardar","dialogs.schedule.email.format.options":"Opciones de formato","dialogs.schedule.email.insight.format":"Formato de la perspectiva:","dialogs.schedule.email.attribute.merged":"Mantener fusionadas las celdas de atributos","dialogs.schedule.email.show.filters":"Mostrar qu filtros se aplican","dialogs.schedule.management.title":"Exportaciones programadas","dialogs.schedule.management.delete":"Eliminar la programacin","dialogs.schedule.management.delete.dialog":"Eliminar la programacin?","dialogs.schedule.management.delete.dialog.confirm":"<b>La programacin</b> se eliminar permanentemente.","dialogs.schedule.management.noSchedules":"El panel no contiene ninguna exportacin programada.{br}Aada una ahora.","dialogs.schedule.management.noSchedules.byUser":"Todava no ha programado ninguna exportacin.{br}Aada una ahora.","dialogs.schedule.management.addSchedule":"Aadir programacin","dialogs.schedule.management.recipients":"{n, plural, one {# destinatario} other {# destinatarios}}","dialogs.schedule.management.recipients.onlyYou":"Solo usted","dialogs.schedule.management.attachments.dashboard":"Panel","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# perspectiva} other {# perspectivas}}","dialogs.schedule.management.attachments.mixed":"Panel y {n, plural, one {# perspectiva} other {# perspectivas}}","dialogs.schedule.management.load.error":"Error al cargar. Intntelo de nuevo ms tarde.","dialogs.schedule.management.delete.error":"Error al eliminar la programacin. Intntelo de nuevo ms tarde.","dialogs.schedule.management.tab.all":"todo","dialogs.schedule.management.tab.user":"creado por m","options.menu.schedule.email.recipient.invalid":"Debe introducir una direccin de correo electrnico vlida.","options.menu.schedule.email.recipient.warning.existed":"Ya ha aadido a este destinatario.","options.menu.schedule.email.recipient.warning.belong.workspace":"Esta direccin de correo electrnico no pertenece a este espacio de trabajo. Es posible que el destinatario reciba datos confidenciales.","options.menu.schedule.email.recipient.external.not.allowed":"Esta direccin de correo electrnico no pertenece a este espacio de trabajo. Solo el autor de la programacin puede aadir esta direccin de correo electrnico.","delete":"Eliminar","close":"Cerrar","cancel":"Cancelar","gs.date.at":"en","gs.date.today":"Hoy","gs.date.tomorrow":"Maana","gs.date.yesterday":"Ayer","kpi.alertBox.title":"Establecer una alerta para cambio en KPI","kpi.alertBox.example":"p. ej.","kpi.alertBox.unverifiedEmail":"Lo sentimos, no puede establecer una alerta. Asegrese de que su correo electrnico est verificado. Si prosigue el problema, pdale a su administrador que actualice sus permisos.","kpi.alertBox.disabledInReadOnly":"Las alertas estn desactivadas en el modo de solo lectura","kpi.error.view":"No se puede mostrar el KPI. Pngase en contacto con su administrador para solucionar la definicin del KPI.","kpiAlertDialog.delete":"Eliminar","kpiAlertDialog.deleting":"Eliminando","kpiAlertDialog.emailMe":"Enviarme un correo electrnico","kpiAlertDialog.emailMeWhen":"{emailMe} cuando este KPI sea","kpiAlertDialog.emailInfo":"El correo electrnico se enviar a {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Este nmero no es vlido.</strong>{br}Comprubelo de nuevo e intntelo otra vez.","kpiAlertDialog.filtersDiffer":"El KPI est filtrado de manera distinta a cuando se estableci la alerta.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta al panel","kpiAlertDialog.savingFailed":"Error al guardar la alerta. Vuelva a intentarlo ms tarde.","kpiAlertDialog.deleteingFailed":"Error al eliminar la alerta. Vuelva a intentarlo ms tarde.","kpiAlertDialog.brokenAlert":"Alerta rota","kpiAlertDialog.brokenAlertAppeal":"Para ver el valor KPI correcto, actualice los filtros de esta alerta. Tambin puede quitar la alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Fecha","kpiAlertDialog.removedFilters":"Filtros quitados del panel","kpiAlertDialog.ignoredFilters":"Filtros omitidos para este kpi","kpiAlertDialog.updateTitle":"Actualizar","kpiAlertDialog.updateBrokenTitle":"Actualizar filtros","kpiAlertDialog.updatingTitle":"Actualizando","kpiAlertDialog.updateBrokenFailed":"Error al actualizar filtros. Intntelo de nuevo.","kpiAlertDialog.setTitle":"Establecer alerta","kpiAlertDialog.settingTitle":"Estableciendo","kpiAlertDialog.threshold.above":"encima de","kpiAlertDialog.threshold.below":"abajo de","kpiAlertDialog.withAttributeFilters":"{numFilters} {numFilters, select, 1 {filtro ms aplicado} other {filtros ms aplicados}}","messages.exportResultError":"Error al exportar los datos. Intntelo de nuevo ms tarde.","messages.exportResultRestrictedError":"No puede exportar esta perspectiva porque contiene datos restringidos.","messages.exportResultStart":"Exportacin en curso","messages.exportResultSuccess":"Exportacin correcta.","messages.sharingChangedSuccess":"Uso compartido actualizado.","messages.sharingChangedError.general":"Error al actualizar los ajustes de uso compartido. Intntelo de nuevo ms tarde.","messages.sharingDialogError.general":"Error al cargar los ajustes de uso compartido. Intntelo de nuevo ms tarde.","visualization.dataTooLarge.headline":"Demasiados puntos de datos para ser mostrados","visualization.dataTooLarge.text":"Intente aplicar uno o ms filtros a su panel.","visualization.execute_protected_report.headline":"No tiene permiso para ver este informe.","visualization.execute_protected_report.text":"Pngase en contacto con su administrador.","visualization.alert_not_supported":"No se admiten alertas en los periodos de fecha estticos","visualization.empty.headline":"No existen datos para su seleccin de filtro","visualization.error.headline":"Lo sentimos, no podemos mostrar esta perspectiva","visualization.error.text":"Pngase en contacto con su administrador.","options.button.bubble":"Exportar datos de la perspectiva","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"No se puede exportar la perspectiva en estos momentos. Intente aplicar otros filtros o utilice unas medidas o unos atributos diferentes.","options.menu.unsupported.error._metric":"No se puede exportar la perspectiva en estos momentos. Intente aplicar otros filtros o utilice mtricas o atributos diferentes.","options.menu.unsupported.loading":"No se puede exportar la perspectiva en estos momentos.","export.defaultTitle":"Perspectiva sin ttulo","export_unsupported.disabled":"La exportacin no es compatible","widget.options.menu.exportToCSV":"Exportar a CSV","widget.options.menu.exportToXLSX":"Exportar a XLSX","widget.options.menu.scheduleExport":"Programe la exportacin","share.button.text":"Compartir","dashboard.error.empty.heading":"Este panel est vaco","dashboard.error.empty.text":"Se eliminaron todas las perspectivas.","dashboard.shareDialog.underLenientControl.label":"Otros usuarios pueden acceder a este panel si exploran hacia l","dashboard.shareDialog.lock.label":"Solo los administradores pueden editar este panel","header.lockStatus.tooltip":"<b>Este panel est bloqueado.</b> Solo los administradores pueden editar este panel.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"Solo usted puede visualizar y editar este panel.","header.shareStatus.private.not.strict.tooltip":"El creador puede editar este panel. Otros usuarios con funciones de usuario apropiadas pueden editar este panel cuando exploren hacia l.","dashboard.shareDialog.removeAccessGranteeTooltip":"Eliminar acceso a este panel.","dashboard.shareDialog.removeAccessCreatorTooltip":"El usuario que cre este panel. Los creadores no se pueden eliminar.","attributesDropdown.placeholder":"Buscar atributos","attributesDropdown.configuration":"Configuracin","attributesDropdown.itemsFiltered":"Los elementos se han filtrado","attributesDropdown.allItemsFiltered":"Todos los elementos estn filtrados","attributesDropdown.itemsFiltered.tooltip":"Los elementos se han filtrado por: <strong>{filters}</strong>","attributesDropdown.save":"Guardar","attributesDropdown.filterBy":"Filtrar segn","attributesDropdown.displayValuesAs":"Mostrar valores como","attributesDropdown.title":"Ttulo","attributesDropdown.title.reset":"Restablecer","attributesDropdown.selectionMode":"Seleccin","attributesDropdown.selectionMode.multi":"Varios valores","attributesDropdown.selectionMode.single":"Valor nico","attributesDropdown.selectionMode.disabled.tooltip":"No se pueden seleccionar valores nicos si hay filtros seleccionados en Filtrar por. Para usar la seleccin de valores nicos, desactive todos los filtros en Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"La opcin de filtrar por otros filtros est desactivada en la seleccin de valores nicos. Para usar Filtrar por, elija la seleccin de varios valores.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> no se puede filtrar por <strong>{parentTitle}</strong>. No hay ninguna conexin entre los atributos de filtro en el modelo de datos.","attributesDropdown.details.dataset":"Conjunto de datos","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"y {count} ms","attributesDropdown.removeTooltip":"Quitar del panel","layout.header.characters.left":"Quedan {currentCharactersCount} / {maximumCharactersCount} caracteres","layout.header.add.title.placeholder":"Aadir ttulo aqu...","layout.header.add.description.placeholder":"Aadir descripcin aqu...","error":"Error","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Guardar y publicar","controlButtons.save.value":"Guardar","controlButtons.saveAndPublish.title":"Todos los cambios sern visibles inmediatamente para quienes accedan a este panel.","controlButtons.saveAsPrivate.title":"Se guardarn todos los cambios.","controlButtons.saveAndPublish.disable.empty.title":"No se puede guardar un panel vaco","controlButtons.saveAndPublish.disable.noChanges.title":"No hay cambios que guardar","controlButtons.saving.value":"Guardando","gs.visualizationsList.tabs.all":"todo","gs.visualizationsList.tabs.my":"creado por m","visualizationsList.noInsights":"Este espacio de trabajo no contiene perspectivas.","visualizationsList.create":"Crear perspectiva","visualizationsList.noUserInsights":"No se ha creado ninguna perspectiva.","visualizationsList.noVisualizationsFound":"No coincide ninguna perspectiva.","search_insights":"Buscar perspectivas","save.as.new":"Guardar como nuevo","addPanel.deleteItem":"Arrastre para eliminar","addPanel.newItem":"Nuevo elemento","addPanel.attributeFilter":"Filtro de atributo","addPanel.attributeFilter.tooltip.no_attributes":"El filtro de atributo requiere un atributo.","addPanel.attributeFilter.tooltip.no_attributes.link":"Ms informacin","addPanel.kpi":"Indicador clave de rendimiento","addPanel.kpi.tooltip.no_measures._measure":"El indicador clave de rendimiento requiere una medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"El indicador clave de rendimiento requiere una mtrica.","addPanel.kpi.tooltip.no_measures.link":"Ms informacin","visualizationsList.dragToAdd":"Arrastre para aadir","visualizationsList.savedVisualizations":"Perspectivas guardadas","configurationPanel.drillConfig.selectDashboard":"Elija un panel","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Buscar todos los paneles","configurationPanel.drillConfig.forbiddenDashboard":"(No compartido con usted)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"El panel no se ha compartido con usted, pero otros usuarios tienen acceso a l.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"El panel no se ha compartido con usted, pero todos los usuarios pueden acceder a l si exploran hacia el panel.","configurationPanel.remove.form.dashboard":"Quitar del panel","filterBar.filter.drop":"arrastre para aadir","filterBar.filter.addFilterPlaceholder":"Arrastre {icon} aqu","filterBar.filter.dropzone.tooltip":"Arrastre el filtro de atributo aqu.","configurationPanel.title":"Configuracin","configurationPanel.comparison":"Comparacin","configurationPanel.compareWith":"Comparar con","configurationPanel.increasingNumberIs":"El nmero creciente es","configurationPanel.comparisonTypeItems.previousPeriod":"Periodo previo","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mismo periodo en el ao previo","configurationPanel.comparisonTypeItems.noComparison":"Sin comparacin","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Rojo","configurationPanel.unlistedMetric._measure":"Medida no listada","configurationPanel.unlistedMetric._metric":"Mtrica no listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida est oculta. Solo usted puede verla.","configurationPanel.unlistedMetricIconTitle._metric":"Esta mtrica est oculta. Solo usted puede verla.","configurationPanel.selectMeasurePlaceholder._measure":"Seleccione una medida","configurationPanel.selectMeasurePlaceholder._metric":"Seleccione una mtrica","configurationPanel.selectComparisonPlaceholder":"Seleccione una comparacin","configurationPanel.selectComparisonDirectionPlaceholder":"Seleccione positivo/negativo","configurationPanel.measure._measure":"Medida","configurationPanel.measure._metric":"Mtrica","configurationPanel.filterBy":"Filtrar segn","configurationPanel.date":"Fecha","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"La perspectiva no puede filtrarse por {attributeName}. Desmarque la casilla de verificacin.","configurationPanel.kpiCantBeFilteredByAttribute":"El KPI no se puede filtrar por {attributeName}. Deseleccione la casilla de verificacin.","configurationPanel.vizCantBeFilteredByDate":"No se puede filtrar la perspectiva por fecha. Desmarque la casilla de verificacin.","configurationPanel.kpiCantBeFilteredByDate":"El KPI no se puede filtrar por fecha. Deseleccione la casilla de verificacin.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" no puede aplicarse ms a la perspectiva. Seleccione una dimensin diferente o edite la perspectiva.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" ya no se puede aplicar al KPI. Seleccione otra dimensin o edite el KPI.","configurationPanel.breakAlertWarning":"\\n Los usuarios han configurado {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. Modificar el KPI afectar a {numAlerts, select, 1 {esta alerta} other {estas alertas}}.\\n","configurationPanel.drillIntoDashboard":"Explorar hasta el panel","configurationPanel.noLinkableDashboards":"No hay ningn panel con el que vincular","configurationPanel.selectDashboard":"Seleccione un panel","configurationPanel.interactions":"Interacciones","configurationPanel.drillConfig.interactions":"Interacciones de exploracin","configurationPanel.drillConfig.addInteraction":"Aadir interaccin","configurationPanel.drillConfig.clickHint":"Cuando haga clic en","configurationPanel.drillConfig.measureValue._measure":"Valor de medida","configurationPanel.drillConfig.measureValue._metric":"Valor de mtrica","configurationPanel.drillConfig.attributeValue":"Valor de atributo","configurationPanel.drillConfig.selectTarget":"Deseo","configurationPanel.drillConfig.clickHintItem":"Cuando haga clic en <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Explorar hasta el panel","configurationPanel.drillConfig.drillIntoInsight":"Explorar hasta la perspectiva","configurationPanel.drillConfig.drillDown":"Exploracin vertical","configurationPanel.drillConfig.disableDrillDownTooltip":"La exploracin vertical se ha desactivado en la configuracin de esta perspectiva.","configurationPanel.drillConfig.drillIntoUrl":"Explorar hasta la URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parmetros de URL no vlidos","configurationPanel.drillConfig.select":"Elija una accin","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"El valor del atributo de fecha de la perspectiva no se transferir para filtrar el panel de destino.","configurationPanel.unlistedDashboardTab":"Panel no listado","configurationPanel.visualprops.sectionTitle":"Ttulo","configurationPanel.visualprops.hideTitle":"Ocultar ttulo","configurationPanel.visualprops.sectionDescription":"Descripcin","configurationPanel.visualprops.inheritDescription":"Heredado","configurationPanel.visualprops.inheritDescriptionHelp":"Heredar la descripcin de la perspectiva.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Heredar la descripcin de la mtrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Heredar la descripcin de la medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Aadir una descripcin personalizada para esta instancia de la perspectiva.","configurationPanel.visualprops.customKpiDescriptionHelp":"Aadir una descripcin personalizada.","configurationPanel.visualprops.noneDescription":"Ninguno","configurationPanel.visualprops.includeMetrics._measure":"Incluir descripciones de las medidas","configurationPanel.visualprops.includeMetrics._metric":"Incluir descripciones de las mtricas","configurationPanel.visualprops.includeMetricsHelp._measure":"Mostrar seccin con la lista de las medidas de la perspectiva y su descripcin.","configurationPanel.visualprops.includeMetricsHelp._metric":"Mostrar seccin con la lista de las mtricas de la perspectiva y su descripcin.","configurationPanel.visualprops.descriptionPlaceholder":"Aadir descripcin","configurationPanel.drillIntoUrl.defaultButtonValue":"Elegir URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperenlace en etiqueta de atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizada","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Aadir URL personalizada","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parmetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Los parmetros son marcadores de posicin que se reemplazan con valores dinmicos durante la exploracin.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Agregar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Etiqueta","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...y {count} ms","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Id. de la perspectiva","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Id. del cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Id. del producto de datos","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Id. del proyecto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Id. del espacio de trabajo","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Id. del widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Id. del panel","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Perspectiva","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Introduzca la URL y aada parmetros desde el panel derecho.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Cmo crear URL personalizadas?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parmetros no vlidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Aadir URL personalizada","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor de la etiqueta del atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor geogrfico del atributo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor de la URL del atributo","configurationPanel.zoomInsight":"Perspectiva que se puede alejar/acercar","configurationPanel.zoomInsight.help":"Actvelo para acercar/alejar la perspectiva y mostrar una vista ms detallada. Mantenga pulsada la tecla Mays para hacer una panormica del rea acercada/alejada.","configurationPanel.zoomInsight.notice":"La opcin de acercar/alejar no se aplica a los paneles exportados","configurationPanel.drillConfig.selectInsight":"Elija una perspectiva","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Otros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"No relacionado","gs.date.date-dataset.unrelated_hidden":"{count} {count, plural, one {fecha} other {fechas}} no relacionada(s) {isShow, select, true {visible(s)} other {oculta(s)}}.","gs.date.date-dataset.unrelated.show":"Mostrar","gs.date.date-dataset.unrelated.hide":"Ocultar","layout.widget.width.min":"El widget tiene el tamao mnimo","layout.widget.width.max":"El widget est a su ancho mximo","layout.widget.height.min":"El widget est a su altura mnima","layout.widget.height.max":"El widget est a su altura mxima","layout.widget.addedByPlugin":"Aadido por el complemento","layout.widget.modifiedByPlugin":"Modificado por el complemento","layout.widget.hideOverlay":"Ocultar superposicin","dropzone.new.row.desc":"Suelte para crear una{nbsp}<b>seccin nueva</b>","dropzone.widget.desc":"Suelte <b>aqu</b>","dropzone.widget.last.in.row.desc":"Suelte en la <b>seccin existente</b>","deleteKpiConfirmationDialog.headline":"Eliminar KPI","deleteKpiConfirmationDialog.message":"Todas las alertas establecidas para este KPI se eliminarn.","deleteKpiConfirmationDialog.submitButtonText":"Eliminar","newDashboard.title":"Arrastre aqu la perspectiva","newDashboard.dropInsight":"Soltar perspectiva","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> ya se ha filtrado por el filtro <strong>{childTitle}</strong> directamente o mediante otros filtros.","attributesDropdown.attributeNameWithData":"con datos de","filter.visibilityMode.tooltip.hidden":"Este filtro est oculto. Solo se puede acceder a l desde el modo Edicin.","filter.visibilityMode.tooltip.readonly.editMode":"Este filtro est bloqueado. Solo se puede cambiar en el modo Edicin.","filter.visibilityMode.tooltip.readonly.viewMode":"Este filtro est bloqueado.","filter.resetButton.tooltip":"Restablecer todos los filtros","dateFilterDropdown.save":"Guardar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interactivo","filter.configuration.mode.interactive.tooltip":"Los usuarios del panel pueden ver y cambiar el filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Los usuarios del panel pueden ver el filtro, pero no cambiarlo.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Los usuarios del panel no pueden ver el filtro, pero se aplica.","filter.dependency.icon.tooltip":"Los valores disponibles para <strong>{filterTitle}</strong> estn limitados por la seleccin en otro filtro."}'),HE=JSON.parse('{"loading":"Chargement en cours","untitled":"Sans titre","empty_value":"valeur vide","gs.list.cancel":"Annuler","gs.list.apply":"Appliquer","gs.list.only":"Uniquement","messages.dashboardSaveSuccess":"Votre tableau de bord a t enregistr.","options.menu.save.as":"Enregistrer sous un nouveau nom","options.menu.save.as.tooltip":"Un tableau de bord vide ne peut pas tre enregistr.","messages.dashboardSaveFailed":"chec d\'enregistrement du tableau de bord, ressayez.","messages.dashboard.invalidDrills.title":"<b>Certaines interactions ont t supprimes.</b>","messages.dashboard.invalidDrills.body.modern._measure":"Un ou plusieurs tableaux de bord/perceptions/mesures/attributs ont t modifis ou supprims. Par consquent, certaines interactions ont t retires des widgets suivants: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Un ou plusieurs tableaux de bord/perceptions/mtriques/attributs ont t modifis ou supprims. Par consquent, certaines interactions ont t retires des widgets suivants: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Certaines interactions d\'exploration d\'URL ont t dsactives.</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Certaines interactions d\'exploration d\'URL sur les widgets suivants ont t dsactives suite  la modification d\'attributs de la perception: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Montrer plus","messages.dashboard.expandable.showLess":"Montrer moins","messages.drill.InteractionConfiguredSuccess":"Interaction configure","messages.drill.InteractionUpdatedSuccess":"Interaction modifie","filterBar.showAll":"Afficher tout","filterBar.showLess":"Montrer moins","options.menu.export.PDF":"Exporter vers PDF","options.menu.schedule.email":"Programmer l\'envoi d\'e-mails","options.menu.delete":"Supprimer","dialogs.export.cells":"CELLULES","dialogs.export.filters":"CONTEXTE DE LA PERCEPTION","dialogs.export.includeFilters":"Inclure les filtres appliqus","dialogs.export.headline":"Exporter vers XLSX","dialogs.export.mergeHeaders":"Garder les cellules d\'attributs fusionnes","dialogs.export.submit":"Exporter","dialogs.schedule.email.delete.success":"Votre e-mail programm a bien t supprim.","dialogs.schedule.email.submit.success":"Le tableau de bord est programm pour envoyer des e-mails.","dialogs.schedule.email.submit.error":"chec de la programmation du tableau de bord. Ressayez plus tard.","dialogs.schedule.email.save.success":"Bravo! Votre programme a t enregistr.","dialogs.schedule.email.save.error":"L\'enregistrement du programme a chou. Veuillez ressayer.","dialogs.save.as.new.title":"Enregistrer en tant que nouveau tableau de bord","dialogs.save.as.new.desc":"Donnez au nouveau tableau de bord un nom descriptif pour le retrouver facilement.","dialogs.save.as.new.default.title":"Copie de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Les alertes et e-mails planifis ne seront pas dupliqus.","dialogs.save.as.new.alertsMessage":"Les alertes ne seront pas dupliques.","dialogs.save.as.new.emailsMessage":"Les e-mails planifis ne seront pas dupliqus.","cancelConfirmationDialog.headline":"Ignorez les modifications?","cancelConfirmationDialog.message":"Toutes les modifications seront perdues","cancelConfirmationDialog.submitButtonText":"Ignorer les modifications","deleteDashboardDialog.headline":"Supprimez le tableau de bord?","deleteDashboardDialog.submitButtonText":"Supprimer","deleteDashboardDialog.alertsAndEmailsMessage":"Tous les e-mails programms et alertes configurs pour ce tableau de bord seront aussi supprims.","deleteDashboardDialog.alertsMessage":"Toutes les alertes configures pour ce tableau de bord vont tre galement supprimes.","deleteDashboardDialog.emailsMessage":"Tous les e-mails planifis configurs pour ce tableau de bord seront galement supprims.","deleteDashboardDialog.drillMessage":"Toutes les explorations de ce tableau de bord  partir d\'autres tableaux de bord seront aussi supprimes.","create.dashboard":"Crer un tableau de bord","drill_modal_picker.drill-down":"Exploration descendante","drill_modal_picker.drill-into":"Explorer","drill_modal_picker.more.details":"Plus de dtails","drillModal.backToTop":"Haut de page","filters.allTime.previousPeriod":"priode prc.","filters.allTime.lastYear":"anne prc.","filters.minute.previousPeriod":"minute prc.","filters.hour.previousPeriod":"heure prc.","filters.day.previousPeriod":"prc. {n, plural, one {jour} other {#j}}","filters.week.previousPeriod":"prc. {n, plural, one {semaine} other {#s}}","filters.month.previousPeriod":"prc. {n, plural, one {mois} other {#m}}","filters.quarter.previousPeriod":"prc. {n, plural, one {trimestre} other {#t}}","filters.year.previousPeriod":"prc. {n, plural, one {anne} other {#a}}","filters.alertMessage.relativePreset":"dans {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"de la priode de {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Il y a plus d\'une configuration de filtre de date de projet associe  ce projet. La premire a t utilise.","filters.config.warning.multipleWorkspacesConfigs":"Il y a plus d\'une configuration de filtre de date d\'espace de travail associe  cet espace de travail. La premire a t utilise.","filters.config.warning.selectedFilterNotValid":"L\'option de filtre par dfaut n\'est pas valide, la premire option disponible est utilise  la place.","filters.config.warning.allOptionsHidden":"La configuration de filtre de date de tableau de bord a t ignore car elle aurait masqu toutes les options de filtre.","filters.config.warning.conflictingIdentifiers":"La configuration de filtre de date de tableau de bord a t ignore, car elle contient des options de filtre de date avec des identifiants identiques.","filters.config.warning.notAvailable":"La configuration de filtre de date de projet est non dfinie ou vous n\'avez pas les autorisations ncessaires pour y accder.","filters.config.warning.workspace.notAvailable":"La configuration de filtre de date d\'espace de travail n\'est pas dfinie ou vous n\'avez pas les autorisations ncessaires pour y accder.","kpi.noData":"Aucune donne pour les paramtres de filtre actuels. Essayez de modifier les filtres.","kpiPop.change":"modifier","dialogs.schedule.email.filters":"Le tableau de bord contient des modifications de filtres qui seront enregistrs dans la planification.","dialogs.schedule.email.filters.not.saved":"Les filtres de tableau de bord enregistrs dans la planification ne sont pas affects.","dialogs.schedule.email.attachment.filter":"(avec les filtres configurs actuellement)","dialogs.schedule.email.attachment.label":"Pice jointe:","dialogs.schedule.email.attachments.label":"Pices jointes :","dialogs.schedule.email.attachment.select":"Slectionner les pices jointes","dialogs.schedule.email.attachment.select.disabled.message":"Ce tableau de bord ne contient aucune perception.","dialogs.schedule.email.attachment.select.dashboard.header":"Tableau de bord (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Perception (CSV, XLSX)","dialogs.schedule.email.headline":"Programmer un envoi par e-mail","dialogs.schedule.email.heading":"Programmer l\'exportation","dialogs.schedule.email.message.label":"Message:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinataire dsinscrit} other {# destinataires dsinscrits}} de ce programme.","dialogs.schedule.email.repeats.label":"Se rpte:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"le {date} jour","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"le {week, select, 1 {premier} 2 {deuxime} 3 {troisime} 4 {quatrime} other {dernier}} {day}","dialogs.schedule.email.repeats.every":"toutes les","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {jour} other {jours}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {mois} other {mois}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semaine} other {semaines}}","dialogs.schedule.email.repeats.types.custom":"Personnalis","dialogs.schedule.email.repeats.types.daily":"Quotidiennement","dialogs.schedule.email.repeats.types.monthly":"Mensuellement le {week, select, 1 {premier} 2 {deuxime} 3 {troisime} 4 {quatrime} other {dernier}} {day}","dialogs.schedule.email.repeats.types.weekly":"Hebdomadairement le {day}","dialogs.schedule.email.subject.label":"Objet:","dialogs.schedule.email.time.label":"Premire occurrence:","dialogs.schedule.email.to.label":":","dialogs.schedule.email.message.placeholder":"Bonjour,\\n\\nvotre e-mail programm est prt. Vous pouvez tlcharger le tableau de bord dans les pices jointes.","dialogs.schedule.email.submit":"Planifier","dialogs.schedule.email.save":"Enregistrer","dialogs.schedule.email.format.options":"Options de format","dialogs.schedule.email.insight.format":"Format de perception:","dialogs.schedule.email.attribute.merged":"Garder les cellules d\'attributs fusionnes","dialogs.schedule.email.show.filters":"Montrer les filtres appliqus","dialogs.schedule.management.title":"Exportations programmes","dialogs.schedule.management.delete":"Supprimer la planification.","dialogs.schedule.management.delete.dialog":"Supprimer la planification ?","dialogs.schedule.management.delete.dialog.confirm":"<b>La planification</b> sera supprime de faon dfinitive.","dialogs.schedule.management.noSchedules":"Le tableau de bord ne contient aucune exportation programme.{br}Ajoutez-en une ds maintenant.","dialogs.schedule.management.noSchedules.byUser":"Vous n\'avez aucune exportation programme.{br}Ajoutez-en une ds maintenant.","dialogs.schedule.management.addSchedule":"Ajouter planification","dialogs.schedule.management.recipients":"{n, plural, one {# destinataire} other {# destinataires}}","dialogs.schedule.management.recipients.onlyYou":"Vous uniquement","dialogs.schedule.management.attachments.dashboard":"Tableau de bord","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# perception} other {# perceptions}}","dialogs.schedule.management.attachments.mixed":"Tableau de bord et {n, plural, one {# perception} other {# perceptions}}","dialogs.schedule.management.load.error":"Le chargement a chou. Veuillez ressayer plus tard.","dialogs.schedule.management.delete.error":"La suppression de la planification a chou. Veuillez ressayer plus tard.","dialogs.schedule.management.tab.all":"tout","dialogs.schedule.management.tab.user":"cres par moi","options.menu.schedule.email.recipient.invalid":"Ceci n\'est pas une adresse e-mail valide.","options.menu.schedule.email.recipient.warning.existed":"Vous avez dj ajout ce destinataire.","options.menu.schedule.email.recipient.warning.belong.workspace":"Cette adresse e-mail ne fait pas partie de cet espace de travail. Le destinataire recevra peut-tre des donnes sensibles.","options.menu.schedule.email.recipient.external.not.allowed":"Cette adresse e-mail ne fait pas partie de cet espace de travail. Seul l\'auteur du programme peut ajouter cette adresse e-mail.","delete":"Supprimer","close":"Fermer","cancel":"Annuler","gs.date.at":"","gs.date.today":"Aujourd\'hui","gs.date.tomorrow":"Demain","gs.date.yesterday":"Hier","kpi.alertBox.title":"Dfinir une alerte lors de la modification du KPI","kpi.alertBox.example":"Par ex.","kpi.alertBox.unverifiedEmail":"Dsol, vous ne pouvez pas dfinir une alerte. Assurez-vous que votre e-mail est vrifi. Si cela n\'aide pas, demandez  votre administrateur de mettre  jour vos autorisations.","kpi.alertBox.disabledInReadOnly":"Les alertes sont dsactives en mode lecture seule","kpi.error.view":"Impossible d\'afficher le KPI. Contactez votre administrateur pour corriger la dfinition du KPI.","kpiAlertDialog.delete":"Supprimer","kpiAlertDialog.deleting":"Suppression en cours","kpiAlertDialog.emailMe":"Envoyez-moi un e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} lorsque ce KPI est","kpiAlertDialog.emailInfo":"L\'e-mail sera envoy  {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Ce nombre n\'est pas valide.</strong>{br}Vrifiez-le et ressayez.","kpiAlertDialog.filtersDiffer":"KPI est  prsent filtr diffremment que lors de la configuration de l\'alerte.","kpiAlertDialog.filtersApply":"Appliquer les filtres d\'alerte au tableau de bord","kpiAlertDialog.savingFailed":"chec de l\'enregistrement de l\'alerte. Ressayez.","kpiAlertDialog.deleteingFailed":"chec de suppression de l\'alerte. Ressayez.","kpiAlertDialog.brokenAlert":"Alerte interrompue","kpiAlertDialog.brokenAlertAppeal":"Pour voir la valeur correcte de KPI, mettez  jour les filtres dans cette alerte. Vous pouvez galement supprimer l\'alerte.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Date","kpiAlertDialog.removedFilters":"Filtres supprims du tableau de bord","kpiAlertDialog.ignoredFilters":"Filtres ignors pour ce KPI","kpiAlertDialog.updateTitle":"Mettre  jour","kpiAlertDialog.updateBrokenTitle":"Mettre  jour les filtres","kpiAlertDialog.updatingTitle":"Mise  jour en cours","kpiAlertDialog.updateBrokenFailed":"chec de mise  jour des filtres. Ressayez.","kpiAlertDialog.setTitle":"Dfinir l\'alerte","kpiAlertDialog.settingTitle":"Dfinition en cours","kpiAlertDialog.threshold.above":"au-dessus de","kpiAlertDialog.threshold.below":"au-dessous de","kpiAlertDialog.withAttributeFilters":"{numFilters} plus {numFilters, select, 1 {filtre} other {filtres}} appliqus","messages.exportResultError":"chec de l\'exportation des donnes. Ressayez plus tard.","messages.exportResultRestrictedError":"Vous ne pouvez pas exporter cette perception car elle contient des donnes  accs restreint.","messages.exportResultStart":"Exportation en cours","messages.exportResultSuccess":"Exportation effectue","messages.sharingChangedSuccess":"Partage mis  jour.","messages.sharingChangedError.general":"La mise  jour des paramtres de partage a chou. Veuillez ressayer ultrieurement.","messages.sharingDialogError.general":"Le chargement des paramtres de partage a chou. Veuillez ressayer ultrieurement.","visualization.dataTooLarge.headline":"Trop de points de donnes  afficher","visualization.dataTooLarge.text":"Essayez d\'appliquer un ou plusieurs filtres  votre tableau de bord.","visualization.execute_protected_report.headline":"Vous n\'tes pas autoris  consulter ce rapport","visualization.execute_protected_report.text":"Contactez votre administrateur.","visualization.alert_not_supported":"Les alertes ne sont pas prises en charge sur la priode de dates statique","visualization.empty.headline":"Aucune donne pour votre slection de filtre","visualization.error.headline":"Dsol, nous ne pouvons pas afficher cette perception","visualization.error.text":"Contactez votre administrateur.","options.button.bubble":"Exporter les donnes de perception","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"La perception ne peut pas tre exporte  l\'heure actuelle. Essayez d\'appliquer d\'autres filtres ou d\'utiliser d\'autres mesures ou attributs.","options.menu.unsupported.error._metric":"La perception ne peut pas tre exporte  l\'heure actuelle. Essayez d\'appliquer d\'autres filtres ou d\'utiliser d\'autres mtriques ou attributs.","options.menu.unsupported.loading":"La perception ne peut pas tre exporte  l\'heure actuelle.","export.defaultTitle":"Perception sans titre","export_unsupported.disabled":"L\'exportation n\'est pas prise en charge.","widget.options.menu.exportToCSV":"Exporter au format CSV","widget.options.menu.exportToXLSX":"Exporter vers XLSX","widget.options.menu.scheduleExport":"Programmer l\'exportation","share.button.text":"Partage","dashboard.error.empty.heading":"Ce tableau de bord est vide","dashboard.error.empty.text":"Toutes les perceptions ont t retires.","dashboard.shareDialog.underLenientControl.label":"D\'autres utilisateurs peuvent accder  ce tableau de bord s\'ils l\'explorent","dashboard.shareDialog.lock.label":"Seuls les administrateurs peuvent modifier ce tableau de bord","header.lockStatus.tooltip":"<b>Ce tableau de bord est verrouill.</b> Seuls les administrateurs peuvent modifier ce tableau de bord.","header.shareStatus.private.text":"Priv","header.shareStatus.private.strict.tooltip":"Vous seul pouvez visualiser et modifier ce tableau de bord.","header.shareStatus.private.not.strict.tooltip":"Le crateur du tableau de bord peut modifier celui-ci. Les autres utilisateurs avec des rles adquats peuvent modifier le tableau de bord lorsqu\'ils l\'explorent.","dashboard.shareDialog.removeAccessGranteeTooltip":"Retirer l\'accs  ce tableau de bord.","dashboard.shareDialog.removeAccessCreatorTooltip":"L\'utilisateur qui a cr ce tableau de bord. Les crateurs ne peuvent pas tre retirs.","attributesDropdown.placeholder":"Rechercher","attributesDropdown.configuration":"Configuration","attributesDropdown.itemsFiltered":"Les lments sont filtrs.","attributesDropdown.allItemsFiltered":"Tous les lments ont t filtrs.","attributesDropdown.itemsFiltered.tooltip":"Les lments sont filtrs par: <strong>{filters}</strong>","attributesDropdown.save":"Enregistrer","attributesDropdown.filterBy":"Filtrer par","attributesDropdown.displayValuesAs":"Affichage des valeurs","attributesDropdown.title":"Titre","attributesDropdown.title.reset":"Rinitialiser","attributesDropdown.selectionMode":"Slection","attributesDropdown.selectionMode.multi":"Valeurs multiples","attributesDropdown.selectionMode.single":"Valeur unique","attributesDropdown.selectionMode.disabled.tooltip":"La slection d\'une seule valeur n\'est pas autorise si un ou plusieurs filtres sont slectionns dans Filtrer par. Pour utiliser la slection de valeur unique, dsactivez tous les filtres dans Filtrer par.","attributesDropdown.parentFilter.disabled.tooltip":"L\'utilisation d\'autres filtres est dsactive pour la slection de valeur unique. Pour configurer la section Filtrer par, choisissez la slection de valeurs multiples.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> ne peut pas tre filtr par <strong>{parentTitle}</strong>. Il n\'existe aucune connexion entre les attributs du filtre dans le modle de donnes.","attributesDropdown.details.dataset":"Ensemble de donnes","attributesDropdown.details.values":"Valeurs","attributesDropdown.details.shortening_decoration":"et {count} de plus","attributesDropdown.removeTooltip":"Retirer du tableau de bord","layout.header.characters.left":"{currentCharactersCount}/{maximumCharactersCount} caractres restant","layout.header.add.title.placeholder":"Ajouter un titre ici...","layout.header.add.description.placeholder":"Ajouter une description ici...","error":"Erreur","controlButtons.edit.value":"Modifier","controlButtons.saveAndPublish.value":"Enregistrer et publier","controlButtons.save.value":"Enregistrer","controlButtons.saveAndPublish.title":"Toutes les modifications seront immdiatement visibles pour tous les utilisateurs qui ont accs  ce tableau de bord.","controlButtons.saveAsPrivate.title":"Toutes les modifications vont tre enregistres.","controlButtons.saveAndPublish.disable.empty.title":"Impossible d\'enregistrer un tableau de bord vide","controlButtons.saveAndPublish.disable.noChanges.title":"Il n\'y a aucun changement  enregistrer","controlButtons.saving.value":"Enregistrement en cours","gs.visualizationsList.tabs.all":"tout","gs.visualizationsList.tabs.my":"cres par moi","visualizationsList.noInsights":"Cet espace de travail ne contient aucune perception.","visualizationsList.create":"Crer une perception","visualizationsList.noUserInsights":"Aucune perception cre.","visualizationsList.noVisualizationsFound":"Aucune perception correspondante.","search_insights":"Rechercher tout","save.as.new":"Enregistrer sous un nouveau nom","addPanel.deleteItem":"Dposer pour supprimer","addPanel.newItem":"Nouvel lment","addPanel.attributeFilter":"Filtre d\'attribut","addPanel.attributeFilter.tooltip.no_attributes":"Le filtre d\'attribut ncessite un attribut.","addPanel.attributeFilter.tooltip.no_attributes.link":"En savoir plus","addPanel.kpi":"Indicateur cl de performance","addPanel.kpi.tooltip.no_measures._measure":"L\'indicateur cl de performance ncessite une mesure calcule.","addPanel.kpi.tooltip.no_measures._metric":"L\'indicateur cl de performance ncessite une mtrique.","addPanel.kpi.tooltip.no_measures.link":"En savoir plus","visualizationsList.dragToAdd":"Faire glisser pour ajouter","visualizationsList.savedVisualizations":"Perceptions enregistres","configurationPanel.drillConfig.selectDashboard":"Choisir un tableau de bord","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Rechercher dans tous les tableaux de bord","configurationPanel.drillConfig.forbiddenDashboard":"(Non partag avec vous)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Le tableau de bord n\'est pas partag avec vous, mais d\'autres utilisateurs y ont accs.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Le tableau de bord n\'est pas partag avec vous, mais tous les utilisateurs peuvent y accder s\'ils l\'explorent.","configurationPanel.remove.form.dashboard":"Retirer du tableau de bord","filterBar.filter.drop":"dposer pour ajouter","filterBar.filter.addFilterPlaceholder":"Faites glisser {icon} ici","filterBar.filter.dropzone.tooltip":"Faites glisser le filtre d\'attribut ici.","configurationPanel.title":"Configuration","configurationPanel.comparison":"Comparaison","configurationPanel.compareWith":"Comparer avec","configurationPanel.increasingNumberIs":"Le nombre croissant est","configurationPanel.comparisonTypeItems.previousPeriod":"Priode prcdente","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mme priode de l\'anne prcdente","configurationPanel.comparisonTypeItems.noComparison":"Aucune comparaison","configurationPanel.comparisonDirectionItems.green":"Vert","configurationPanel.comparisonDirectionItems.red":"Rouge","configurationPanel.unlistedMetric._measure":"Mesure non rpertorie","configurationPanel.unlistedMetric._metric":"Mtrique non rpertorie","configurationPanel.unlistedMetricIconTitle._measure":"Cette mesure est cache. Vous seul pouvez la voir.","configurationPanel.unlistedMetricIconTitle._metric":"Cette mtrique est cache. Vous seul pouvez la voir.","configurationPanel.selectMeasurePlaceholder._measure":"Slectionner la mesure","configurationPanel.selectMeasurePlaceholder._metric":"Slectionner la mtrique","configurationPanel.selectComparisonPlaceholder":"Slectionner la comparaison","configurationPanel.selectComparisonDirectionPlaceholder":"Slectionner positif/ngatif","configurationPanel.measure._measure":"Mesure","configurationPanel.measure._metric":"Mtrique","configurationPanel.filterBy":"Filtrer par","configurationPanel.date":"Date","configurationPanel.dateAs":"comme","configurationPanel.vizCantBeFilteredByAttribute":"La perception ne peut pas tre filtre par {attributeName}. Dcochez la case.","configurationPanel.kpiCantBeFilteredByAttribute":"Le KPI ne peut pas tre filtr par {attributeName}. Dcochez la case.","configurationPanel.vizCantBeFilteredByDate":"La perception ne peut pas tre filtre par Date. Dcochez la case.","configurationPanel.kpiCantBeFilteredByDate":"Le KPI ne peut pas tre filtr par Date. Dcochez la case.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" ne peut plus tre appliqu  la perception. Slectionnez une dimension diffrente ou ditez la perception.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" ne peut plus tre appliqu au KPI. Slectionnez une dimension diffrente ou modifiez le KPI.","configurationPanel.breakAlertWarning":"\\n            Les utilisateurs ont dfini {numAlerts} {numAlerts, select, 1 {alerte} other {alertes}}\\n            pour ce KPI. Le fait de modifier le KPI affectera {numAlerts, select, 1 {cette alerte} other {ces alertes}}.\\n","configurationPanel.drillIntoDashboard":"Explorer le tableau de bord","configurationPanel.noLinkableDashboards":"Aucun tableau de bord vers lequel lier","configurationPanel.selectDashboard":"Slectionner un tableau de bord","configurationPanel.interactions":"Interactions","configurationPanel.drillConfig.interactions":"Explorer les interactions","configurationPanel.drillConfig.addInteraction":"Ajouter une interaction","configurationPanel.drillConfig.clickHint":"Lorsque je clique sur","configurationPanel.drillConfig.measureValue._measure":"Valeur de mesure","configurationPanel.drillConfig.measureValue._metric":"Valeur de mtrique","configurationPanel.drillConfig.attributeValue":"Valeur d\'attribut","configurationPanel.drillConfig.selectTarget":"Je veux","configurationPanel.drillConfig.clickHintItem":"Lorsque je clique sur <addon>(valeur de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Explorer le tableau de bord","configurationPanel.drillConfig.drillIntoInsight":"Explorer la perception","configurationPanel.drillConfig.drillDown":"Exploration descendante","configurationPanel.drillConfig.disableDrillDownTooltip":"L\'exploration descendante est dsactive dans la configuration de cette perception.","configurationPanel.drillConfig.drillIntoUrl":"Explorer l\'URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Paramtres URL non valides","configurationPanel.drillConfig.select":"Choisir une action","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"La valeur de l\'attribut date de la perception ne sera pas transfre pour filtrer le tableau de bord cible.","configurationPanel.unlistedDashboardTab":"Tableau de bord non rpertori","configurationPanel.visualprops.sectionTitle":"Titre","configurationPanel.visualprops.hideTitle":"Masquer le titre","configurationPanel.visualprops.sectionDescription":"Description","configurationPanel.visualprops.inheritDescription":"Hriter","configurationPanel.visualprops.inheritDescriptionHelp":"Hriter de la description de la perception.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Hriter de la description de la mtrique.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Hriter de la description de la mesure.","configurationPanel.visualprops.customDescription":"Personnalis","configurationPanel.visualprops.customDescriptionHelp":"Ajouter une description personnalise pour cette instance de la perception.","configurationPanel.visualprops.customKpiDescriptionHelp":"Ajouter une description personnalise.","configurationPanel.visualprops.noneDescription":"Aucun(e)","configurationPanel.visualprops.includeMetrics._measure":"Inclure les descriptions des mesures","configurationPanel.visualprops.includeMetrics._metric":"Inclure les descriptions des mtriques","configurationPanel.visualprops.includeMetricsHelp._measure":"Afficher une liste des mesures de la perception et leur description.","configurationPanel.visualprops.includeMetricsHelp._metric":"Afficher une liste des mtriques de la perception et leur description.","configurationPanel.visualprops.descriptionPlaceholder":"Ajouter une description","configurationPanel.drillIntoUrl.defaultButtonValue":"Slectionner une URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlien dans le libell de l\'attribut","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personnalise","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Ajouter une URL personnalise","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Modifier une URL personnalise","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Paramtres","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Les paramtres sont des lments par dfaut substitus par des valeurs dynamiques lors de l\'exploration.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Ajouter","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Type","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Libell","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valeur} other {Valeurs}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...et {count} de plus","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID de la perception","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID du client","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID du produit de donnes","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID du projet","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID de l\'espace de travail","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID du widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID du tableau de bord","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificateur","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Perception","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificateurs","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Appliquer","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Annuler","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Saisissez l\'URL et ajoutez des paramtres  partir du panneau de droite.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Comment crer des URL personnalises?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Paramtres non valides: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Ajouter une URL personnalise","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Modifier une URL personnalise","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valeur du libell de l\'attribut","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valeur gographique de l\'attribut","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valeur de l\'URL de l\'attribut","configurationPanel.zoomInsight":"Zoom sur la perception","configurationPanel.zoomInsight.help":"Zoomez sur une perception pour l\'afficher en dtail. Maintenez la touche Maj enfonce pour parcourir la zone agrandie.","configurationPanel.zoomInsight.notice":"Le zoom n\'est pas appliqu aux tableaux de bord exports","configurationPanel.drillConfig.selectInsight":"Choisir une perception","gs.date.date-dataset.recommended":"Recommand","gs.date.date-dataset.other":"Autre","gs.date.date-dataset.related":"Associ","gs.date.date-dataset.unrelated":"Non associ","gs.date.date-dataset.unrelated_hidden":"{count}{count, plural, one {date} other {dates}} {isShow, select, true {visible(s)} other {masque(s)}} sans rapport.","gs.date.date-dataset.unrelated.show":"Afficher","gs.date.date-dataset.unrelated.hide":"Masquer","layout.widget.width.min":"Le widget est  la largeur minimale","layout.widget.width.max":"Le widget est  la largeur maximale","layout.widget.height.min":"Le widget est  la hauteur minimale","layout.widget.height.max":"Le widget est  la hauteur maximale","layout.widget.addedByPlugin":"Ajout par le plug-in","layout.widget.modifiedByPlugin":"Modifi par le plug-in","layout.widget.hideOverlay":"Masquer le chevauchement","dropzone.new.row.desc":"Dposer l\'lment pour crer une{nbsp}<b>nouvelle section</b>","dropzone.widget.desc":"Dposer <b>ici</b>","dropzone.widget.last.in.row.desc":"Dposer dans la <b>section existante</b>","deleteKpiConfirmationDialog.headline":"Supprimer le KPI","deleteKpiConfirmationDialog.message":"Toutes les alertes configures pour ce KPI vont tre supprimes.","deleteKpiConfirmationDialog.submitButtonText":"Supprimer","newDashboard.title":"Faire glisser une perception ici","newDashboard.dropInsight":"Dposer une perception","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> est dj filtr par le filtre <strong>{childTitle}</strong>, directement ou via d\'autres filtres.","attributesDropdown.attributeNameWithData":"avec les donnes de","filter.visibilityMode.tooltip.hidden":"Ce filtre est masqu. Il n\'est accessible qu\'en mode dition.","filter.visibilityMode.tooltip.readonly.editMode":"Ce filtre est verrouill. Il peut uniquement tre modifi en mode dition.","filter.visibilityMode.tooltip.readonly.viewMode":"Ce filtre est verrouill.","filter.resetButton.tooltip":"Rinitialiser tous les filtres","dateFilterDropdown.save":"Enregistrer","filter.configuration.mode.title":"Mode","filter.configuration.mode.interactive.title":"Interactif","filter.configuration.mode.interactive.tooltip":"Les utilisateurs du tableau de bord peuvent voir le filtre et le modifier.","filter.configuration.mode.locked.title":"Verrouill","filter.configuration.mode.locked.tooltip":"Les utilisateurs du tableau de bord peuvent voir le filtre mais ne peuvent pas le modifier.","filter.configuration.mode.hidden.title":"Masqu","filter.configuration.mode.hidden.tooltip":"Les utilisateurs du tableau de bord ne peuvent pas voir le filtre, mais il est appliqu.","filter.dependency.icon.tooltip":"Les valeurs disponibles pour <strong>{filterTitle}</strong> sont limites par la slection dans un autre filtre."}'),UE=JSON.parse('{"loading":"","untitled":"","empty_value":"","gs.list.cancel":"","gs.list.apply":"","gs.list.only":"","messages.dashboardSaveSuccess":"","options.menu.save.as":"","options.menu.save.as.tooltip":"","messages.dashboardSaveFailed":"","messages.dashboard.invalidDrills.title":"<b></b>","messages.dashboard.invalidDrills.body.modern._measure":"1 ///<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"1 ///<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>URL </b>","messages.dashboard.invalidCustomUrlDrills.body.modern":" URL  <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"","messages.dashboard.expandable.showLess":"","messages.drill.InteractionConfiguredSuccess":"","messages.drill.InteractionUpdatedSuccess":"","filterBar.showAll":"","filterBar.showLess":"","options.menu.export.PDF":"PDF ","options.menu.schedule.email":"","options.menu.delete":"","dialogs.export.cells":"","dialogs.export.filters":"","dialogs.export.includeFilters":"","dialogs.export.headline":"XLSX ","dialogs.export.mergeHeaders":"","dialogs.export.submit":"","dialogs.schedule.email.delete.success":"","dialogs.schedule.email.submit.success":"","dialogs.schedule.email.submit.error":"","dialogs.schedule.email.save.success":"","dialogs.schedule.email.save.error":"","dialogs.save.as.new.title":"","dialogs.save.as.new.desc":"","dialogs.save.as.new.default.title":"{title}","dialogs.save.as.new.alertsAndEmailsMessage":"","dialogs.save.as.new.alertsMessage":"","dialogs.save.as.new.emailsMessage":"","cancelConfirmationDialog.headline":"?","cancelConfirmationDialog.message":"","cancelConfirmationDialog.submitButtonText":"","deleteDashboardDialog.headline":"","deleteDashboardDialog.submitButtonText":"","deleteDashboardDialog.alertsAndEmailsMessage":"","deleteDashboardDialog.alertsMessage":"","deleteDashboardDialog.emailsMessage":"","deleteDashboardDialog.drillMessage":"","create.dashboard":"","drill_modal_picker.drill-down":"","drill_modal_picker.drill-into":"","drill_modal_picker.more.details":"","drillModal.backToTop":"","filters.allTime.previousPeriod":"","filters.allTime.lastYear":"","filters.minute.previousPeriod":" 1 ","filters.hour.previousPeriod":" 1 ","filters.day.previousPeriod":" {n, plural, one {} other {#}}","filters.week.previousPeriod":" {n, plural, one {} other {#}}","filters.month.previousPeriod":" {n, plural, one {} other {#}}","filters.quarter.previousPeriod":" {n, plural, one {} other {#}}","filters.year.previousPeriod":" {n, plural, one {} other {#}}","filters.alertMessage.relativePreset":"{calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"{calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"","filters.config.warning.multipleWorkspacesConfigs":"","filters.config.warning.selectedFilterNotValid":"","filters.config.warning.allOptionsHidden":"","filters.config.warning.conflictingIdentifiers":"","filters.config.warning.notAvailable":"","filters.config.warning.workspace.notAvailable":"","kpi.noData":"","kpiPop.change":"","dialogs.schedule.email.filters":"","dialogs.schedule.email.filters.not.saved":"","dialogs.schedule.email.attachment.filter":"","dialogs.schedule.email.attachment.label":"","dialogs.schedule.email.attachments.label":"","dialogs.schedule.email.attachment.select":"","dialogs.schedule.email.attachment.select.disabled.message":"","dialogs.schedule.email.attachment.select.dashboard.header":"PDF","dialogs.schedule.email.attachment.select.widgets.header":"CSVXLSX","dialogs.schedule.email.headline":"","dialogs.schedule.email.heading":"","dialogs.schedule.email.message.label":":","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1} other {#}} ","dialogs.schedule.email.repeats.label":"","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"{date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"{week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.every":"","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.types.custom":"","dialogs.schedule.email.repeats.types.daily":"","dialogs.schedule.email.repeats.types.monthly":" {week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.types.weekly":" {day}","dialogs.schedule.email.subject.label":":","dialogs.schedule.email.time.label":"","dialogs.schedule.email.to.label":":","dialogs.schedule.email.message.placeholder":"","dialogs.schedule.email.submit":"","dialogs.schedule.email.save":"","dialogs.schedule.email.format.options":"","dialogs.schedule.email.insight.format":"","dialogs.schedule.email.attribute.merged":"","dialogs.schedule.email.show.filters":"","dialogs.schedule.management.title":"","dialogs.schedule.management.delete":"","dialogs.schedule.management.delete.dialog":"","dialogs.schedule.management.delete.dialog.confirm":"<b></b>","dialogs.schedule.management.noSchedules":"{br}","dialogs.schedule.management.noSchedules.byUser":"{br}","dialogs.schedule.management.addSchedule":"","dialogs.schedule.management.recipients":"{n, plural, one {# } other {# }}","dialogs.schedule.management.recipients.onlyYou":"","dialogs.schedule.management.attachments.dashboard":"","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# } other {# }}","dialogs.schedule.management.attachments.mixed":" {n, plural, one {# } other {# }}","dialogs.schedule.management.load.error":"","dialogs.schedule.management.delete.error":"","dialogs.schedule.management.tab.all":"","dialogs.schedule.management.tab.user":"","options.menu.schedule.email.recipient.invalid":"","options.menu.schedule.email.recipient.warning.existed":"","options.menu.schedule.email.recipient.warning.belong.workspace":"","options.menu.schedule.email.recipient.external.not.allowed":"","delete":"","close":"","cancel":"","gs.date.at":"","gs.date.today":"","gs.date.tomorrow":"","gs.date.yesterday":"","kpi.alertBox.title":"KPI","kpi.alertBox.example":":","kpi.alertBox.unverifiedEmail":"","kpi.alertBox.disabledInReadOnly":"","kpi.error.view":"KPIKPI","kpiAlertDialog.delete":"","kpiAlertDialog.deleting":"","kpiAlertDialog.emailMe":"","kpiAlertDialog.emailMeWhen":"KPI {emailMe}","kpiAlertDialog.emailInfo":":{userEmail}","kpiAlertDialog.invalidNumber":"<strong></strong>{br}","kpiAlertDialog.filtersDiffer":"KPI","kpiAlertDialog.filtersApply":"","kpiAlertDialog.savingFailed":"","kpiAlertDialog.deleteingFailed":"","kpiAlertDialog.brokenAlert":"","kpiAlertDialog.brokenAlertAppeal":" KPI ","kpiAlertDialog.brokenAlertDefaultDateLabel":"","kpiAlertDialog.removedFilters":"","kpiAlertDialog.ignoredFilters":" kpi ","kpiAlertDialog.updateTitle":"","kpiAlertDialog.updateBrokenTitle":"","kpiAlertDialog.updatingTitle":"","kpiAlertDialog.updateBrokenFailed":"","kpiAlertDialog.setTitle":"","kpiAlertDialog.settingTitle":"","kpiAlertDialog.threshold.above":"","kpiAlertDialog.threshold.below":"","kpiAlertDialog.withAttributeFilters":"{numFilters}  {numFilters, select, 1 {} other {}} ","messages.exportResultError":"","messages.exportResultRestrictedError":"","messages.exportResultStart":"","messages.exportResultSuccess":"","messages.sharingChangedSuccess":"","messages.sharingChangedError.general":"","messages.sharingDialogError.general":"","visualization.dataTooLarge.headline":"","visualization.dataTooLarge.text":"1","visualization.execute_protected_report.headline":"","visualization.execute_protected_report.text":".","visualization.alert_not_supported":"","visualization.empty.headline":"","visualization.error.headline":"","visualization.error.text":".","options.button.bubble":"","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"","options.menu.unsupported.error._metric":"","options.menu.unsupported.loading":"","export.defaultTitle":"","export_unsupported.disabled":"","widget.options.menu.exportToCSV":"CSV ","widget.options.menu.exportToXLSX":"XLSX ","widget.options.menu.scheduleExport":"","share.button.text":"","dashboard.error.empty.heading":"","dashboard.error.empty.text":"","dashboard.shareDialog.underLenientControl.label":"","dashboard.shareDialog.lock.label":"","header.lockStatus.tooltip":"<b></b>","header.shareStatus.private.text":"","header.shareStatus.private.strict.tooltip":"","header.shareStatus.private.not.strict.tooltip":"","dashboard.shareDialog.removeAccessGranteeTooltip":"","dashboard.shareDialog.removeAccessCreatorTooltip":"","attributesDropdown.placeholder":"","attributesDropdown.configuration":"","attributesDropdown.itemsFiltered":"","attributesDropdown.allItemsFiltered":"","attributesDropdown.itemsFiltered.tooltip":"<strong>{filters}</strong>","attributesDropdown.save":"","attributesDropdown.filterBy":":","attributesDropdown.displayValuesAs":"","attributesDropdown.title":"","attributesDropdown.title.reset":"","attributesDropdown.selectionMode":"","attributesDropdown.selectionMode.multi":"","attributesDropdown.selectionMode.single":"","attributesDropdown.selectionMode.disabled.tooltip":"::","attributesDropdown.parentFilter.disabled.tooltip":":","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong>  <strong>{parentTitle}</strong>","attributesDropdown.details.dataset":"","attributesDropdown.details.values":"","attributesDropdown.details.shortening_decoration":"{count}","attributesDropdown.removeTooltip":"","layout.header.characters.left":" {currentCharactersCount} / {maximumCharactersCount} ","layout.header.add.title.placeholder":"","layout.header.add.description.placeholder":"","error":"","controlButtons.edit.value":"","controlButtons.saveAndPublish.value":"","controlButtons.save.value":"","controlButtons.saveAndPublish.title":"","controlButtons.saveAsPrivate.title":"","controlButtons.saveAndPublish.disable.empty.title":"","controlButtons.saveAndPublish.disable.noChanges.title":"","controlButtons.saving.value":"","gs.visualizationsList.tabs.all":"","gs.visualizationsList.tabs.my":"","visualizationsList.noInsights":"","visualizationsList.create":"","visualizationsList.noUserInsights":"","visualizationsList.noVisualizationsFound":"","search_insights":"","save.as.new":"","addPanel.deleteItem":"","addPanel.newItem":"","addPanel.attributeFilter":"","addPanel.attributeFilter.tooltip.no_attributes":"","addPanel.attributeFilter.tooltip.no_attributes.link":"","addPanel.kpi":"KPI","addPanel.kpi.tooltip.no_measures._measure":"","addPanel.kpi.tooltip.no_measures._metric":"","addPanel.kpi.tooltip.no_measures.link":"","visualizationsList.dragToAdd":"","visualizationsList.savedVisualizations":"","configurationPanel.drillConfig.selectDashboard":"","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"","configurationPanel.drillConfig.forbiddenDashboard":"","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"","configurationPanel.drillConfig.notSharedDashboard.tooltip":"","configurationPanel.remove.form.dashboard":"","filterBar.filter.drop":"","filterBar.filter.addFilterPlaceholder":"{icon} ","filterBar.filter.dropzone.tooltip":"","configurationPanel.title":"","configurationPanel.comparison":"","configurationPanel.compareWith":":","configurationPanel.increasingNumberIs":"","configurationPanel.comparisonTypeItems.previousPeriod":"","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"","configurationPanel.comparisonTypeItems.noComparison":"","configurationPanel.comparisonDirectionItems.green":"","configurationPanel.comparisonDirectionItems.red":"","configurationPanel.unlistedMetric._measure":"","configurationPanel.unlistedMetric._metric":"","configurationPanel.unlistedMetricIconTitle._measure":"","configurationPanel.unlistedMetricIconTitle._metric":"","configurationPanel.selectMeasurePlaceholder._measure":"","configurationPanel.selectMeasurePlaceholder._metric":"","configurationPanel.selectComparisonPlaceholder":"","configurationPanel.selectComparisonDirectionPlaceholder":"/","configurationPanel.measure._measure":"","configurationPanel.measure._metric":"","configurationPanel.filterBy":":","configurationPanel.date":"","configurationPanel.dateAs":"","configurationPanel.vizCantBeFilteredByAttribute":" {attributeName} ","configurationPanel.kpiCantBeFilteredByAttribute":"KPI{attributeName}","configurationPanel.vizCantBeFilteredByDate":"","configurationPanel.kpiCantBeFilteredByDate":"KPI","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" ","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\"KPIKPI","configurationPanel.breakAlertWarning":"\\n KPI{numAlerts, select, 1 {} other {}}\\n{numAlerts}KPI{numAlerts, select, 1 {} other {}}\\n","configurationPanel.drillIntoDashboard":"","configurationPanel.noLinkableDashboards":"","configurationPanel.selectDashboard":"","configurationPanel.interactions":"","configurationPanel.drillConfig.interactions":"","configurationPanel.drillConfig.addInteraction":"","configurationPanel.drillConfig.clickHint":":","configurationPanel.drillConfig.measureValue._measure":"","configurationPanel.drillConfig.measureValue._metric":"","configurationPanel.drillConfig.attributeValue":"","configurationPanel.drillConfig.selectTarget":"","configurationPanel.drillConfig.clickHintItem":"<addon></addon>","configurationPanel.drillConfig.drillIntoDashboard":"","configurationPanel.drillConfig.drillIntoInsight":"","configurationPanel.drillConfig.drillDown":"","configurationPanel.drillConfig.disableDrillDownTooltip":"","configurationPanel.drillConfig.drillIntoUrl":"URL ","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":" URL ","configurationPanel.drillConfig.select":"","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"","configurationPanel.unlistedDashboardTab":"","configurationPanel.visualprops.sectionTitle":"","configurationPanel.visualprops.hideTitle":"","configurationPanel.visualprops.sectionDescription":"","configurationPanel.visualprops.inheritDescription":"","configurationPanel.visualprops.inheritDescriptionHelp":"","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"","configurationPanel.visualprops.customDescription":"","configurationPanel.visualprops.customDescriptionHelp":"","configurationPanel.visualprops.customKpiDescriptionHelp":"","configurationPanel.visualprops.noneDescription":"","configurationPanel.visualprops.includeMetrics._measure":"","configurationPanel.visualprops.includeMetrics._metric":"","configurationPanel.visualprops.includeMetricsHelp._measure":"","configurationPanel.visualprops.includeMetricsHelp._metric":"","configurationPanel.visualprops.descriptionPlaceholder":"","configurationPanel.drillIntoUrl.defaultButtonValue":"URL ","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"","configurationPanel.drillIntoUrl.customUrlSectionTitle":" URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":" URL ","configurationPanel.drillIntoUrl.editor.editUrlTitle":" URL ","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailType":"","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {} other {}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... {count} ","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"URL ","configurationPanel.drillIntoUrl.editor.helpButtonLabel":" URL ","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":" {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":" URL ","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":" URL ","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":" URL ","configurationPanel.zoomInsight":"","configurationPanel.zoomInsight.help":" Shift","configurationPanel.zoomInsight.notice":"","configurationPanel.drillConfig.selectInsight":"","gs.date.date-dataset.recommended":"","gs.date.date-dataset.other":"","gs.date.date-dataset.related":"","gs.date.date-dataset.unrelated":"","gs.date.date-dataset.unrelated_hidden":"{count}  {count, plural, one {} other {}} {isShow, select, true {} other {}}","gs.date.date-dataset.unrelated.show":"","gs.date.date-dataset.unrelated.hide":"","layout.widget.width.min":"","layout.widget.width.max":"","layout.widget.height.min":"","layout.widget.height.max":"","layout.widget.addedByPlugin":"","layout.widget.modifiedByPlugin":"","layout.widget.hideOverlay":"","dropzone.new.row.desc":"<b></b>{nbsp}","dropzone.widget.desc":"<b></b>","dropzone.widget.last.in.row.desc":"<b></b>","deleteKpiConfirmationDialog.headline":"KPI","deleteKpiConfirmationDialog.message":"KPI","deleteKpiConfirmationDialog.submitButtonText":"","newDashboard.title":"","newDashboard.dropInsight":"&","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong>  <strong>{childTitle}</strong>","attributesDropdown.attributeNameWithData":"","filter.visibilityMode.tooltip.hidden":"","filter.visibilityMode.tooltip.readonly.editMode":"","filter.visibilityMode.tooltip.readonly.viewMode":"","filter.resetButton.tooltip":"","dateFilterDropdown.save":"","filter.configuration.mode.title":"","filter.configuration.mode.interactive.title":"","filter.configuration.mode.interactive.tooltip":"","filter.configuration.mode.locked.title":"","filter.configuration.mode.locked.tooltip":"","filter.configuration.mode.hidden.title":"","filter.configuration.mode.hidden.tooltip":"","filter.dependency.icon.tooltip":"<strong>{filterTitle}</strong> "}'),GE=JSON.parse('{"loading":"Laden","untitled":"Zonder titel","empty_value":"lege waarde","gs.list.cancel":"Annuleren","gs.list.apply":"Toepassen","gs.list.only":"Alleen","messages.dashboardSaveSuccess":"Top. We hebben uw dashboard opgeslagen.","options.menu.save.as":"Opslaan als nieuw","options.menu.save.as.tooltip":"Leeg dashboard kan niet worden opgeslagen.","messages.dashboardSaveFailed":"Kon dashboard niet opslaan, probeer het later opnieuw.","messages.dashboard.invalidDrills.title":"<b>Sommige interacties zijn verwijderd</b>","messages.dashboard.invalidDrills.body.modern._measure":"Een of meer dashboards/inzichten/maten/attributen zijn gewijzigd of verwijderd waardoor bepaalde interacties zijn verwijderd uit de volgende widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Een of meer dashboards/inzichten/meetgegevens/attributen zijn gewijzigd of verwijderd waardoor bepaalde interacties zijn verwijderd uit de volgende widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Sommige \'inzoomen op URL\'-interacties zijn uitgeschakeld</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Sommige \'inzoomen op URL\'-interacties van de volgende widgets zijn uitgeschakeld vanwege wijzigingen in inzichtattributen: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Meer weergeven","messages.dashboard.expandable.showLess":"Minder weergeven","messages.drill.InteractionConfiguredSuccess":"Interactie geconfigureerd.","messages.drill.InteractionUpdatedSuccess":"Interactie bijgewerkt.","filterBar.showAll":"Alle tonen","filterBar.showLess":"Minder weergeven","options.menu.export.PDF":"Exporteren naar PDF","options.menu.schedule.email":"E-mail plannen","options.menu.delete":"Verwijderen","dialogs.export.cells":"CELLEN","dialogs.export.filters":"CONTEXT INZICHT","dialogs.export.includeFilters":"Inclusief toegepaste filters","dialogs.export.headline":"Exporteren naar XLSX","dialogs.export.mergeHeaders":"Attribuutcellen samengevoegd laten","dialogs.export.submit":"Exporteren","dialogs.schedule.email.delete.success":"Gelukt! Uw geplande e-mail is verwijderd.","dialogs.schedule.email.submit.success":"Gelukt! Uw dashboard is ingesteld om te mailen.","dialogs.schedule.email.submit.error":"Inplannen van dashboard mislukt. Probeer het later opnieuw.","dialogs.schedule.email.save.success":"Gelukt! Uw schema is opgeslagen.","dialogs.schedule.email.save.error":"Schema opslaan mislukt. Probeer het later opnieuw.","dialogs.save.as.new.title":"Dashboard als nieuw opslaan","dialogs.save.as.new.desc":"Geef uw nieuwe dashboard een beschrijvende naam zodat het later makkelijker te vinden is.","dialogs.save.as.new.default.title":"Kopie van {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Alarmen en e-mailschema\'s worden niet gedupliceerd","dialogs.save.as.new.alertsMessage":"Alarmen worden niet gedupliceerd","dialogs.save.as.new.emailsMessage":"E-mailschema\'s worden niet gedupliceerd","cancelConfirmationDialog.headline":"Wijzigingen wegdoen?","cancelConfirmationDialog.message":"Alle wijzigingen zullen verloren gaan","cancelConfirmationDialog.submitButtonText":"Wijzigingen wegdoen","deleteDashboardDialog.headline":"Dashboard verwijderen?","deleteDashboardDialog.submitButtonText":"Verwijderen","deleteDashboardDialog.alertsAndEmailsMessage":"Alle alarmen en ingeplande e-mails voor dit dashboard worden ook verwijderd.","deleteDashboardDialog.alertsMessage":"Alle ingestelde alarmen voor dit dashboard zullen ook worden verwijderd.","deleteDashboardDialog.emailsMessage":"Alle ingeplande e-mails voor dit dashboard worden ook verwijderd.","deleteDashboardDialog.drillMessage":"Alle detaillering voor dit dashboard van andere dashboards wordt verwijderd.","create.dashboard":"Dashboard maken","drill_modal_picker.drill-down":"Zoomen","drill_modal_picker.drill-into":"Inzoomen op","drill_modal_picker.more.details":"Meer details","drillModal.backToTop":"Terug naar boven","filters.allTime.previousPeriod":"vorige periode","filters.allTime.lastYear":"vorig jaar","filters.minute.previousPeriod":"vorige minuut","filters.hour.previousPeriod":"vorig uur","filters.day.previousPeriod":"vorige {n, plural, one {dag} other {#d}}","filters.week.previousPeriod":"vorige {n, plural, one {week} other {#w}}","filters.month.previousPeriod":"vorige {n, plural, one {maand} other {#m}}","filters.quarter.previousPeriod":"vorig {n, plural, one {kwartaal} other {#k}}","filters.year.previousPeriod":"vorig {n, plural, one {jaar} other {#j}}","filters.alertMessage.relativePreset":"in {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"in periode {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Er zijn meerdere filterconfiguraties voor de projectdatum gekoppeld aan dit project. De eerste is gebruikt.","filters.config.warning.multipleWorkspacesConfigs":"Er zijn meerdere filterconfiguraties voor de werkruimtedatum gekoppeld aan deze werkruimte. De eerste is gebruikt.","filters.config.warning.selectedFilterNotValid":"De standaard filteroptie is ongeldig, in plaats daarvan wordt de eerste beschikbare optie gebruikt.","filters.config.warning.allOptionsHidden":"De filterconfiguratie voor het dashboard werd genegeerd omdat deze alle filteropties zou hebben verborgen.","filters.config.warning.conflictingIdentifiers":"De filterconfiguratie voor het dashboard werd genegeerd omdat deze datumfilteropties met identieke identificators bevat.","filters.config.warning.notAvailable":"De filterconfiguratie voor de projectdatum is niet gedefinieerd of u hebt niet de machtigingen om deze te laden.","filters.config.warning.workspace.notAvailable":"De filterconfiguratie voor de werkruimtedatum is niet gedefinieerd of u hebt niet de machtigingen om deze te laden.","kpi.noData":"Geen data voor de huidige filterinstellingen. Probeer om de filters te wijzigen.","kpiPop.change":"Wijziging","dialogs.schedule.email.filters":"Dasboard bevat filterwijzigingen die worden opgeslagen in het schema.","dialogs.schedule.email.filters.not.saved":"Geen gevolgen voor dashboardfilters die zijn opgeslagen in het schema.","dialogs.schedule.email.attachment.filter":"(met momenteel ingestelde filters)","dialogs.schedule.email.attachment.label":"Bijlage:","dialogs.schedule.email.attachments.label":"Bijlagen:","dialogs.schedule.email.attachment.select":"Bijlagen selecteren","dialogs.schedule.email.attachment.select.disabled.message":"Dit dashboard bevat geen inzichten.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Inzichten (CSV, XLSX)","dialogs.schedule.email.headline":"Planning e-mailbezorging ","dialogs.schedule.email.heading":"Planning export","dialogs.schedule.email.message.label":"Bericht:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 ontvanger is afgemeld} other {# ontvangers zijn afgemeld}} van dit schema.","dialogs.schedule.email.repeats.label":"Herhalingen:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"op dag {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"op de {week, select, 1 {eerste} 2 {tweede} 3 {derde} 4 {vierde} other {laatste}} {day}","dialogs.schedule.email.repeats.every":"elke","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dag} other {dagen}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {maand} other {maanden}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {week} other {weken}}","dialogs.schedule.email.repeats.types.custom":"Aangepast","dialogs.schedule.email.repeats.types.daily":"Dagelijks","dialogs.schedule.email.repeats.types.monthly":"Maandelijks op de {week, select, 1 {eerste} 2 {tweede} 3 {derde} 4 {vierde} other {laatste}} {day}","dialogs.schedule.email.repeats.types.weekly":"Wekelijks op {day}","dialogs.schedule.email.subject.label":"Onderwerp:","dialogs.schedule.email.time.label":"Eerste keer:","dialogs.schedule.email.to.label":"Aan:","dialogs.schedule.email.message.placeholder":"Hallo,\\n\\nUw geplande e-mail is klaar. U kunt het dashboard in bijlagen downloaden.","dialogs.schedule.email.submit":"Plan","dialogs.schedule.email.save":"Opslaan","dialogs.schedule.email.format.options":"Opmaakopties","dialogs.schedule.email.insight.format":"Indeling inzicht:","dialogs.schedule.email.attribute.merged":"Attribuutcellen samengevoegd laten","dialogs.schedule.email.show.filters":"Tonen welke filters zijn toegepast","dialogs.schedule.management.title":"Planning exports","dialogs.schedule.management.delete":"Verwijder het schema.","dialogs.schedule.management.delete.dialog":"Schema verwijderen?","dialogs.schedule.management.delete.dialog.confirm":"<b>Het schema</b> wordt voorgoed verwijderd.","dialogs.schedule.management.noSchedules":"Het dashboard bevat geen geplande exports.{br}Voeg er nu een toe.","dialogs.schedule.management.noSchedules.byUser":"U hebt nog geen geplande exports.{br}Voeg er nu een toe.","dialogs.schedule.management.addSchedule":"Schema toevoegen","dialogs.schedule.management.recipients":"{n, plural, one {# ontvanger} other {# ontvangers}}","dialogs.schedule.management.recipients.onlyYou":"Alleen u","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# inzicht} other {# inzichten}}","dialogs.schedule.management.attachments.mixed":"Dashboard en {n, plural, one {# inzicht} other {# inzichten}}","dialogs.schedule.management.load.error":"Laden mislukt. Probeer het later opnieuw.","dialogs.schedule.management.delete.error":"Verwijderen planning mislukt. Probeer het later opnieuw.","dialogs.schedule.management.tab.all":"alle","dialogs.schedule.management.tab.user":"door mij aangemaakt","options.menu.schedule.email.recipient.invalid":"Dit is geen geldig e-mailadres.","options.menu.schedule.email.recipient.warning.existed":"U hebt deze ontvanger al toegevoegd.","options.menu.schedule.email.recipient.warning.belong.workspace":"Het e-mailadres hoort niet bij deze werkruimte. De ontvanger ontvangt mogelijk vertrouwelijke gegevens.","options.menu.schedule.email.recipient.external.not.allowed":"Het e-mailadres hoort niet bij deze werkruimte. Alleen de auteur van het schema mag dit e-mailadres toevoegen.","delete":"Verwijderen","close":"Sluiten","cancel":"Annuleren","gs.date.at":"bij","gs.date.today":"Vandaag","gs.date.tomorrow":"Morgen","gs.date.yesterday":"Gisteren","kpi.alertBox.title":"Een alarm voor de KPI-wijziging instellen","kpi.alertBox.example":"bijv.","kpi.alertBox.unverifiedEmail":"Sorry, u kunt geen alarm instellen. Zorg ervoor dat uw e-mailadres is geverifieerd. Als dit niet helpt, vraag uw beheerder dan om uw machtigingen bij te werken.","kpi.alertBox.disabledInReadOnly":"Alarmen zijn uitgeschakeld in alleen-lezen","kpi.error.view":"KPI kan niet worden weergegeven. Neem contact op met uw beheerder om de KPI-definitie te corrigeren.","kpiAlertDialog.delete":"Verwijderen","kpiAlertDialog.deleting":"Verwijderen","kpiAlertDialog.emailMe":"E-mail mij","kpiAlertDialog.emailMeWhen":"{emailMe} wanneer deze KPI wordt","kpiAlertDialog.emailInfo":"De e-mail zal worden verstuurd naar {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Dit nummer is ongeldig.</strong>{br}Controleer het nogmaals en probeer het opnieuw.","kpiAlertDialog.filtersDiffer":"De KPI wordt nu anders gefilterd dan wanneer het alarm werd ingesteld.","kpiAlertDialog.filtersApply":"Alarmfilters op het dashboard toepassen","kpiAlertDialog.savingFailed":"Alamr kon niet worden opgeslagen. Probeer het opnieuw.","kpiAlertDialog.deleteingFailed":"Het alarm kon niet worden verwijderd. Probeer het opnieuw.","kpiAlertDialog.brokenAlert":"Niet-nagekomen waarschuwing","kpiAlertDialog.brokenAlertAppeal":"Om de juist KPI-waarde te zien moet u de filters in deze waarschuwing bijwerken. U kunt de waarschuwing ook verwijderen.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Datum","kpiAlertDialog.removedFilters":"Filters verwijderd uit dashboard","kpiAlertDialog.ignoredFilters":"Geen rekening gehouden met de filters voor deze kpi","kpiAlertDialog.updateTitle":"Update","kpiAlertDialog.updateBrokenTitle":"Filters bijwerken","kpiAlertDialog.updatingTitle":"Updaten","kpiAlertDialog.updateBrokenFailed":"Filters bijwerken mislukt. Probeer het opnieuw.","kpiAlertDialog.setTitle":"Alarm instellen","kpiAlertDialog.settingTitle":"Instellen","kpiAlertDialog.threshold.above":"boven","kpiAlertDialog.threshold.below":"onder","kpiAlertDialog.withAttributeFilters":"{numFilters} meer {numFilters, select, 1 {filter} other {filters}} toegepast","messages.exportResultError":"Exporteren van gegevens is mislukt. Probeer het later opnieuw.","messages.exportResultRestrictedError":"U kunt dit inzicht niet exporteren omdat het beperkte gegevens bevat.","messages.exportResultStart":"Bezig met exporteren","messages.exportResultSuccess":"Exporteren geslaagd.","messages.sharingChangedSuccess":"Delen bijgewerkt.","messages.sharingChangedError.general":"Bijwerken van instellingen voor delen konden niet worden bijgewerkt. Probeer het later opnieuw.","messages.sharingDialogError.general":"Laden van instellingen voor delen mislukt. Probeer het later opnieuw.","visualization.dataTooLarge.headline":"Te veel datapunten om weer te geven","visualization.dataTooLarge.text":"Probeer om een of meerdere filters op uw dashboard toe te passen.","visualization.execute_protected_report.headline":"U bent niet gemachtigd om dit rapport te bekijken","visualization.execute_protected_report.text":"Neem contact op met uw beheerder.","visualization.alert_not_supported":"Alarmen worden niet ondersteund voor de statische datumperiode","visualization.empty.headline":"Geen data voor uw filterselectie","visualization.error.headline":"Sorry, we kunnen dit inzicht niet weergeven","visualization.error.text":"Neem contact op met uw beheerder.","options.button.bubble":"Inzichtgegevens exporteren","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"U kunt het inzicht momenteel niet exporteren. Probeer verschillende filters toe te passen of verschillende maten of attributen te gebruiken.","options.menu.unsupported.error._metric":"Het inzicht kan momenteel niet worden gexporteerd. Probeer verschillende filters toe te passen of diverse meetgegevens of attributen te gebruiken.","options.menu.unsupported.loading":"U kunt het inzicht momenteel niet exporteren.","export.defaultTitle":"Inzicht zonder naam","export_unsupported.disabled":"Exporteren wordt niet ondersteund","widget.options.menu.exportToCSV":"Exporteren naar CSV","widget.options.menu.exportToXLSX":"Exporteren naar XLSX","widget.options.menu.scheduleExport":"Planning export","share.button.text":"Deel","dashboard.error.empty.heading":"Dit dashboard is leeg","dashboard.error.empty.text":"Alle inzichten zijn verwijderd.","dashboard.shareDialog.underLenientControl.label":"Andere gebruikers hebben toegang tot dit dashboard als ze erop inzoomen","dashboard.shareDialog.lock.label":"Alleen beheerders kunnen dit dashboard bewerken","header.lockStatus.tooltip":"<b>Dit dashboard is vergrendeld.</b> Alleeb beheerders kunnen dit dashboard bewerken.","header.shareStatus.private.text":"Priv","header.shareStatus.private.strict.tooltip":"Alleen u kunt dit dashboard bekijken en bewerken.","header.shareStatus.private.not.strict.tooltip":"De maker kan dit dashboard bewerken. Andere gebruikers met geschikte gebruikersrollen kunnen dit dashboard bewerken als ze erop inzoomen.","dashboard.shareDialog.removeAccessGranteeTooltip":"Verwijder de toegang tot dit dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"De gebruiker die dit dashboard heeft gemaakt. Makers kunnen niet worden verwijderd.","attributesDropdown.placeholder":"Zoeken","attributesDropdown.configuration":"Configuratie","attributesDropdown.itemsFiltered":"Items zijn gefilterd","attributesDropdown.allItemsFiltered":"Alle items zijn uitgefilterd","attributesDropdown.itemsFiltered.tooltip":"Items zijn gefilterd op: <strong>{filters}</strong> ","attributesDropdown.save":"Opslaan","attributesDropdown.filterBy":"Filteren volgens","attributesDropdown.displayValuesAs":"Waarden weergeven als","attributesDropdown.title":"titel","attributesDropdown.title.reset":"Reset","attributesDropdown.selectionMode":"Selectie","attributesDropdown.selectionMode.multi":"Meerdere waarden","attributesDropdown.selectionMode.single":"Enkele waarde","attributesDropdown.selectionMode.disabled.tooltip":"Selectie van enkele waarde is niet toegestaan als filters worden geselecteerd in Filteren op. Schakel om de selectie van een enkele waarde te gebruiken alle filters uit in Filteren op.","attributesDropdown.parentFilter.disabled.tooltip":"Filteren op andere filters is uitgeschakeld voor de selectie van een enkele waarde. Om Filteren op in te stellen, selecteert u de selectie van meerdere waarden.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> kan niet worden gefilterd op <strong>{parentTitle}</strong>. Er is geen verbinding tussen de filterattributen in het gegevensmodel.","attributesDropdown.details.dataset":"Dataset","attributesDropdown.details.values":"Waarden","attributesDropdown.details.shortening_decoration":"en {count} meer","attributesDropdown.removeTooltip":"Verwijderen van dashboard","layout.header.characters.left":"Nog {currentCharactersCount} / {maximumCharactersCount} tekens","layout.header.add.title.placeholder":"Titel hier toevoegen...","layout.header.add.description.placeholder":"Beschrijving hier toevoegen...","error":"Fout","controlButtons.edit.value":"Bewerken","controlButtons.saveAndPublish.value":"Opslaan & publiceren","controlButtons.save.value":"Opslaan","controlButtons.saveAndPublish.title":"Alle wijzigingen zijn meteen zichtbaar voor iedereen die toegang heeft tot dit dashboard.","controlButtons.saveAsPrivate.title":"Alle wijzigingen worden opgeslagen.","controlButtons.saveAndPublish.disable.empty.title":"Een leeg dashboard kan niet worden opgeslagen","controlButtons.saveAndPublish.disable.noChanges.title":"Er zijn geen wijzigingen om op te slaan","controlButtons.saving.value":"Opslaan","gs.visualizationsList.tabs.all":"alle","gs.visualizationsList.tabs.my":"door mij aangemaakt","visualizationsList.noInsights":"Deze werkruimte bevat geen inzichten.","visualizationsList.create":"Inzicht maken","visualizationsList.noUserInsights":"Geen inzichten gemaakt.","visualizationsList.noVisualizationsFound":"Geen overeenkomstig inzicht.","search_insights":"Alle doorzoeken","save.as.new":"Opslaan als nieuw","addPanel.deleteItem":"Laat los om te verwijderen","addPanel.newItem":"Nieuw item","addPanel.attributeFilter":"Kenmerkfilter","addPanel.attributeFilter.tooltip.no_attributes":"Het attributenfilter vereist een attribuut.","addPanel.attributeFilter.tooltip.no_attributes.link":"Meer weten","addPanel.kpi":"Key Performance Indicator","addPanel.kpi.tooltip.no_measures._measure":"De Key Performance Indicator vereist een berekende maat.","addPanel.kpi.tooltip.no_measures._metric":"De Key Performance Indicator vereist meetgegevens.","addPanel.kpi.tooltip.no_measures.link":"Meer weten","visualizationsList.dragToAdd":"Versleep om toe te voegen","visualizationsList.savedVisualizations":"Opgeslagen inzichten","configurationPanel.drillConfig.selectDashboard":"Dashboard kiezen","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Zoeken in alle dashboards","configurationPanel.drillConfig.forbiddenDashboard":"(Niet gedeeld met u)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"Dashboard is niet gedeeld met u, maar andere gebruikers hebben toegang tot dit dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"Dashboard is niet gedeeld met u, maar andere gebruikers hebben er toegang tot als zij inzoomen.","configurationPanel.remove.form.dashboard":"Verwijderen van dashboard","filterBar.filter.drop":"laat los om toe te voegen","filterBar.filter.addFilterPlaceholder":"Sleep {icon} hierheen","filterBar.filter.dropzone.tooltip":"Sleep het attributenfilter hierheen.","configurationPanel.title":"Configuratie","configurationPanel.comparison":"Vergelijking","configurationPanel.compareWith":"Vergelijken met","configurationPanel.increasingNumberIs":"Stijgend aantal is","configurationPanel.comparisonTypeItems.previousPeriod":"Vorige periode","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Dezelfde periode in het vorige jaar","configurationPanel.comparisonTypeItems.noComparison":"Geen vergelijking","configurationPanel.comparisonDirectionItems.green":"Groen","configurationPanel.comparisonDirectionItems.red":"Rood","configurationPanel.unlistedMetric._measure":"Niet-vermelde maat","configurationPanel.unlistedMetric._metric":"Niet-weergegeven meetgegevens","configurationPanel.unlistedMetricIconTitle._measure":"Deze maat is verborgen en is alleen voor u zichtbaar.","configurationPanel.unlistedMetricIconTitle._metric":"Deze meetgegevens zijn verborgen en alleen voor u zichtbaar.","configurationPanel.selectMeasurePlaceholder._measure":"Maat selecteren","configurationPanel.selectMeasurePlaceholder._metric":"Meetgegevens selecteren","configurationPanel.selectComparisonPlaceholder":"Vergelijking selecteren","configurationPanel.selectComparisonDirectionPlaceholder":"Positief/negatief selecteren","configurationPanel.measure._measure":"Maat","configurationPanel.measure._metric":"Meetgegeven","configurationPanel.filterBy":"Filteren volgens","configurationPanel.date":"Datum","configurationPanel.dateAs":"als","configurationPanel.vizCantBeFilteredByAttribute":"Het inzicht kan niet worden gefilterd op {attributeName}, verwijder het keuzevinkje.","configurationPanel.kpiCantBeFilteredByAttribute":"De KPI kan niet worden gefilterd op {attributeName}. Vink het selectievakje af.","configurationPanel.vizCantBeFilteredByDate":"Het Inzicht kan niet worden gefilterd volgens Datum, verwijder het keuzevinkje.","configurationPanel.kpiCantBeFilteredByDate":"De KPI kan niet worden gefilterd op Datum. Vink het selectievakje af.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" kan niet langer op het inzicht worden toegepast. Selecteer een andere dimensie of bewerk het inzicht.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" kan niet langer op de KPI worden toegepast. Selecteer een andere dimensie of bewerk de KPI.","configurationPanel.breakAlertWarning":"\\n            Gebruikers hebben {numAlerts} {numAlerts, select, 1 {alarm} other {alarmen}}\\n            ingesteld voor deze KPI. Het aanpassen van de KPI heeft gevolgen voor {numAlerts, select, 1 {dit alarm} other {deze alarmen}}.\\n","configurationPanel.drillIntoDashboard":"Drill in dashboard","configurationPanel.noLinkableDashboards":"Geen dashboard om te linken","configurationPanel.selectDashboard":"Een dashboard selecteren","configurationPanel.interactions":"Interacties","configurationPanel.drillConfig.interactions":"Inzoomen-interacties","configurationPanel.drillConfig.addInteraction":"Interactie toevoegen","configurationPanel.drillConfig.clickHint":"Als ik klik op","configurationPanel.drillConfig.measureValue._measure":"Waarde van maat","configurationPanel.drillConfig.measureValue._metric":"Waarde van meetgegevens","configurationPanel.drillConfig.attributeValue":"Waarde van attribuut","configurationPanel.drillConfig.selectTarget":"Ik wil","configurationPanel.drillConfig.clickHintItem":"Als ik klik op <addon>(waarde van)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Drill in dashboard","configurationPanel.drillConfig.drillIntoInsight":"Inzoomen op inzicht","configurationPanel.drillConfig.drillDown":"Zoomen","configurationPanel.drillConfig.disableDrillDownTooltip":"Zoomen is uitgeschakeld in de configuratie van dit inzicht.","configurationPanel.drillConfig.drillIntoUrl":"Inzoomen op URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Ongeldige URL-parameters","configurationPanel.drillConfig.select":"Actie kiezen","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"De datum-attribuutwaarde van het inzicht wordt niet overgedragen om het doel-dashboard te filteren.","configurationPanel.unlistedDashboardTab":"Niet-vermeld dashboard","configurationPanel.visualprops.sectionTitle":"titel","configurationPanel.visualprops.hideTitle":"Titel verbergen","configurationPanel.visualprops.sectionDescription":"Beschrijving","configurationPanel.visualprops.inheritDescription":"Erven","configurationPanel.visualprops.inheritDescriptionHelp":"Erf de beschrijving van het inzicht.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Erf de beschrijving van de meetgegevens.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Erf de beschrijving van de maat.","configurationPanel.visualprops.customDescription":"Aangepast","configurationPanel.visualprops.customDescriptionHelp":"Voeg een aangepaste beschrijving toe voor dit exemplaar van het inzicht.","configurationPanel.visualprops.customKpiDescriptionHelp":"Voeg een aangepaste beschrijving toe.","configurationPanel.visualprops.noneDescription":"Geen","configurationPanel.visualprops.includeMetrics._measure":"Beschrijvingen van maten insluiten","configurationPanel.visualprops.includeMetrics._metric":"Beschrijvingen van meetgegevens insluiten","configurationPanel.visualprops.includeMetricsHelp._measure":"Weergavegedeelte met lijst met maten van het inzicht en de beschrijvingen ervan.","configurationPanel.visualprops.includeMetricsHelp._metric":"Weergavegedeelte met lijst met meetgegevens van het inzicht en de beschrijvingen ervan.","configurationPanel.visualprops.descriptionPlaceholder":"Beschrijving toevoegen","configurationPanel.drillIntoUrl.defaultButtonValue":"URL kiezen","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hyperlink in attributenlabel","configurationPanel.drillIntoUrl.customUrlSectionTitle":"Aangepaste URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Aangepaste URL toevoegen","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Aangepaste URL bewerken","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parameters","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Parameters en tijdelijke aanduidingen die worden vervangen door dynamische waarden tijdens het inzoomen.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Toevoegen","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Type","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Label","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {waarde} other {waarden}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...en nog {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"Inzicht-ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"Client-ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"Gegevensproduct-ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"Project-ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"Werkruimte-ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"Widget-ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"Dashboard-ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificator","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Inzicht","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identifiers","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Toepassen","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Annuleren","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Voer de URL in en voeg parameters toe vanuit het rechterpaneel.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Hoe kan ik aangepaste URL\'s maken?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Ongeldige parameters: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Aangepaste URL toevoegen","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Aangepaste URL bewerken","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Waarde attributenlabel","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Waarde attribuut-geo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Waarde attribuut-URL","configurationPanel.zoomInsight":"Zoombaar inzicht","configurationPanel.zoomInsight.help":"Schakel inzoomen op het inzicht in voor een gedetailleerd overzicht. Houd de Shift-toets ingedrukt om het ingezoomde gebied zijwaarts te schuiven.","configurationPanel.zoomInsight.notice":"Zoomen wordt niet toegepast op gexporteerde dashboards","configurationPanel.drillConfig.selectInsight":"Inzicht kiezen","gs.date.date-dataset.recommended":"Aanbevolen","gs.date.date-dataset.other":"Overige","gs.date.date-dataset.related":"Verwant","gs.date.date-dataset.unrelated":"Niet verwant","gs.date.date-dataset.unrelated_hidden":"{count} ongerelateerde {count, plural, one {datum} other {datums}} {isShow, select, true {zichtbaar} other {verborgen}}.","gs.date.date-dataset.unrelated.show":"Tonen","gs.date.date-dataset.unrelated.hide":"Verbergen","layout.widget.width.min":"Widget heeft de minimale breedte","layout.widget.width.max":"Widget heeft de maximale breedte","layout.widget.height.min":"Widget heeft de minimale hoogte","layout.widget.height.max":"Widget heeft de maximale hoogte","layout.widget.addedByPlugin":"Toegevoegd door plugin","layout.widget.modifiedByPlugin":"Aangepast door plugin","layout.widget.hideOverlay":"Overlay verbergen","dropzone.new.row.desc":"Op de <b>nieuwe sectie</b> laten vallen","dropzone.widget.desc":"<b>Hier</b> laten vallen","dropzone.widget.last.in.row.desc":"Op de <b>bestaande sectie</b> laten vallen","deleteKpiConfirmationDialog.headline":"KPI verwijderen","deleteKpiConfirmationDialog.message":"Alle ingestelde alarmen voor deze KPI zullen ook worden verwijderd.","deleteKpiConfirmationDialog.submitButtonText":"Verwijderen","newDashboard.title":"Inzicht hierheen slepen","newDashboard.dropInsight":"Inzicht laten vallen","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> is al gefilterd op <strong>{childTitle}</strong>, rechtstreeks of via andere filters.","attributesDropdown.attributeNameWithData":"met gegevens van","filter.visibilityMode.tooltip.hidden":"Dit filter is verborgen. Het is alleen toegankelijk via de bewerkingsmodus.","filter.visibilityMode.tooltip.readonly.editMode":"Dit filter is vergrendeld. U kunt het alleen wijzigen via de bewerkingsmodus.","filter.visibilityMode.tooltip.readonly.viewMode":"Dit filter is vergrendeld.","filter.resetButton.tooltip":"Alle filters herstellen","dateFilterDropdown.save":"Opslaan","filter.configuration.mode.title":"Modus","filter.configuration.mode.interactive.title":"Interactief","filter.configuration.mode.interactive.tooltip":"Dashboard-gebruikers kunnen he filter zien en wijzigen.","filter.configuration.mode.locked.title":"Vergrendeld","filter.configuration.mode.locked.tooltip":"Dashboard-gebruikers kunnen het filter zien maar niet wijzigen.","filter.configuration.mode.hidden.title":"Verborgen","filter.configuration.mode.hidden.tooltip":"Dashboard-gebruikers kunnen het filter niet zien maar het wordt wel toegepast.","filter.dependency.icon.tooltip":"Beschikbare waarden voor <strong>{filterTitle}</strong> worden beperkt door selectie in een ander filter."}'),jE=JSON.parse('{"loading":"Carregando","untitled":"Sem ttulo","empty_value":"valor vazio","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"S","messages.dashboardSaveSuccess":"timo. Salvamos seu dashboard.","options.menu.save.as":"Salvar como novo","options.menu.save.as.tooltip":"No  possvel salvar dashboards vazios.","messages.dashboardSaveFailed":"Falha ao salvar painel. Tente novamente.","messages.dashboard.invalidDrills.title":"<b>Algumas interaes foram removidas</b>","messages.dashboard.invalidDrills.body.modern._measure":"Um ou mais dashboards/insights/medidas/atributos foram alterados ou excludos, causando a remoo de algumas interaes dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Um ou mais dashboards/insights/mtricas/atributos foram alterados ou excludos, causando a remoo de algumas interaes dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Algumas interaes de detalhamento da URL foram desativadas</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Algumas interaes de detalhamento da URL nos widgets a seguir foram desativadas por causa das alteraes nos atributos do insight: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Exibir mais","messages.dashboard.expandable.showLess":"Exibir menos","messages.drill.InteractionConfiguredSuccess":"Interao configurada.","messages.drill.InteractionUpdatedSuccess":"Interao atualizada.","filterBar.showAll":"Exibir tudo","filterBar.showLess":"Exibir menos","options.menu.export.PDF":"Exportar para PDF","options.menu.schedule.email":"Agendar envio por e-mail","options.menu.delete":"Excluir","dialogs.export.cells":"CLULAS","dialogs.export.filters":"CONTEXTO DO INSIGHT","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar para XLSX","dialogs.export.mergeHeaders":"Manter clulas de atributo mescladas","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"Sucesso! Seu e-mail agendado foi excludo.","dialogs.schedule.email.submit.success":"Sucesso! Seu painel est agendado para envio por e-mail.","dialogs.schedule.email.submit.error":"Erro ao agendar o painel. Tente novamente mais tarde.","dialogs.schedule.email.save.success":"Sucesso! Seu agendamento foi salvo.","dialogs.schedule.email.save.error":"No foi possvel salvar o agendamento. Tente novamente mais tarde.","dialogs.save.as.new.title":"Salvar dashboard como novo","dialogs.save.as.new.desc":"D um nome descritivo ao seu novo dashboard para que seja mais fcil localiz-lo depois.","dialogs.save.as.new.default.title":"Copiar de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"As programaes de alertas e e-mails no sero duplicadas.","dialogs.save.as.new.alertsMessage":"Os alertas no sero duplicados","dialogs.save.as.new.emailsMessage":"Os agendamentos de e-mail no sero duplicados","cancelConfirmationDialog.headline":"Descartar alteraes?","cancelConfirmationDialog.message":"Todas as alteraes sero perdidas","cancelConfirmationDialog.submitButtonText":"Descartar alteraes","deleteDashboardDialog.headline":"Excluir painel?","deleteDashboardDialog.submitButtonText":"Excluir","deleteDashboardDialog.alertsAndEmailsMessage":"Todos os alertas e e-mails agendados configurados para este painel tambm sero excludos.","deleteDashboardDialog.alertsMessage":"Todos os alertas configurados para este painel tambm sero excludos.","deleteDashboardDialog.emailsMessage":"Todos os e-mails programados para este dashboard tambm sero excludos.","deleteDashboardDialog.drillMessage":"Todos os detalhamentos de outros painis dentro deste painel sero removidos.","create.dashboard":"Criar dashboard","drill_modal_picker.drill-down":"Detalhamento aprofundado","drill_modal_picker.drill-into":"Detalhar","drill_modal_picker.more.details":"Mais detalhes","drillModal.backToTop":"Voltar ao incio","filters.allTime.previousPeriod":"perodo ant.","filters.allTime.lastYear":"ano anter.","filters.minute.previousPeriod":"minuto anter.","filters.hour.previousPeriod":"hora anter.","filters.day.previousPeriod":"{n, plural, one {dia} other {#d}} ant.","filters.week.previousPeriod":"{n, plural, one {semana} other {#s}} ant.","filters.month.previousPeriod":"{n, plural, one {ms} other {#m}} ant.","filters.quarter.previousPeriod":"{n, plural, one {trimestre} other {#t}} ant.","filters.year.previousPeriod":"{n, plural, one {ano} other {#a}} ant.","filters.alertMessage.relativePreset":"em {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"no perodo de {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"H mais de uma configurao de filtro de data associada a este projeto. O primeiro foi usado.","filters.config.warning.multipleWorkspacesConfigs":"H mais de uma configurao de filtro de data associada a este espao de trabalho. O primeiro foi usado.","filters.config.warning.selectedFilterNotValid":"A opo de filtro padro no  vlida. Use a primeira opo disponvel.","filters.config.warning.allOptionsHidden":"A configurao do filtro de data do painel foi ignorada porque teria ocultado todas as opes de filtro.","filters.config.warning.conflictingIdentifiers":"A configurao do filtro de data do dashboard foi ignorada porque contm opes de filtro de data com identificadores idnticos.","filters.config.warning.notAvailable":"A configurao do filtro de data do projeto no foi definida ou voc no tem as permisses para acess-la.","filters.config.warning.workspace.notAvailable":"A configurao do filtro de data do espao de trabalho  no foi definida ou voc no tem as permisses para acess-la.","kpi.noData":"Sem dados para configuraes atuais do filtro. Tente alterar os filtros.","kpiPop.change":"alterado","dialogs.schedule.email.filters":"O dashboard contm alteraes no filtro que sero salvas conforme o agendamento.","dialogs.schedule.email.filters.not.saved":"Filtros de dashboard salvos conforme o agendamento no sero afetados.","dialogs.schedule.email.attachment.filter":"(com filtros definidos)","dialogs.schedule.email.attachment.label":"Anexar:","dialogs.schedule.email.attachments.label":"Anexos:","dialogs.schedule.email.attachment.select":"Selecionar anexos","dialogs.schedule.email.attachment.select.disabled.message":"Este dashboard no contm insights.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Insights (CSV, XLSX)","dialogs.schedule.email.headline":"Agendar entrega de e-mail","dialogs.schedule.email.heading":"Agendar exportao","dialogs.schedule.email.message.label":"Mensagem:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 destinatrio descadastrado} other {# destinatrios descadastrados}} deste agendamento.","dialogs.schedule.email.repeats.label":"Repeties:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"no dia {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"ao {week, select, 1 {primeira} 2 {segunda} 3 {terceira} 4 {quarta} other {ltima}} {day}","dialogs.schedule.email.repeats.every":"a cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dia} other {dias}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {ms} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diariamente","dialogs.schedule.email.repeats.types.monthly":"Mensalmente ao {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {ltimo}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente s {day}","dialogs.schedule.email.subject.label":"Assunto:","dialogs.schedule.email.time.label":"Primeira ocorrncia:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Ol,\\n\\nSeu e-mail agendado est pronto. Voc pode baixar o dashboard nos anexos.","dialogs.schedule.email.submit":"Agendar","dialogs.schedule.email.save":"Salvar","dialogs.schedule.email.format.options":"Opes de formato","dialogs.schedule.email.insight.format":"Formato de insight:","dialogs.schedule.email.attribute.merged":"Manter clulas de atributo mescladas","dialogs.schedule.email.show.filters":"Mostrar que filtros so aplicados","dialogs.schedule.management.title":"Exportaes agendadas","dialogs.schedule.management.delete":"Excluir o agendamento.","dialogs.schedule.management.delete.dialog":"Excluir agendamento?","dialogs.schedule.management.delete.dialog.confirm":"<b>O agendamento</b> ser excludo permanentemente.","dialogs.schedule.management.noSchedules":"Este dashboard no contm exportaes agendadas.{br}Adicione uma agora.","dialogs.schedule.management.noSchedules.byUser":"Voc ainda no agendou nenhuma exportao.{br}Adicione uma agora.","dialogs.schedule.management.addSchedule":"Adicionar agendamento","dialogs.schedule.management.recipients":"{n, plural, one {# recipiente} other {# recipientes}}","dialogs.schedule.management.recipients.onlyYou":"Apenas voc","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.attachments.mixed":"Dashboard e {n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.load.error":"No foi possvel carregar. Tente novamente mais tarde.","dialogs.schedule.management.delete.error":"No foi possvel excluir o agendamento. Tente novamente mais tarde.","dialogs.schedule.management.tab.all":"todos","dialogs.schedule.management.tab.user":"criado por mim","options.menu.schedule.email.recipient.invalid":"Este no  um endereo de e-mail vlido.","options.menu.schedule.email.recipient.warning.existed":"Voc j adicionou este destinatrio.","options.menu.schedule.email.recipient.warning.belong.workspace":"Este endereo de e-mail no pertence a este espao de trabalho. O destinatrio pode receber dados sigilosos.","options.menu.schedule.email.recipient.external.not.allowed":"Este endereo de e-mail no pertence a este espao de trabalho. Apenas o autor do agendamento pode adicionar este endereo de e-mail.","delete":"Excluir","close":"Fechar","cancel":"Cancelar","gs.date.at":"em","gs.date.today":"Hoje","gs.date.tomorrow":"Amanh","gs.date.yesterday":"Ontem","kpi.alertBox.title":"Definir alerta na alterao de KPI","kpi.alertBox.example":"p. ex.,","kpi.alertBox.unverifiedEmail":"Infelizmente, voc no pode definir um alerta. Garanta que seu e-mail seja verificado. Se isso no ajudar, pea para o administrador atualizar suas permisses.","kpi.alertBox.disabledInReadOnly":"Os alertas esto desabilitados no modo somente leitura","kpi.error.view":"No  possvel exibir o KPI. Entre em contato com seu administrador para corrigir a definio do KPI.","kpiAlertDialog.delete":"Excluir","kpiAlertDialog.deleting":"Excluindo","kpiAlertDialog.emailMe":"Enviar-me e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} quando este KPI for","kpiAlertDialog.emailInfo":"O e-mail ser enviado para {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Nmero invlido.</strong>{br}Verifique e tente novamente.","kpiAlertDialog.filtersDiffer":"O KPI foi filtrado de outra maneira em relao a quando o alerta foi configurado.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta ao painel","kpiAlertDialog.savingFailed":"Falha ao salvar alerta. Tente novamente.","kpiAlertDialog.deleteingFailed":"Falha ao excluir alerta. Tente novamente.","kpiAlertDialog.brokenAlert":"Alerta interrompido","kpiAlertDialog.brokenAlertAppeal":"Para ver o valor KPI correcto, atualize os filtros nesta alerta. Voc tambm poder remover o alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Data","kpiAlertDialog.removedFilters":"Filtros removidos do painel","kpiAlertDialog.ignoredFilters":"Filtros ignorados por este KPI","kpiAlertDialog.updateTitle":"Atualizar","kpiAlertDialog.updateBrokenTitle":"Atualizar filtros","kpiAlertDialog.updatingTitle":"Atualizando","kpiAlertDialog.updateBrokenFailed":"Falha ao atualizar os filtros. Tente novamente.","kpiAlertDialog.setTitle":"Definir alerta","kpiAlertDialog.settingTitle":"Definindo","kpiAlertDialog.threshold.above":"acima","kpiAlertDialog.threshold.below":"abaixo","kpiAlertDialog.withAttributeFilters":"{numFilters} mais {numFilters, select, 1 {filtro aplicado} other {filtros aplicados}}","messages.exportResultError":"Falha ao exportar os dados. Tente novamente.","messages.exportResultRestrictedError":"Voc no pode exportar esse insight porque ele contm dados restritos.","messages.exportResultStart":"Exportao em curso","messages.exportResultSuccess":"Exportao concluda com sucesso.","messages.sharingChangedSuccess":"Compartilhamento atualizado.","messages.sharingChangedError.general":"No foi possvel atualizar as configuraes do compartilhamento. Tente novamente mais tarde.","messages.sharingDialogError.general":"No foi possvel carregar as configuraes do compartilhamento. Tente novamente mais tarde.","visualization.dataTooLarge.headline":"Muitos pontos de dados a serem exibidos","visualization.dataTooLarge.text":"Tente aplicar um ou mais filtros ao seu painel.","visualization.execute_protected_report.headline":"Voc no tem autorizao para ver este relatrio","visualization.execute_protected_report.text":"Entre em contato com seu administrador.","visualization.alert_not_supported":"No h suporte para alertas no perodo de datas esttico","visualization.empty.headline":"Sem dados para seleo de filtro","visualization.error.headline":"Lamentamos, no  possvel exibir este insight","visualization.error.text":"Entre em contato com seu administrador.","options.button.bubble":"Exportar dados do insight","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"O insight no pode ser exportado no momento. Tente aplicar filtros diferentes, ou usar medidas e atributos diferentes.","options.menu.unsupported.error._metric":"No  possvel exportar o insight no momento. Tente aplicar outros filtros ou usar mtricas ou atributos diferentes.","options.menu.unsupported.loading":"O insight no pode ser exportado no momento.","export.defaultTitle":"Insight sem ttulo","export_unsupported.disabled":"Exportao no  compatvel.","widget.options.menu.exportToCSV":"Exportar para CSV","widget.options.menu.exportToXLSX":"Exportar para XLSX","widget.options.menu.scheduleExport":"Agendar exportao","share.button.text":"Compartilhar","dashboard.error.empty.heading":"Dashboard vazio","dashboard.error.empty.text":"Todos os insights foram removidos.","dashboard.shareDialog.underLenientControl.label":"Outros usurios podem acessar o dashboard pelo detalhamento","dashboard.shareDialog.lock.label":"Somente administradores podem editar o dashboard","header.lockStatus.tooltip":"<b>Dashboard bloqueado.</b> Somente administradores podem edit-lo.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"Somente voc pode ver e editar o dashboard.","header.shareStatus.private.not.strict.tooltip":"O criador no consegue editar este dashboard. Outros usurios com funes apropriadas podero edit-lo no detalhamento.","dashboard.shareDialog.removeAccessGranteeTooltip":"Remover acesso a este dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"O usurio que criou o dashboard. No  possvel remover os criadores.","attributesDropdown.placeholder":"Pesquisar atributos","attributesDropdown.configuration":"Configurao","attributesDropdown.itemsFiltered":"Os itens esto filtrados","attributesDropdown.allItemsFiltered":"Todos os itens esto filtrados","attributesDropdown.itemsFiltered.tooltip":"Os itens esto filtrados por: <strong>{filters}</strong>","attributesDropdown.save":"Salvar","attributesDropdown.filterBy":"Filtrar por","attributesDropdown.displayValuesAs":"Exibir valores como","attributesDropdown.title":"Ttulo","attributesDropdown.title.reset":"Restaurar","attributesDropdown.selectionMode":"Seleo","attributesDropdown.selectionMode.multi":"Vrios valores","attributesDropdown.selectionMode.single":"Valor nico","attributesDropdown.selectionMode.disabled.tooltip":"No  permitido selecionar um nico valor se houver filtros selecionados em Filtrar por. Para usar Selecionar um nico valor, desative todos os filtros em Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"Filtrar por outros filtros est desativado para Selecionar um nico valor. Para ajustar Filtrar por, escolha a seleo de mltiplos valores.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> no pode ser filtrado por <strong>{parentTitle}</strong>. No h conexo entre os atributos do filtro e o modelo de dados.","attributesDropdown.details.dataset":"Conjunto de Dados","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"e mais {count}","attributesDropdown.removeTooltip":"Remover do dashboard","layout.header.characters.left":"{currentCharactersCount}/{maximumCharactersCount} caracteres restantes","layout.header.add.title.placeholder":"Adicione o ttulo aqui...","layout.header.add.description.placeholder":"Adicione a descrio aqui...","error":"Erro","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Salvar e publicar","controlButtons.save.value":"Salvar","controlButtons.saveAndPublish.title":"Todas as alteraes sero vistas imediatamente por todos que tiverem acesso ao dashboard.","controlButtons.saveAsPrivate.title":"Todas as alteraes sero salvas.","controlButtons.saveAndPublish.disable.empty.title":"No  possvel salvar um dashboard vazio","controlButtons.saveAndPublish.disable.noChanges.title":"No h alteraes para salvar","controlButtons.saving.value":"Salvando","gs.visualizationsList.tabs.all":"todos","gs.visualizationsList.tabs.my":"criado por mim","visualizationsList.noInsights":"O espao de trabalho no contm nenhum insight.","visualizationsList.create":"Criar insight","visualizationsList.noUserInsights":"Nenhum insight foi criado.","visualizationsList.noVisualizationsFound":"Sem resultado de insights.","search_insights":"Pesquisar insights","save.as.new":"Salvar como novo","addPanel.deleteItem":"Solte para remover","addPanel.newItem":"Novo item","addPanel.attributeFilter":"Filtro de atributo","addPanel.attributeFilter.tooltip.no_attributes":"O filtro de atributo requer um atributo.","addPanel.attributeFilter.tooltip.no_attributes.link":"Saber mais","addPanel.kpi":"Indicador Chave de Desempenho","addPanel.kpi.tooltip.no_measures._measure":"O indicador chave de desempenho requer uma medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"O indicador chave de desempenho requer uma mtrica.","addPanel.kpi.tooltip.no_measures.link":"Saber mais","visualizationsList.dragToAdd":"Arraste para adicionar","visualizationsList.savedVisualizations":"Insights salvos","configurationPanel.drillConfig.selectDashboard":"Escolher painel","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Pesquisar em todos os painis","configurationPanel.drillConfig.forbiddenDashboard":"(No compartilhado com voc)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"O dashboard no foi compartilhado com voc, mas outros usurios tm acesso a ele.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"O dashboard no foi compartilhado com voc, mas todos os usurios podem acess-lo pelo detalhamento.","configurationPanel.remove.form.dashboard":"Remover do dashboard","filterBar.filter.drop":"solte para adicionar","filterBar.filter.addFilterPlaceholder":"Arraste {icon} para aqui","filterBar.filter.dropzone.tooltip":"Arraste o filtro de atributo at aqui.","configurationPanel.title":"Configurao","configurationPanel.comparison":"Comparao","configurationPanel.compareWith":"Comparar com","configurationPanel.increasingNumberIs":"O nmero ascendente ","configurationPanel.comparisonTypeItems.previousPeriod":"Perodo anterior","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mesmo perodo no ano anterior","configurationPanel.comparisonTypeItems.noComparison":"Sem comparao","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Vermelho","configurationPanel.unlistedMetric._measure":"Medida no listada","configurationPanel.unlistedMetric._metric":"Mtrica no listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida est oculta. Apenas voc poder v-la.","configurationPanel.unlistedMetricIconTitle._metric":"Essa mtrica est oculta. S voc pode v-la.","configurationPanel.selectMeasurePlaceholder._measure":"Selecionar medida","configurationPanel.selectMeasurePlaceholder._metric":"Selecionar mtrica","configurationPanel.selectComparisonPlaceholder":"Selecionar comparao","configurationPanel.selectComparisonDirectionPlaceholder":"Selecionar positivo/negativo","configurationPanel.measure._measure":"Medida","configurationPanel.measure._metric":"Mtrica","configurationPanel.filterBy":"Filtrar por","configurationPanel.date":"Data","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"O insight no pode ser filtrado por {attributeName}. Desmarque a caixa de seleo.","configurationPanel.kpiCantBeFilteredByAttribute":"O KPI no pode ser filtrado por {attributeName}. Desmarque a caixa de seleo.","configurationPanel.vizCantBeFilteredByDate":"No  possvel filtrar o insight por data. Desmarque a caixa de seleo.","configurationPanel.kpiCantBeFilteredByDate":"O KPI no pode ser filtrado por Data. Desmarque a caixa de seleo.","configurationPanel.unrelatedVizDateInfo":"No  possvel aplicar \\"{dateDataSet}\\" ao insight. Selecione uma dimenso diferente ou edite o insight.","configurationPanel.unrelatedKpiDateInfo":"No  possvel aplicar \\"{dateDataSet}\\" ao KPI. Selecione uma dimenso diferente ou edite o KPI.","configurationPanel.breakAlertWarning":"\\n            Usurios configuraram {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. Modificar o KPI afetar {numAlerts, select, 1 {este alerta} other {estes alertas}}.\\n","configurationPanel.drillIntoDashboard":"Detalhar painel","configurationPanel.noLinkableDashboards":"Nenhum dashboard para vincular","configurationPanel.selectDashboard":"Selecionar um painel","configurationPanel.interactions":"Interaes","configurationPanel.drillConfig.interactions":"Interaes de detalhamento","configurationPanel.drillConfig.addInteraction":"Adicionar interao","configurationPanel.drillConfig.clickHint":"Quando clicar em","configurationPanel.drillConfig.measureValue._measure":"Valor da medio","configurationPanel.drillConfig.measureValue._metric":"Valor da mtrica","configurationPanel.drillConfig.attributeValue":"Valor do atributo","configurationPanel.drillConfig.selectTarget":"Eu quero","configurationPanel.drillConfig.clickHintItem":"Quando eu clique no <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Detalhar painel","configurationPanel.drillConfig.drillIntoInsight":"Detalhar insight","configurationPanel.drillConfig.drillDown":"Detalhamento aprofundado","configurationPanel.drillConfig.disableDrillDownTooltip":"Desativa o detalhamento aprofundado nas configuraes deste insight.","configurationPanel.drillConfig.drillIntoUrl":"Detalhar URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parmetros invlidos da URL","configurationPanel.drillConfig.select":"Escolher ao","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"O valor do atributo de data do insight no ser transferido para filtrar o painel de destino.","configurationPanel.unlistedDashboardTab":"Painel no listado","configurationPanel.visualprops.sectionTitle":"Ttulo","configurationPanel.visualprops.hideTitle":"Ocultar o ttulo","configurationPanel.visualprops.sectionDescription":"Descrio","configurationPanel.visualprops.inheritDescription":"Herdado","configurationPanel.visualprops.inheritDescriptionHelp":"Herdar a descrio do insight.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Herdar a descrio da mtrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Herdar a descrio da medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Adicionar uma descrio personalizada para esta insncia do insight.","configurationPanel.visualprops.customKpiDescriptionHelp":"Adicionar uma descrio personalizada.","configurationPanel.visualprops.noneDescription":"Nenhum","configurationPanel.visualprops.includeMetrics._measure":"Incluir descries de medida","configurationPanel.visualprops.includeMetrics._metric":"Incluir descries de mtrica","configurationPanel.visualprops.includeMetricsHelp._measure":"Exibir seo com lista de medidas de insight e sua descrio.","configurationPanel.visualprops.includeMetricsHelp._metric":"Exibir seo com lista de mtricas de insight e sua descrio.","configurationPanel.visualprops.descriptionPlaceholder":"Adicionar descrio","configurationPanel.drillIntoUrl.defaultButtonValue":"Escolher URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperlink no rtulo do atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizada","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Adicionar URL personalizada","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parmetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Os parmetros so espaos reservados que so substitudos por valores dinmicos durante o detalhamento.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Adicionar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Rtulo","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... e {count} mais","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID do insight","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID do cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID do produto de dados","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID do projeto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID do espao de trabalho","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID do widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID do dashboard","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Insight","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Insira a URL e adicione parmetros do painel  direita.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Como criar URLs personalizadas?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parmetros invlidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Adicionar URL personalizada","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizada","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor do rtulo de atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor do atributo geogrfico","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor da URL do atributo","configurationPanel.zoomInsight":"Insight com zoom","configurationPanel.zoomInsight.help":"Permite ampliar o insight para ter uma visualizao detalhada. Mantenha pressionada a tecla Shift para ver uma panormica da rea ampliada.","configurationPanel.zoomInsight.notice":"O zoom no ser aplicado a dashboards exportados","configurationPanel.drillConfig.selectInsight":"Escolher insight","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Outros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"No relacionado","gs.date.date-dataset.unrelated_hidden":"{count} no relacionado {count, plural, one {data} other {datas}} {isShow, select, true {visvel} other {oculto}}.","gs.date.date-dataset.unrelated.show":"Exibir","gs.date.date-dataset.unrelated.hide":"Ocultar","layout.widget.width.min":"O widget est na largura mnima","layout.widget.width.max":"O widget est com a largura mxima","layout.widget.height.min":"O widget j est com a altura mnima","layout.widget.height.max":"O widget j est com a altura mxima","layout.widget.addedByPlugin":"Adicionado por plugin","layout.widget.modifiedByPlugin":"Modificado por plugin","layout.widget.hideOverlay":"Esconder sobreposio","dropzone.new.row.desc":"Arraste para criar uma{nbsp}<b>seo</b>","dropzone.widget.desc":"Solte <b>aqui</b>","dropzone.widget.last.in.row.desc":"Arraste at a <b>seo existente</b>","deleteKpiConfirmationDialog.headline":"Excluir KPI","deleteKpiConfirmationDialog.message":"Todos os alertas configurados para este KPI tambm sero excludos.","deleteKpiConfirmationDialog.submitButtonText":"Excluir","newDashboard.title":"Arraste o insight para c","newDashboard.dropInsight":"Soltar insight","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> j foi filtrado por <strong>{childTitle}</strong> diretamente ou por meio de outros filtros.","attributesDropdown.attributeNameWithData":"com dados de","filter.visibilityMode.tooltip.hidden":"O filtro est oculto e pode ser acessado apenas atravs do modo Editar.","filter.visibilityMode.tooltip.readonly.editMode":"O filtro est bloqueado e pode ser alterado apenas atravs do modo Editar.","filter.visibilityMode.tooltip.readonly.viewMode":"O filtro est bloqueado.","filter.resetButton.tooltip":"Redefinir todos os filtros","dateFilterDropdown.save":"Salvar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interativo","filter.configuration.mode.interactive.tooltip":"Usurios do painel podem visualizar e alterar o filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Usurios do painel pode visualizar o filtro, mas no podem alter-lo.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Usurios do painel no podem visualizar o filtro, mas ele est aplicado.","filter.dependency.icon.tooltip":"Os valores disponveis para <strong>{filterTitle}</strong> so limitados pela seleo em outro filtro."}'),BE=JSON.parse('{"loading":"A carregar","untitled":"Sem ttulo","empty_value":"valor vazio","gs.list.cancel":"Cancelar","gs.list.apply":"Aplicar","gs.list.only":"S","messages.dashboardSaveSuccess":"Excelente. Guardmos o seu dashboard.","options.menu.save.as":"Guardar como novo","options.menu.save.as.tooltip":"No  possvel guardar um dashboard vazio.","messages.dashboardSaveFailed":"Falha ao guardar dashboard, tente de novo.","messages.dashboard.invalidDrills.title":"<b>Algumas interaes foram removidas</b>","messages.dashboard.invalidDrills.body.modern._measure":"Um ou vrios dashboards/insights/medidas/atributos foram alterados ou eliminados, removendo algumas interaes dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"Um ou vrios dashboards/insights/mtricas/atributos foram alterados ou eliminados, removendo algumas interaes dos seguintes widgets: <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>Algumas interaes de aprofundamento de URL foram desativadas</b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"Algumas das interaes de aprofundamento de URL nos seguintes widgets foram desativadas devido a alteraes dos atributos de insights: <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"Mostrar mais","messages.dashboard.expandable.showLess":"Mostrar menos","messages.drill.InteractionConfiguredSuccess":"Interao configurada.","messages.drill.InteractionUpdatedSuccess":"Interao atualizada.","filterBar.showAll":"Mostrar tudo","filterBar.showLess":"Mostrar menos","options.menu.export.PDF":"Exportar para PDF","options.menu.schedule.email":"Agenda envio de e-mail","options.menu.delete":"Eliminar","dialogs.export.cells":"CLULAS","dialogs.export.filters":"CONTEXTO DO INSIGHT","dialogs.export.includeFilters":"Incluir filtros aplicados","dialogs.export.headline":"Exportar para XLSX","dialogs.export.mergeHeaders":"Manter clulas de atributo unidas","dialogs.export.submit":"Exportar","dialogs.schedule.email.delete.success":"xito! O seu e-mail agendado foi eliminado.","dialogs.schedule.email.submit.success":"xito! O seu dashboard est agendado para envio de e-mail.","dialogs.schedule.email.submit.error":"No foi possvel agendar o dashboard. Tente mais tarde.","dialogs.schedule.email.save.success":"Parabns! O seu horrio foi guardado.","dialogs.schedule.email.save.error":"Falha ao guardar o horrio. Tente mais tarde.","dialogs.save.as.new.title":"Guardar dashboard como novo","dialogs.save.as.new.desc":"D ao seu novo dashboard um novo nome descritivo, para que seja mais fcil encontr-lo depois.","dialogs.save.as.new.default.title":"Cpia de {title}","dialogs.save.as.new.alertsAndEmailsMessage":"Os alertas e agendamentos de e-mail no sero duplicados","dialogs.save.as.new.alertsMessage":"Os alertas no sero duplicados","dialogs.save.as.new.emailsMessage":"Os agendamentos de e-mail no sero duplicados","cancelConfirmationDialog.headline":"Rejeitar alteraes?","cancelConfirmationDialog.message":"Todas as alteraes sero perdidas","cancelConfirmationDialog.submitButtonText":"Rejeitar alteraes","deleteDashboardDialog.headline":"Eliminar dashboard?","deleteDashboardDialog.submitButtonText":"Eliminar","deleteDashboardDialog.alertsAndEmailsMessage":"Sero tambm eliminados todos os alertas e e-mails agendados configurados para este dashboard.","deleteDashboardDialog.alertsMessage":"Todos os alertas configurados para este dashboard sero tambm eliminados.","deleteDashboardDialog.emailsMessage":"Sero tambm eliminados todos os e-mails agendados configurados para este dashboard.","deleteDashboardDialog.drillMessage":"Toda a explorao neste dashboard a partir de outros dashboards ser removida.","create.dashboard":"Criar dashboard","drill_modal_picker.drill-down":"Explorao descendente","drill_modal_picker.drill-into":"Aprofundar","drill_modal_picker.more.details":"Mais informaes","drillModal.backToTop":"Regressar ao incio","filters.allTime.previousPeriod":"perodo ant.","filters.allTime.lastYear":"ano ant.","filters.minute.previousPeriod":"minuto ant.","filters.hour.previousPeriod":"hora ant.","filters.day.previousPeriod":"ant. {n, plural, one {dia} other {#d}}","filters.week.previousPeriod":"ant. {n, plural, one {semana} other {#s}}","filters.month.previousPeriod":"ant. {n, plural, one {ms} other {#m}}","filters.quarter.previousPeriod":"ant. {n, plural, one {trimestre} other {#t}}","filters.year.previousPeriod":"ant. {n, plural, one {ano} other {#a}}","filters.alertMessage.relativePreset":"em {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"no perodo {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"Existe mais que uma configurao de filtro de datas de projeto associada a este projeto. Foi utilizada a primeira configurao.","filters.config.warning.multipleWorkspacesConfigs":"Existe mais do que uma configurao de filtro de data de rea de trabalho associada a esta rea de trabalho. Foi utilizada a primeira.","filters.config.warning.selectedFilterNotValid":"A opo de filtro predefinida no  vlida. Em vez disso, ser utilizada a primeira opo disponvel.","filters.config.warning.allOptionsHidden":"A configurao de filtro de data de dashboard foi ignorada porque teria ocultado todas as opes de filtro.","filters.config.warning.conflictingIdentifiers":"A configurao de filtro de data de dashboard foi ignorada porque contm opes de filtro de data com identificadores idnticos.","filters.config.warning.notAvailable":"A configurao de filtro de data do projeto no se encontra definida ou no tem permisses para aceder  mesma.","filters.config.warning.workspace.notAvailable":"A configurao de filtro de data de rea de trabalho no se encontra definida ou no tem permisses para aceder  mesma.","kpi.noData":"Sem dados para as definies atuais dos filtros. Tente alterar os filtros.","kpiPop.change":"alterar","dialogs.schedule.email.filters":"O dashboard contm alteraes de filtros que sero guardadas na programao.","dialogs.schedule.email.filters.not.saved":"Os filtros de dashboard guardados no agendamento no sero afetados.","dialogs.schedule.email.attachment.filter":"(com os filtros atualmente definidos)","dialogs.schedule.email.attachment.label":"Anexo:","dialogs.schedule.email.attachments.label":"Anexos:","dialogs.schedule.email.attachment.select":"Selecionar anexos","dialogs.schedule.email.attachment.select.disabled.message":"Este dashboard no contm quaisquer insights.","dialogs.schedule.email.attachment.select.dashboard.header":"Dashboard (PDF)","dialogs.schedule.email.attachment.select.widgets.header":"Insights (CSV, XLSX)","dialogs.schedule.email.headline":"Agendar entrega do e-mail","dialogs.schedule.email.heading":"Exportao de programao","dialogs.schedule.email.message.label":"Mensagem:","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 subscrio de destinatrio anulada} other {# subscries de destinatrios anuladas}} deste agendamento.","dialogs.schedule.email.repeats.label":"Repeties:","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"no dia {date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":"no {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {ltimo}} {day}","dialogs.schedule.email.repeats.every":"a cada","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {dia} other {dias}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {ms} other {meses}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {semana} other {semanas}}","dialogs.schedule.email.repeats.types.custom":"Personalizado","dialogs.schedule.email.repeats.types.daily":"Diariamente","dialogs.schedule.email.repeats.types.monthly":"Mensalmente no {week, select, 1 {primeiro} 2 {segundo} 3 {terceiro} 4 {quarto} other {ltimo}} {day}","dialogs.schedule.email.repeats.types.weekly":"Semanalmente  {day}","dialogs.schedule.email.subject.label":"Assunto:","dialogs.schedule.email.time.label":"Primeira ocorrncia:","dialogs.schedule.email.to.label":"Para:","dialogs.schedule.email.message.placeholder":"Ol,\\n\\nO seu e-mail agendado est pronto. Pode transferir o dashboard nos anexos.","dialogs.schedule.email.submit":"Agendar","dialogs.schedule.email.save":"Guardar","dialogs.schedule.email.format.options":"Opes de formatao","dialogs.schedule.email.insight.format":"Formato do insight:","dialogs.schedule.email.attribute.merged":"Manter clulas de atributo unidas","dialogs.schedule.email.show.filters":"Mostrar filtros aplicados","dialogs.schedule.management.title":"Exportaes agendadas","dialogs.schedule.management.delete":"Eliminar a programao.","dialogs.schedule.management.delete.dialog":"Eliminar programao?","dialogs.schedule.management.delete.dialog.confirm":"<b>A programao</b> ser eliminada de forma permanente.","dialogs.schedule.management.noSchedules":"O dashboard no contm quaisquer exportaes agendadas.{br}Adicione uma agora.","dialogs.schedule.management.noSchedules.byUser":"Ainda no agendou quaisquer exportaes.{br}Adicione uma agora.","dialogs.schedule.management.addSchedule":"Adicionar programao","dialogs.schedule.management.recipients":"{n, plural, one {# destinatrio} other {# destinatrios}}","dialogs.schedule.management.recipients.onlyYou":"Apenas o Utilizador","dialogs.schedule.management.attachments.dashboard":"Dashboard","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.attachments.mixed":"Dashboard e {n, plural, one {# insight} other {# insights}}","dialogs.schedule.management.load.error":"Falha ao carregar. Tente mais tarde.","dialogs.schedule.management.delete.error":"Falha ao eliminar programao. Tente mais tarde.","dialogs.schedule.management.tab.all":"todos","dialogs.schedule.management.tab.user":"criadas por mim","options.menu.schedule.email.recipient.invalid":"Este no  um endereo de e-mail vlido.","options.menu.schedule.email.recipient.warning.existed":"J adicionou este destinatrio.","options.menu.schedule.email.recipient.warning.belong.workspace":"Este endereo de e-mail no pertence a esta rea de trabalho. O destinatrio poder receber dados sensveis.","options.menu.schedule.email.recipient.external.not.allowed":"Este endereo de e-mail no pertence a esta rea de trabalho. S o autor do agendamento pode adicionar este endereo de e-mail.","delete":"Eliminar","close":"Fechar","cancel":"Cancelar","gs.date.at":"em","gs.date.today":"Hoje","gs.date.tomorrow":"Amanh","gs.date.yesterday":"Ontem","kpi.alertBox.title":"Definir um alerta na alterao do KPI","kpi.alertBox.example":"por ex.","kpi.alertBox.unverifiedEmail":"Lamentamos, no pode definir um alerta. Certifique-se de que o seu e-mail foi verificado. Se isso no ajudar, solicite a atualizao das suas permisses ao administrador.","kpi.alertBox.disabledInReadOnly":"Os alertas encontram-se desativados no modo s de leitura","kpi.error.view":"No  possvel apresentar o KPI. Contacte o administrador para corrigir a definio do KPI.","kpiAlertDialog.delete":"Eliminar","kpiAlertDialog.deleting":"A eliminar","kpiAlertDialog.emailMe":"Enviar-me um e-mail","kpiAlertDialog.emailMeWhen":"{emailMe} quando este KPI for","kpiAlertDialog.emailInfo":"O e-mail ser enviado para {userEmail}","kpiAlertDialog.invalidNumber":"<strong>Este nmero no  vlido.</strong>{br}Verifique-o e tente novamente.","kpiAlertDialog.filtersDiffer":"O KPI est agora filtrado de forma diferente do que quando o alerta foi configurado.","kpiAlertDialog.filtersApply":"Aplicar filtros de alerta ao dashboard","kpiAlertDialog.savingFailed":"Guardar o alerta falhou. Tente de novo.","kpiAlertDialog.deleteingFailed":"Eliminar o alerta falhou. Tente de novo.","kpiAlertDialog.brokenAlert":"Alerta infringido","kpiAlertDialog.brokenAlertAppeal":"Para ver o valor KPI correto, atualize os filtros neste alerta. Pode tambm remover o alerta.","kpiAlertDialog.brokenAlertDefaultDateLabel":"Data","kpiAlertDialog.removedFilters":"Filtros removidos do dashboard","kpiAlertDialog.ignoredFilters":"Filtros ignorados para este kpi","kpiAlertDialog.updateTitle":"Atualizar","kpiAlertDialog.updateBrokenTitle":"Atualizar filtros","kpiAlertDialog.updatingTitle":"A atualizar","kpiAlertDialog.updateBrokenFailed":"Falha ao atualizar filtros. Tente de novo.","kpiAlertDialog.setTitle":"Definir alerta","kpiAlertDialog.settingTitle":"A definir","kpiAlertDialog.threshold.above":"acima","kpiAlertDialog.threshold.below":"abaixo","kpiAlertDialog.withAttributeFilters":"{numFilters} mais {numFilters, select, 1 {filtro} other {filtros}} aplicados","messages.exportResultError":"Falha ao exportar os dados. Tente mais tarde.","messages.exportResultRestrictedError":"No  possvel exportar este insight porque contm dados confidenciais.","messages.exportResultStart":"Exportao em curso","messages.exportResultSuccess":"Exportao bem sucedida.","messages.sharingChangedSuccess":"Partilha atualizada.","messages.sharingChangedError.general":"Falha ao atualizar as definies de partilha. Tente mais tarde.","messages.sharingDialogError.general":"Falha ao carregar as definies de partilha. Tente mais tarde.","visualization.dataTooLarge.headline":"Demasiados pontos de dados para apresentar","visualization.dataTooLarge.text":"Tente aplicar um ou mais filtros ao dashboard.","visualization.execute_protected_report.headline":"No tem autorizao para ver este relatrio","visualization.execute_protected_report.text":"Contacte o seu administrador.","visualization.alert_not_supported":"No so suportados alertas para o perodo de datas esttico","visualization.empty.headline":"Sem dados para a seleo de filtros","visualization.error.headline":"Lamentamos, no podemos apresentar este insight","visualization.error.text":"Contacte o seu administrador.","options.button.bubble":"Exportar dados de insight","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"De momento no  possvel exportar o insight. Experimente aplicar outros filtros ou utilizar outras medidas ou atributos.","options.menu.unsupported.error._metric":"De momento no  possvel exportar o insight. Experimente aplicar outros filtros ou utilizar outras mtricas ou atributos.","options.menu.unsupported.loading":"De momento no  possvel exportar o insight.","export.defaultTitle":"Insight sem ttulo","export_unsupported.disabled":"A exportao no  suportada","widget.options.menu.exportToCSV":"Exportar para CSV","widget.options.menu.exportToXLSX":"Exportar para XLSX","widget.options.menu.scheduleExport":"Exportao de programao","share.button.text":"Partilhar","dashboard.error.empty.heading":"Este dashboard est vazio","dashboard.error.empty.text":"Todos os insights foram removidos.","dashboard.shareDialog.underLenientControl.label":"Os outros utilizadores podem aceder a este dashboard se desagregarem at ele","dashboard.shareDialog.lock.label":"Este dashboard s pode ser editado por administradores","header.lockStatus.tooltip":"<b>Este dashboard encontra-se bloqueado.</b> S pode ser editado por administradores.","header.shareStatus.private.text":"Privado","header.shareStatus.private.strict.tooltip":"S o utilizador pode visualizar e editar este dashboard.","header.shareStatus.private.not.strict.tooltip":"O criador pode editar este dashboard. Outros utilizadores com funes de utilizador adequadas podem edit-lo quando o exploram.","dashboard.shareDialog.removeAccessGranteeTooltip":"Remover acesso a este dashboard.","dashboard.shareDialog.removeAccessCreatorTooltip":"O utilizador que criou este dashboard. No  possvel remover criadores.","attributesDropdown.placeholder":"Pesquisar atributos","attributesDropdown.configuration":"Configurao","attributesDropdown.itemsFiltered":"H itens filtrados","attributesDropdown.allItemsFiltered":"Todos os itens foram filtrados","attributesDropdown.itemsFiltered.tooltip":"Os itens foram filtrados por: <strong>{filters}</strong>","attributesDropdown.save":"Guardar","attributesDropdown.filterBy":"Filtrar por","attributesDropdown.displayValuesAs":"Apresentar valores como","attributesDropdown.title":"Ttulo","attributesDropdown.title.reset":"Repor","attributesDropdown.selectionMode":"Seleo","attributesDropdown.selectionMode.multi":"Vrios valores","attributesDropdown.selectionMode.single":"Valor nico","attributesDropdown.selectionMode.disabled.tooltip":"A opo Valor nico no  permitida se houver filtros selecionados em Filtrar por. Para utilizar a opo Valor nico, desative todos os filtros em Filtrar por.","attributesDropdown.parentFilter.disabled.tooltip":"A filtragem por outros filtros encontra-se desativada para a opo Valor nico. Para definir Filtrar por, selecione a opo de valor mltiplo.","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong> no pode ser filtrado por <strong>{parentTitle}</strong>. No h ligao entre os atributos de filtro no modelo de dados.","attributesDropdown.details.dataset":"Conjunto de dados","attributesDropdown.details.values":"Valores","attributesDropdown.details.shortening_decoration":"e {count} mais","attributesDropdown.removeTooltip":"Remover do dashboard","layout.header.characters.left":"{currentCharactersCount} / {maximumCharactersCount} carateres remanescentes","layout.header.add.title.placeholder":"Adicionar Ttulo aqui...","layout.header.add.description.placeholder":"Adicionar Descrio aqui...","error":"Erro","controlButtons.edit.value":"Editar","controlButtons.saveAndPublish.value":"Guardar e Publicar","controlButtons.save.value":"Guardar","controlButtons.saveAndPublish.title":"Todas as alteraes sero visveis de imediato para todos os utilizadores que consigam aceder a este dashboard.","controlButtons.saveAsPrivate.title":"Todas as alteraes sero guardadas.","controlButtons.saveAndPublish.disable.empty.title":"No  possvel guardar um dashboard vazio","controlButtons.saveAndPublish.disable.noChanges.title":"No h alteraes para guardar","controlButtons.saving.value":"A guardar","gs.visualizationsList.tabs.all":"todos","gs.visualizationsList.tabs.my":"criadas por mim","visualizationsList.noInsights":"Esta rea de trabalho no contm quaisquer insights.","visualizationsList.create":"Criar insight","visualizationsList.noUserInsights":"Nenhuns insights criados.","visualizationsList.noVisualizationsFound":"Nenhum insight correspondente.","search_insights":"Pesquisar todos os insights","save.as.new":"Guardar como novo","addPanel.deleteItem":"Largar para remover","addPanel.newItem":"Novo item","addPanel.attributeFilter":"Filtro de Atributo","addPanel.attributeFilter.tooltip.no_attributes":"O filtro de atributo requer um atributo.","addPanel.attributeFilter.tooltip.no_attributes.link":"Saber mais","addPanel.kpi":"Indicador Chave de Desempenho","addPanel.kpi.tooltip.no_measures._measure":"O Indicador Chave de Desempenho requer uma medida calculada.","addPanel.kpi.tooltip.no_measures._metric":"O Indicador Chave de Desempenho requer uma mtrica.","addPanel.kpi.tooltip.no_measures.link":"Saber mais","visualizationsList.dragToAdd":"Arrastar para adicionar","visualizationsList.savedVisualizations":"Insights guardados","configurationPanel.drillConfig.selectDashboard":"Escolher dashboard","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"Pesquisar todos os dashboards","configurationPanel.drillConfig.forbiddenDashboard":"(No partilhados consigo)","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"O dashboard no est partilhado consigo, mas outros utilizadores tm acesso a este dashboard.","configurationPanel.drillConfig.notSharedDashboard.tooltip":"O dashboard no est partilhado consigo, mas todos os utilizadores tm acesso ao mesmo se desagregarem at ele.","configurationPanel.remove.form.dashboard":"Remover do dashboard","filterBar.filter.drop":"largar para adicionar","filterBar.filter.addFilterPlaceholder":"Arraste o {icon} para aqui","filterBar.filter.dropzone.tooltip":"Arraste o filtro de atributos para aqui.","configurationPanel.title":"Configurao","configurationPanel.comparison":"Comparao","configurationPanel.compareWith":"Comparar com","configurationPanel.increasingNumberIs":"Nmero crescente ","configurationPanel.comparisonTypeItems.previousPeriod":"Perodo anterior","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"Mesmo perodo do ano anterior","configurationPanel.comparisonTypeItems.noComparison":"Sem comparao","configurationPanel.comparisonDirectionItems.green":"Verde","configurationPanel.comparisonDirectionItems.red":"Vermelho","configurationPanel.unlistedMetric._measure":"Medida no listada","configurationPanel.unlistedMetric._metric":"Mtrica no listada","configurationPanel.unlistedMetricIconTitle._measure":"Esta medida est oculta. S o utilizador a pode ver.","configurationPanel.unlistedMetricIconTitle._metric":"Esta mtrica est oculta. S o utilizador a consegue ver.","configurationPanel.selectMeasurePlaceholder._measure":"Selecionar medida","configurationPanel.selectMeasurePlaceholder._metric":"Selecione a mtrica","configurationPanel.selectComparisonPlaceholder":"Selecionar comparao","configurationPanel.selectComparisonDirectionPlaceholder":"Selecionar positivo/negativo","configurationPanel.measure._measure":"Medir","configurationPanel.measure._metric":"Mtrica","configurationPanel.filterBy":"Filtrar por","configurationPanel.date":"Data","configurationPanel.dateAs":"como","configurationPanel.vizCantBeFilteredByAttribute":"No  possvel filtrar o insight por {attributeName}. Desmarque a caixa de verificao.","configurationPanel.kpiCantBeFilteredByAttribute":"No  possvel filtrar o kpi por {attributeName}. Desmarque a caixa de verificao.","configurationPanel.vizCantBeFilteredByDate":"No  possvel filtrar o insight por Data. Desmarque a caixa de verificao.","configurationPanel.kpiCantBeFilteredByDate":"No  possvel filtrar o kpi por Data. Desmarque a caixa de verificao.","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\" j no pode ser aplicado ao insight. Selecione uma dimenso diferente ou edite o insight.","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" j no pode ser aplicado ao kpi. Selecione uma dimenso diferente ou edite o kpi.","configurationPanel.breakAlertWarning":"\\n            Os utilizadores configuraram {numAlerts} {numAlerts, select, 1 {alerta} other {alertas}}\\n            para este KPI. A modificao do KPI afetar {numAlerts, select, 1 {este alerta} other {estes alertas}}.\\n","configurationPanel.drillIntoDashboard":"Explorao aprofundada do dashboard","configurationPanel.noLinkableDashboards":"Nenhum dashboard para ligao","configurationPanel.selectDashboard":"Selecionar um dashboard","configurationPanel.interactions":"Interaes","configurationPanel.drillConfig.interactions":"Aprofundar interaes","configurationPanel.drillConfig.addInteraction":"Adicionar interao","configurationPanel.drillConfig.clickHint":"Quando clicar em","configurationPanel.drillConfig.measureValue._measure":"Valor da medida","configurationPanel.drillConfig.measureValue._metric":"Valor da mtrica","configurationPanel.drillConfig.attributeValue":"Valor do atributo","configurationPanel.drillConfig.selectTarget":"Quero","configurationPanel.drillConfig.clickHintItem":"Quando clicar em <addon>(valor de)</addon>","configurationPanel.drillConfig.drillIntoDashboard":"Explorao aprofundada do dashboard","configurationPanel.drillConfig.drillIntoInsight":"Aprofundar insight","configurationPanel.drillConfig.drillDown":"Explorao descendente","configurationPanel.drillConfig.disableDrillDownTooltip":"A explorao descendente encontra-se desativada na configurao deste insight.","configurationPanel.drillConfig.drillIntoUrl":"Aprofundar URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"Parmetros de URL invlidos","configurationPanel.drillConfig.select":"Escolher ao","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"O valor do atributo de data do insight no ser transferido para filtrar o dashboard de destino.","configurationPanel.unlistedDashboardTab":"Dashboard no listado","configurationPanel.visualprops.sectionTitle":"Ttulo","configurationPanel.visualprops.hideTitle":"Ocultar ttulo","configurationPanel.visualprops.sectionDescription":"Descrio","configurationPanel.visualprops.inheritDescription":"Herdar","configurationPanel.visualprops.inheritDescriptionHelp":"Herdar a descrio do insight.","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"Herdar a descrio da mtrica.","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"Herdar a descrio da medida.","configurationPanel.visualprops.customDescription":"Personalizado","configurationPanel.visualprops.customDescriptionHelp":"Adicione uma descrio personalizada para esta instncia do insight.","configurationPanel.visualprops.customKpiDescriptionHelp":"Adicione uma descrio personalizada.","configurationPanel.visualprops.noneDescription":"Nenhum","configurationPanel.visualprops.includeMetrics._measure":"Incluir descries de medidas","configurationPanel.visualprops.includeMetrics._metric":"Incluir descries de mtricas","configurationPanel.visualprops.includeMetricsHelp._measure":"Apresentar seco com a lista das medidas do insight e respetiva descrio.","configurationPanel.visualprops.includeMetricsHelp._metric":"Apresentar seco com a lista das mtricas do insight e respetiva descrio.","configurationPanel.visualprops.descriptionPlaceholder":"Adicionar descrio","configurationPanel.drillIntoUrl.defaultButtonValue":"Escolher URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"Hiperligao da etiqueta do atributo","configurationPanel.drillIntoUrl.customUrlSectionTitle":"URL personalizado","configurationPanel.drillIntoUrl.editor.addUrlTitle":"Adicionar URL personalizado","configurationPanel.drillIntoUrl.editor.editUrlTitle":"Editar URL personalizado","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"Parmetros","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"Os parmetros so marcadores de posio substitudos por valores dinmicos durante a explorao.","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"Adicionar","configurationPanel.drillIntoUrl.editor.parameterDetailType":"Tipo","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"Etiqueta","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {Valor} other {Valores}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...e outros {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":"ID do Insight","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":"ID de Cliente","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"ID de produto dos dados","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":"ID do Projeto","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"ID da rea de trabalho","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":"ID do Widget","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":"ID do Dashboard","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"Identificador","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"Insight","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"Identificadores","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"Aplicar","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"Cancelar","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":"Introduza o URL e adicione parmetros no painel da direita.","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"Como criar URLs personalizados?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"Parmetros invlidos: {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":"Adicionar URL personalizado","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":"Editar URL personalizado","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"Valor da etiqueta do atributo","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"Valor geogrfico do atributo","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":"Valor do URL do atributo","configurationPanel.zoomInsight":"Insight passvel de zoom","configurationPanel.zoomInsight.help":"Ative para ampliar o insight e apresentar uma vista detalhada. Mantenha premida a tecla Shift para rodar a zona ampliada.","configurationPanel.zoomInsight.notice":"O zoom no ser aplicado aos dashboards exportados","configurationPanel.drillConfig.selectInsight":"Escolher insight","gs.date.date-dataset.recommended":"Recomendado","gs.date.date-dataset.other":"Outros","gs.date.date-dataset.related":"Relacionado","gs.date.date-dataset.unrelated":"No relacionado","gs.date.date-dataset.unrelated_hidden":"{count} no relacionados {count, plural, one {data} other {datas}} {isShow, select, true {visvel} other {oculto}}.","gs.date.date-dataset.unrelated.show":"Mostrar","gs.date.date-dataset.unrelated.hide":"Ocultar","layout.widget.width.min":"O widget tem a largura mnima","layout.widget.width.max":"O widget j tem a largura mxima","layout.widget.height.min":"O widget j tem a altura mnima","layout.widget.height.max":"O widget j tem a altura mxima","layout.widget.addedByPlugin":"Adicionado por plug-in","layout.widget.modifiedByPlugin":"Modificado por plug-in","layout.widget.hideOverlay":"Ocultar sobreposio","dropzone.new.row.desc":"Largue para criar uma{nbsp}<b>nova seo</b>","dropzone.widget.desc":"Largar <b>aqui</b>","dropzone.widget.last.in.row.desc":"Largar na <b>seco existente</b>","deleteKpiConfirmationDialog.headline":"Eliminar KPI","deleteKpiConfirmationDialog.message":"Todos os alertas configurados para este KPI sero tambm eliminados.","deleteKpiConfirmationDialog.submitButtonText":"Eliminar","newDashboard.title":"Arraste o insight para aqui","newDashboard.dropInsight":"Largar insight","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong> j se encontra filtrado pelo filtro <strong>{childTitle}</strong>, de forma direta ou atravs de outros filtros.","attributesDropdown.attributeNameWithData":"com dados de","filter.visibilityMode.tooltip.hidden":"Este filtro est oculto. S pode ser acedido atravs do Modo de edio.","filter.visibilityMode.tooltip.readonly.editMode":"Este filtro est bloqueado. S pode ser alterado atravs do Modo de edio.","filter.visibilityMode.tooltip.readonly.viewMode":"Este filtro est bloqueado.","filter.resetButton.tooltip":"Repor todos os filtros","dateFilterDropdown.save":"Guardar","filter.configuration.mode.title":"Modo","filter.configuration.mode.interactive.title":"Interativo","filter.configuration.mode.interactive.tooltip":"Os utilizadores do dashboard podem ver e alterar o filtro.","filter.configuration.mode.locked.title":"Bloqueado","filter.configuration.mode.locked.tooltip":"Os utilizadores do dashboard podem ver o filtro mas no o podem alterar.","filter.configuration.mode.hidden.title":"Oculto","filter.configuration.mode.hidden.tooltip":"Os utilizadores do dashboard no podem ver o filtro, mas este  aplicado.","filter.dependency.icon.tooltip":"Os valores disponveis para <strong>{filterTitle}</strong> encontram-se limitados pela seleo noutro filtro."}'),zE=JSON.parse('{"loading":"","untitled":"","empty_value":"","gs.list.cancel":"","gs.list.apply":"","gs.list.only":"","messages.dashboardSaveSuccess":"","options.menu.save.as":"","options.menu.save.as.tooltip":"","messages.dashboardSaveFailed":"","messages.dashboard.invalidDrills.title":"<b></b>","messages.dashboard.invalidDrills.body.modern._measure":"///<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"///<b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b> URL </b>","messages.dashboard.invalidCustomUrlDrills.body.modern":" URL <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"","messages.dashboard.expandable.showLess":"","messages.drill.InteractionConfiguredSuccess":"","messages.drill.InteractionUpdatedSuccess":"","filterBar.showAll":"","filterBar.showLess":"","options.menu.export.PDF":" PDF","options.menu.schedule.email":"","options.menu.delete":"","dialogs.export.cells":"","dialogs.export.filters":"","dialogs.export.includeFilters":"","dialogs.export.headline":" XLSX","dialogs.export.mergeHeaders":"","dialogs.export.submit":"","dialogs.schedule.email.delete.success":"","dialogs.schedule.email.submit.success":"","dialogs.schedule.email.submit.error":"","dialogs.schedule.email.save.success":"","dialogs.schedule.email.save.error":"","dialogs.save.as.new.title":"","dialogs.save.as.new.desc":"","dialogs.save.as.new.default.title":"{title} ","dialogs.save.as.new.alertsAndEmailsMessage":"","dialogs.save.as.new.alertsMessage":"","dialogs.save.as.new.emailsMessage":"","cancelConfirmationDialog.headline":"","cancelConfirmationDialog.message":"","cancelConfirmationDialog.submitButtonText":"","deleteDashboardDialog.headline":"","deleteDashboardDialog.submitButtonText":"","deleteDashboardDialog.alertsAndEmailsMessage":"","deleteDashboardDialog.alertsMessage":"","deleteDashboardDialog.emailsMessage":"","deleteDashboardDialog.drillMessage":"","create.dashboard":"","drill_modal_picker.drill-down":"","drill_modal_picker.drill-into":"","drill_modal_picker.more.details":"","drillModal.backToTop":"","filters.allTime.previousPeriod":"","filters.allTime.lastYear":"","filters.minute.previousPeriod":"","filters.hour.previousPeriod":"","filters.day.previousPeriod":" {n, plural, one {} other {#}}","filters.week.previousPeriod":" {n, plural, one {} other {#}}","filters.month.previousPeriod":" {n, plural, one {} other {#}}","filters.quarter.previousPeriod":" {n, plural, one {} other {#}}","filters.year.previousPeriod":" {n, plural, one {} other {#}}","filters.alertMessage.relativePreset":" {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":" {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"","filters.config.warning.multipleWorkspacesConfigs":"","filters.config.warning.selectedFilterNotValid":"","filters.config.warning.allOptionsHidden":"","filters.config.warning.conflictingIdentifiers":"","filters.config.warning.notAvailable":"","filters.config.warning.workspace.notAvailable":"","kpi.noData":"","kpiPop.change":"","dialogs.schedule.email.filters":"","dialogs.schedule.email.filters.not.saved":"","dialogs.schedule.email.attachment.filter":"","dialogs.schedule.email.attachment.label":"","dialogs.schedule.email.attachments.label":"","dialogs.schedule.email.attachment.select":"","dialogs.schedule.email.attachment.select.disabled.message":"","dialogs.schedule.email.attachment.select.dashboard.header":" (PDF)","dialogs.schedule.email.attachment.select.widgets.header":" (CSV, XLSX)","dialogs.schedule.email.headline":"","dialogs.schedule.email.heading":"","dialogs.schedule.email.message.label":"","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1 } other {# }} ","dialogs.schedule.email.repeats.label":"","dialogs.schedule.email.repeats.execute.on.dayOfMonth":" {date} ","dialogs.schedule.email.repeats.execute.on.dayOfWeek":" {week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.every":"","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {} other {}}","dialogs.schedule.email.repeats.types.custom":"","dialogs.schedule.email.repeats.types.daily":"","dialogs.schedule.email.repeats.types.monthly":" {week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.types.weekly":" {day}","dialogs.schedule.email.subject.label":"","dialogs.schedule.email.time.label":"","dialogs.schedule.email.to.label":"","dialogs.schedule.email.message.placeholder":"\\n\\n ","dialogs.schedule.email.submit":"","dialogs.schedule.email.save":"","dialogs.schedule.email.format.options":"","dialogs.schedule.email.insight.format":"","dialogs.schedule.email.attribute.merged":"","dialogs.schedule.email.show.filters":"","dialogs.schedule.management.title":"","dialogs.schedule.management.delete":"","dialogs.schedule.management.delete.dialog":"","dialogs.schedule.management.delete.dialog.confirm":"<b></b>","dialogs.schedule.management.noSchedules":"{br}","dialogs.schedule.management.noSchedules.byUser":"{br}","dialogs.schedule.management.addSchedule":"","dialogs.schedule.management.recipients":"{n, plural, one {# } other {# }}","dialogs.schedule.management.recipients.onlyYou":"","dialogs.schedule.management.attachments.dashboard":"","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# } other {# }}","dialogs.schedule.management.attachments.mixed":"{n, plural, one {# } other {# }}","dialogs.schedule.management.load.error":"","dialogs.schedule.management.delete.error":"","dialogs.schedule.management.tab.all":"","dialogs.schedule.management.tab.user":"","options.menu.schedule.email.recipient.invalid":"","options.menu.schedule.email.recipient.warning.existed":"","options.menu.schedule.email.recipient.warning.belong.workspace":"","options.menu.schedule.email.recipient.external.not.allowed":"","delete":"","close":"","cancel":"","gs.date.at":"","gs.date.today":"","gs.date.tomorrow":"","gs.date.yesterday":"","kpi.alertBox.title":" KPI ","kpi.alertBox.example":"","kpi.alertBox.unverifiedEmail":"","kpi.alertBox.disabledInReadOnly":"","kpi.error.view":" KPI KPI ","kpiAlertDialog.delete":"","kpiAlertDialog.deleting":"","kpiAlertDialog.emailMe":"","kpiAlertDialog.emailMeWhen":"{emailMe} KPI ","kpiAlertDialog.emailInfo":" {userEmail}","kpiAlertDialog.invalidNumber":"<strong></strong>{br}","kpiAlertDialog.filtersDiffer":" KPI ","kpiAlertDialog.filtersApply":"","kpiAlertDialog.savingFailed":"","kpiAlertDialog.deleteingFailed":"","kpiAlertDialog.brokenAlert":"","kpiAlertDialog.brokenAlertAppeal":" KPI ","kpiAlertDialog.brokenAlertDefaultDateLabel":"","kpiAlertDialog.removedFilters":"","kpiAlertDialog.ignoredFilters":" KPI ","kpiAlertDialog.updateTitle":"","kpiAlertDialog.updateBrokenTitle":"","kpiAlertDialog.updatingTitle":"","kpiAlertDialog.updateBrokenFailed":"","kpiAlertDialog.setTitle":"","kpiAlertDialog.settingTitle":"","kpiAlertDialog.threshold.above":"","kpiAlertDialog.threshold.below":"","kpiAlertDialog.withAttributeFilters":"{numFilters} {numFilters, select, 1 {} other {}} ","messages.exportResultError":"","messages.exportResultRestrictedError":"","messages.exportResultStart":"","messages.exportResultSuccess":"","messages.sharingChangedSuccess":"","messages.sharingChangedError.general":"","messages.sharingDialogError.general":"","visualization.dataTooLarge.headline":"","visualization.dataTooLarge.text":"","visualization.execute_protected_report.headline":"","visualization.execute_protected_report.text":"","visualization.alert_not_supported":"","visualization.empty.headline":"","visualization.error.headline":"","visualization.error.text":"","options.button.bubble":"","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"","options.menu.unsupported.error._metric":"","options.menu.unsupported.loading":"","export.defaultTitle":"","export_unsupported.disabled":"","widget.options.menu.exportToCSV":" CSV","widget.options.menu.exportToXLSX":" XLSX","widget.options.menu.scheduleExport":"","share.button.text":"","dashboard.error.empty.heading":"","dashboard.error.empty.text":"","dashboard.shareDialog.underLenientControl.label":"","dashboard.shareDialog.lock.label":"","header.lockStatus.tooltip":"<b></b>","header.shareStatus.private.text":"","header.shareStatus.private.strict.tooltip":"","header.shareStatus.private.not.strict.tooltip":"","dashboard.shareDialog.removeAccessGranteeTooltip":"","dashboard.shareDialog.removeAccessCreatorTooltip":"","attributesDropdown.placeholder":"","attributesDropdown.configuration":"","attributesDropdown.itemsFiltered":"","attributesDropdown.allItemsFiltered":"","attributesDropdown.itemsFiltered.tooltip":" <strong>{filters}</strong>","attributesDropdown.save":"","attributesDropdown.filterBy":"","attributesDropdown.displayValuesAs":"","attributesDropdown.title":"","attributesDropdown.title.reset":"","attributesDropdown.selectionMode":"","attributesDropdown.selectionMode.multi":"","attributesDropdown.selectionMode.single":"","attributesDropdown.selectionMode.disabled.tooltip":"","attributesDropdown.parentFilter.disabled.tooltip":"","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong>  <strong>{parentTitle}</strong> ","attributesDropdown.details.dataset":"","attributesDropdown.details.values":"","attributesDropdown.details.shortening_decoration":" {count} ","attributesDropdown.removeTooltip":"","layout.header.characters.left":" {currentCharactersCount} / {maximumCharactersCount} ","layout.header.add.title.placeholder":"...","layout.header.add.description.placeholder":"...","error":"","controlButtons.edit.value":"","controlButtons.saveAndPublish.value":"","controlButtons.save.value":"","controlButtons.saveAndPublish.title":"","controlButtons.saveAsPrivate.title":"","controlButtons.saveAndPublish.disable.empty.title":"","controlButtons.saveAndPublish.disable.noChanges.title":"","controlButtons.saving.value":"","gs.visualizationsList.tabs.all":"","gs.visualizationsList.tabs.my":"","visualizationsList.noInsights":"","visualizationsList.create":"","visualizationsList.noUserInsights":"","visualizationsList.noVisualizationsFound":"","search_insights":"","save.as.new":"","addPanel.deleteItem":"","addPanel.newItem":"","addPanel.attributeFilter":"","addPanel.attributeFilter.tooltip.no_attributes":"","addPanel.attributeFilter.tooltip.no_attributes.link":"","addPanel.kpi":"","addPanel.kpi.tooltip.no_measures._measure":"","addPanel.kpi.tooltip.no_measures._metric":"","addPanel.kpi.tooltip.no_measures.link":"","visualizationsList.dragToAdd":"","visualizationsList.savedVisualizations":"","configurationPanel.drillConfig.selectDashboard":"","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"","configurationPanel.drillConfig.forbiddenDashboard":"","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"","configurationPanel.drillConfig.notSharedDashboard.tooltip":"","configurationPanel.remove.form.dashboard":"","filterBar.filter.drop":"","filterBar.filter.addFilterPlaceholder":" {icon} ","filterBar.filter.dropzone.tooltip":"","configurationPanel.title":"","configurationPanel.comparison":"","configurationPanel.compareWith":"","configurationPanel.increasingNumberIs":"","configurationPanel.comparisonTypeItems.previousPeriod":"","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"","configurationPanel.comparisonTypeItems.noComparison":"","configurationPanel.comparisonDirectionItems.green":"","configurationPanel.comparisonDirectionItems.red":"","configurationPanel.unlistedMetric._measure":"","configurationPanel.unlistedMetric._metric":"","configurationPanel.unlistedMetricIconTitle._measure":"","configurationPanel.unlistedMetricIconTitle._metric":"","configurationPanel.selectMeasurePlaceholder._measure":"","configurationPanel.selectMeasurePlaceholder._metric":"","configurationPanel.selectComparisonPlaceholder":"","configurationPanel.selectComparisonDirectionPlaceholder":"/","configurationPanel.measure._measure":"","configurationPanel.measure._metric":"","configurationPanel.filterBy":"","configurationPanel.date":"","configurationPanel.dateAs":"","configurationPanel.vizCantBeFilteredByAttribute":" {attributeName} ","configurationPanel.kpiCantBeFilteredByAttribute":"KPI  {attributeName} ","configurationPanel.vizCantBeFilteredByDate":"","configurationPanel.kpiCantBeFilteredByDate":"KPI ","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\"","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\" KPI KPI","configurationPanel.breakAlertWarning":"\\n            KPI  {numAlerts} {numAlerts, select, 1 {} other {}}\\n  KPI  {numAlerts, select, 1 {} other {}}\\n","configurationPanel.drillIntoDashboard":"","configurationPanel.noLinkableDashboards":"","configurationPanel.selectDashboard":"","configurationPanel.interactions":"","configurationPanel.drillConfig.interactions":"","configurationPanel.drillConfig.addInteraction":"","configurationPanel.drillConfig.clickHint":"","configurationPanel.drillConfig.measureValue._measure":"","configurationPanel.drillConfig.measureValue._metric":"","configurationPanel.drillConfig.attributeValue":"","configurationPanel.drillConfig.selectTarget":"","configurationPanel.drillConfig.clickHintItem":"<addon></addon>","configurationPanel.drillConfig.drillIntoDashboard":"","configurationPanel.drillConfig.drillIntoInsight":"","configurationPanel.drillConfig.drillDown":"","configurationPanel.drillConfig.disableDrillDownTooltip":"","configurationPanel.drillConfig.drillIntoUrl":" URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"URL ","configurationPanel.drillConfig.select":"","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"","configurationPanel.unlistedDashboardTab":"","configurationPanel.visualprops.sectionTitle":"","configurationPanel.visualprops.hideTitle":"","configurationPanel.visualprops.sectionDescription":"","configurationPanel.visualprops.inheritDescription":" ","configurationPanel.visualprops.inheritDescriptionHelp":"","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"","configurationPanel.visualprops.customDescription":"","configurationPanel.visualprops.customDescriptionHelp":"","configurationPanel.visualprops.customKpiDescriptionHelp":"","configurationPanel.visualprops.noneDescription":"","configurationPanel.visualprops.includeMetrics._measure":"","configurationPanel.visualprops.includeMetrics._metric":"","configurationPanel.visualprops.includeMetricsHelp._measure":"","configurationPanel.visualprops.includeMetricsHelp._metric":"","configurationPanel.visualprops.descriptionPlaceholder":"","configurationPanel.drillIntoUrl.defaultButtonValue":" URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"","configurationPanel.drillIntoUrl.customUrlSectionTitle":" URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":" URL","configurationPanel.drillIntoUrl.editor.editUrlTitle":" URL","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailType":"","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {} other {}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"... {count} ","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":" ID","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":" URL ","configurationPanel.drillIntoUrl.editor.helpButtonLabel":" URL","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":"{invalidParameters} ","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":" URL","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":" URL","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":"","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":" URL ","configurationPanel.zoomInsight":"","configurationPanel.zoomInsight.help":" Shift ","configurationPanel.zoomInsight.notice":"","configurationPanel.drillConfig.selectInsight":"","gs.date.date-dataset.recommended":"","gs.date.date-dataset.other":"","gs.date.date-dataset.related":"","gs.date.date-dataset.unrelated":"","gs.date.date-dataset.unrelated_hidden":"{count}  {count, plural, one {} other {}} {isShow, select, true {} other {}}","gs.date.date-dataset.unrelated.show":"","gs.date.date-dataset.unrelated.hide":"","layout.widget.width.min":"","layout.widget.width.max":"","layout.widget.height.min":"","layout.widget.height.max":"","layout.widget.addedByPlugin":"","layout.widget.modifiedByPlugin":"","layout.widget.hideOverlay":"","dropzone.new.row.desc":"{nbsp}<b></b>","dropzone.widget.desc":"<b></b>","dropzone.widget.last.in.row.desc":"<b></b>","deleteKpiConfirmationDialog.headline":" KPI","deleteKpiConfirmationDialog.message":" KPI ","deleteKpiConfirmationDialog.submitButtonText":"","newDashboard.title":"","newDashboard.dropInsight":"","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong>  <strong>{childTitle}</strong> ","attributesDropdown.attributeNameWithData":"","filter.visibilityMode.tooltip.hidden":"","filter.visibilityMode.tooltip.readonly.editMode":"","filter.visibilityMode.tooltip.readonly.viewMode":"","filter.resetButton.tooltip":"","dateFilterDropdown.save":"","filter.configuration.mode.title":"","filter.configuration.mode.interactive.title":"","filter.configuration.mode.interactive.tooltip":"","filter.configuration.mode.locked.title":"","filter.configuration.mode.locked.tooltip":"","filter.configuration.mode.hidden.title":"","filter.configuration.mode.hidden.tooltip":"","filter.dependency.icon.tooltip":"<strong>{filterTitle}</strong>"}'),WE=JSON.parse('{"loading":"","untitled":" ","empty_value":" ","gs.list.cancel":"","gs.list.apply":"","gs.list.only":"","messages.dashboardSaveSuccess":".    .","options.menu.save.as":"  ","options.menu.save.as.tooltip":"   .","messages.dashboardSaveFailed":"   ,  .","messages.dashboard.invalidDrills.title":"<b>   </b>","messages.dashboard.invalidDrills.body.modern._measure":"   ///    ,          : <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidDrills.body.modern._metric":"   ///    ,          : <b>{listOfWidgetTitles}</b>","messages.dashboard.invalidCustomUrlDrills.title":"<b>    URL-  </b>","messages.dashboard.invalidCustomUrlDrills.body.modern":"    URL-      -    : <b>{listOfWidgetTitles}</b>","messages.dashboard.expandable.showMore":"","messages.dashboard.expandable.showLess":"","messages.drill.InteractionConfiguredSuccess":" .","messages.drill.InteractionUpdatedSuccess":" .","filterBar.showAll":" ","filterBar.showLess":"","options.menu.export.PDF":"  PDF","options.menu.schedule.email":"    ","options.menu.delete":"","dialogs.export.cells":"","dialogs.export.filters":" ","dialogs.export.includeFilters":"  ","dialogs.export.headline":"  XLSX","dialogs.export.mergeHeaders":"   ","dialogs.export.submit":"","dialogs.schedule.email.delete.success":"!     .","dialogs.schedule.email.submit.success":"!       .","dialogs.schedule.email.submit.error":"    .   .","dialogs.schedule.email.save.success":"!   .","dialogs.schedule.email.save.error":"   .   .","dialogs.save.as.new.title":"   ","dialogs.save.as.new.desc":"    ,       .","dialogs.save.as.new.default.title":" {title}","dialogs.save.as.new.alertsAndEmailsMessage":"       ","dialogs.save.as.new.alertsMessage":"   ","dialogs.save.as.new.emailsMessage":"     ","cancelConfirmationDialog.headline":" ?","cancelConfirmationDialog.message":"   ","cancelConfirmationDialog.submitButtonText":" ","deleteDashboardDialog.headline":" ?","deleteDashboardDialog.submitButtonText":"","deleteDashboardDialog.alertsAndEmailsMessage":"     ,    ,   .","deleteDashboardDialog.alertsMessage":" ,    ,   .","deleteDashboardDialog.emailsMessage":"   ,    ,   .","deleteDashboardDialog.drillMessage":" ,       ,  .","create.dashboard":" ","drill_modal_picker.drill-down":"","drill_modal_picker.drill-into":"","drill_modal_picker.more.details":"","drillModal.backToTop":"","filters.allTime.previousPeriod":". ","filters.allTime.lastYear":". ","filters.minute.previousPeriod":". ","filters.hour.previousPeriod":". ","filters.day.previousPeriod":". {n, plural, one {} other {#}}","filters.week.previousPeriod":". {n, plural, one {} other {#}}","filters.month.previousPeriod":". {n, plural, one {} other {#}}","filters.quarter.previousPeriod":". {n, plural, one {} other {#}}","filters.year.previousPeriod":". {n, plural, one {} other {#}}","filters.alertMessage.relativePreset":" {calendarIcon} {range}","filters.alertMessage.relativePreset.inPeriod":"  {calendarIcon} {range}","filters.config.warning.multipleProjectConfigs":"         .   .","filters.config.warning.multipleWorkspacesConfigs":"          .   .","filters.config.warning.selectedFilterNotValid":"    ,      .","filters.config.warning.allOptionsHidden":"     ,       .","filters.config.warning.conflictingIdentifiers":"     ,         .","filters.config.warning.notAvailable":"      ,        .","filters.config.warning.workspace.notAvailable":"       ,        .","kpi.noData":"     .   .","kpiPop.change":"","dialogs.schedule.email.filters":"   ,     .","dialogs.schedule.email.filters.not.saved":" ,   ,   .","dialogs.schedule.email.attachment.filter":"(   )","dialogs.schedule.email.attachment.label":":","dialogs.schedule.email.attachments.label":":","dialogs.schedule.email.attachment.select":" ","dialogs.schedule.email.attachment.select.disabled.message":"     .","dialogs.schedule.email.attachment.select.dashboard.header":" (PDF)","dialogs.schedule.email.attachment.select.widgets.header":" (CSV, XLSX)","dialogs.schedule.email.headline":"   ","dialogs.schedule.email.heading":" ","dialogs.schedule.email.message.label":":","dialogs.schedule.email.unsubscribed.recipients":"{n, plural, one {1    } few {#    } many {#    } other {#    }}   e.","dialogs.schedule.email.repeats.label":":","dialogs.schedule.email.repeats.execute.on.dayOfMonth":"{date}","dialogs.schedule.email.repeats.execute.on.dayOfWeek":" {week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.every":"","dialogs.schedule.email.repeats.frequencies.day":"{n, plural, one {} few {} many {} other {}}","dialogs.schedule.email.repeats.frequencies.month":"{n, plural, one {} few {} many {} other {}}","dialogs.schedule.email.repeats.frequencies.week":"{n, plural, one {} few {} many {} other {}}","dialogs.schedule.email.repeats.types.custom":" ","dialogs.schedule.email.repeats.types.daily":"","dialogs.schedule.email.repeats.types.monthly":"  {week, select, 1 {} 2 {} 3 {} 4 {} other {}} {day}","dialogs.schedule.email.repeats.types.weekly":" : {day}","dialogs.schedule.email.subject.label":":","dialogs.schedule.email.time.label":" :","dialogs.schedule.email.to.label":":","dialogs.schedule.email.message.placeholder":",\\n\\n    .      .","dialogs.schedule.email.submit":"","dialogs.schedule.email.save":"","dialogs.schedule.email.format.options":" ","dialogs.schedule.email.insight.format":" :","dialogs.schedule.email.attribute.merged":"   ","dialogs.schedule.email.show.filters":",   ","dialogs.schedule.management.title":" ","dialogs.schedule.management.delete":" .","dialogs.schedule.management.delete.dialog":" ?","dialogs.schedule.management.delete.dialog.confirm":"<b></b>   .","dialogs.schedule.management.noSchedules":"    .{br}   .","dialogs.schedule.management.noSchedules.byUser":"      .{br}   .","dialogs.schedule.management.addSchedule":" ","dialogs.schedule.management.recipients":"{n, plural, one {# } few {# } many {# } other {# }}","dialogs.schedule.management.recipients.onlyYou":" ","dialogs.schedule.management.attachments.dashboard":"","dialogs.schedule.management.attachments.widgets":"{n, plural, one {# } few {# } many {# } other {# }}","dialogs.schedule.management.attachments.mixed":"  {n, plural, one {# } few {# } many {# } other {# }}","dialogs.schedule.management.load.error":"  .   .","dialogs.schedule.management.delete.error":"   .   .","dialogs.schedule.management.tab.all":"","dialogs.schedule.management.tab.user":" ","options.menu.schedule.email.recipient.invalid":"    .","options.menu.schedule.email.recipient.warning.existed":"    .","options.menu.schedule.email.recipient.warning.belong.workspace":"        .     .","options.menu.schedule.email.recipient.external.not.allowed":"        .         .","delete":"","close":"","cancel":"","gs.date.at":"","gs.date.today":"","gs.date.tomorrow":"","gs.date.yesterday":"","kpi.alertBox.title":"    ","kpi.alertBox.example":".","kpi.alertBox.unverifiedEmail":" ,     . ,      .    ,     .","kpi.alertBox.disabledInReadOnly":"      ","kpi.error.view":"    .   ,    .","kpiAlertDialog.delete":"","kpiAlertDialog.deleting":"","kpiAlertDialog.emailMe":" ","kpiAlertDialog.emailMeWhen":"{emailMe}   ","kpiAlertDialog.emailInfo":".     {userEmail}","kpiAlertDialog.invalidNumber":"<strong>  .</strong>{br}      .","kpiAlertDialog.filtersDiffer":"   ,     .","kpiAlertDialog.filtersApply":"    ","kpiAlertDialog.savingFailed":"   .  .","kpiAlertDialog.deleteingFailed":"   .  .","kpiAlertDialog.brokenAlert":" ","kpiAlertDialog.brokenAlertAppeal":"    ,     .     .","kpiAlertDialog.brokenAlertDefaultDateLabel":"","kpiAlertDialog.removedFilters":"   ","kpiAlertDialog.ignoredFilters":"    ","kpiAlertDialog.updateTitle":"","kpiAlertDialog.updateBrokenTitle":" ","kpiAlertDialog.updatingTitle":"","kpiAlertDialog.updateBrokenFailed":"   .  .","kpiAlertDialog.setTitle":" ","kpiAlertDialog.settingTitle":"","kpiAlertDialog.threshold.above":"","kpiAlertDialog.threshold.below":"","kpiAlertDialog.withAttributeFilters":" {numFilters} {numFilters, select, 1 { } few { } many { } other { }}","messages.exportResultError":"   .  .","messages.exportResultRestrictedError":"     ,        .","messages.exportResultStart":" ","messages.exportResultSuccess":"  .","messages.sharingChangedSuccess":"  .","messages.sharingChangedError.general":"     .  .","messages.sharingDialogError.general":"     .  .","visualization.dataTooLarge.headline":"     ","visualization.dataTooLarge.text":"        .","visualization.execute_protected_report.headline":"       ","visualization.execute_protected_report.text":"   .","visualization.alert_not_supported":"      .","visualization.empty.headline":"     ","visualization.error.headline":" ,      ","visualization.error.text":"   .","options.button.bubble":"  ","options.menu.export.CSV":"CSV","options.menu.export.XLSX":"XLSX","options.menu.unsupported.error._measure":"     .          .","options.menu.unsupported.error._metric":"     .          .","options.menu.unsupported.loading":"     .","export.defaultTitle":"  ","export_unsupported.disabled":"  ","widget.options.menu.exportToCSV":"  CSV","widget.options.menu.exportToXLSX":"  XLSX","widget.options.menu.scheduleExport":" ","share.button.text":"","dashboard.error.empty.heading":"  ","dashboard.error.empty.text":"   .","dashboard.shareDialog.underLenientControl.label":"       ,        .","dashboard.shareDialog.lock.label":"     ","header.lockStatus.tooltip":"<b>  .</b>     .","header.shareStatus.private.text":"","header.shareStatus.private.strict.tooltip":"       .","header.shareStatus.private.not.strict.tooltip":"    .             .","dashboard.shareDialog.removeAccessGranteeTooltip":"    .","dashboard.shareDialog.removeAccessCreatorTooltip":" ,   .   .","attributesDropdown.placeholder":" ","attributesDropdown.configuration":"","attributesDropdown.itemsFiltered":" ","attributesDropdown.allItemsFiltered":"  ","attributesDropdown.itemsFiltered.tooltip":"  : <strong>{filters}</strong>","attributesDropdown.save":"","attributesDropdown.filterBy":" ","attributesDropdown.displayValuesAs":"  ","attributesDropdown.title":"","attributesDropdown.title.reset":"","attributesDropdown.selectionMode":"","attributesDropdown.selectionMode.multi":" ","attributesDropdown.selectionMode.single":" ","attributesDropdown.selectionMode.disabled.tooltip":"    ,  -      .     ,       .","attributesDropdown.parentFilter.disabled.tooltip":"       .    ,   .","attributesDropdown.noConnectionMessage":"<strong>{childTitle}</strong>    <strong>{parentTitle}</strong>.        .","attributesDropdown.details.dataset":"","attributesDropdown.details.values":"","attributesDropdown.details.shortening_decoration":"  {count}","attributesDropdown.removeTooltip":"  ","layout.header.characters.left":" : {currentCharactersCount}/{maximumCharactersCount}","layout.header.add.title.placeholder":"  ...","layout.header.add.description.placeholder":"  ...","error":"","controlButtons.edit.value":"","controlButtons.saveAndPublish.value":"  ","controlButtons.save.value":"","controlButtons.saveAndPublish.title":"     ,       .","controlButtons.saveAsPrivate.title":"   .","controlButtons.saveAndPublish.disable.empty.title":"   ","controlButtons.saveAndPublish.disable.noChanges.title":"   ","controlButtons.saving.value":"","gs.visualizationsList.tabs.all":"","gs.visualizationsList.tabs.my":" ","visualizationsList.noInsights":"     .","visualizationsList.create":" ","visualizationsList.noUserInsights":"  .","visualizationsList.noVisualizationsFound":"  .","search_insights":"   ","save.as.new":"  ","addPanel.deleteItem":",  ","addPanel.newItem":" ","addPanel.attributeFilter":" ","addPanel.attributeFilter.tooltip.no_attributes":"   .","addPanel.attributeFilter.tooltip.no_attributes.link":"","addPanel.kpi":"  ","addPanel.kpi.tooltip.no_measures._measure":"     .","addPanel.kpi.tooltip.no_measures._metric":"    .","addPanel.kpi.tooltip.no_measures.link":"","visualizationsList.dragToAdd":",  ","visualizationsList.savedVisualizations":" ","configurationPanel.drillConfig.selectDashboard":" ","configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder":"   ","configurationPanel.drillConfig.forbiddenDashboard":"(  )","configurationPanel.drillConfig.forbiddenDashboard.tooltip":"   ,       .","configurationPanel.drillConfig.notSharedDashboard.tooltip":"   ,        ,        .","configurationPanel.remove.form.dashboard":"  ","filterBar.filter.drop":",  ","filterBar.filter.addFilterPlaceholder":" {icon} ","filterBar.filter.dropzone.tooltip":"   .","configurationPanel.title":"","configurationPanel.comparison":"","configurationPanel.compareWith":" ","configurationPanel.increasingNumberIs":" ","configurationPanel.comparisonTypeItems.previousPeriod":" ","configurationPanel.comparisonTypeItems.samePeriodInPreviousYear":"    ","configurationPanel.comparisonTypeItems.noComparison":" ","configurationPanel.comparisonDirectionItems.green":"","configurationPanel.comparisonDirectionItems.red":"","configurationPanel.unlistedMetric._measure":"  ","configurationPanel.unlistedMetric._metric":"  ","configurationPanel.unlistedMetricIconTitle._measure":"  .     .","configurationPanel.unlistedMetricIconTitle._metric":"  .     .","configurationPanel.selectMeasurePlaceholder._measure":" ","configurationPanel.selectMeasurePlaceholder._metric":" ","configurationPanel.selectComparisonPlaceholder":" ","configurationPanel.selectComparisonDirectionPlaceholder":" /","configurationPanel.measure._measure":"","configurationPanel.measure._metric":"","configurationPanel.filterBy":" ","configurationPanel.date":"","configurationPanel.dateAs":"","configurationPanel.vizCantBeFilteredByAttribute":"     {attributeName}.  .","configurationPanel.kpiCantBeFilteredByAttribute":"     {attributeName}.  .","configurationPanel.vizCantBeFilteredByDate":"     .  .","configurationPanel.kpiCantBeFilteredByDate":"     .  .","configurationPanel.unrelatedVizDateInfo":"\\"{dateDataSet}\\"     .      .","configurationPanel.unrelatedKpiDateInfo":"\\"{dateDataSet}\\"     .      .","configurationPanel.breakAlertWarning":"\\n              {numAlerts} {numAlerts, select, 1 {} few {} many {} other {}}\\n              .     {numAlerts, select, 1 { } few { } many { } other { }}.\\n        ","configurationPanel.drillIntoDashboard":"  ","configurationPanel.noLinkableDashboards":"   ","configurationPanel.selectDashboard":" ","configurationPanel.interactions":"","configurationPanel.drillConfig.interactions":" ","configurationPanel.drillConfig.addInteraction":" ","configurationPanel.drillConfig.clickHint":"  ","configurationPanel.drillConfig.measureValue._measure":" ","configurationPanel.drillConfig.measureValue._metric":" ","configurationPanel.drillConfig.attributeValue":" ","configurationPanel.drillConfig.selectTarget":" ","configurationPanel.drillConfig.clickHintItem":"   <addon>()</addon>","configurationPanel.drillConfig.drillIntoDashboard":"  ","configurationPanel.drillConfig.drillIntoInsight":"  ","configurationPanel.drillConfig.drillDown":"","configurationPanel.drillConfig.drillIntoUrl":"  URL","configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl":"  URL","configurationPanel.drillConfig.select":" ","configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning":"           .","configurationPanel.unlistedDashboardTab":"  ","configurationPanel.visualprops.sectionTitle":"","configurationPanel.visualprops.hideTitle":" ","configurationPanel.visualprops.sectionDescription":"","configurationPanel.visualprops.inheritDescription":"","configurationPanel.visualprops.inheritDescriptionHelp":"   .","configurationPanel.visualprops.inheritKpiDescriptionHelp._metric":"   .","configurationPanel.visualprops.inheritKpiDescriptionHelp._measure":"   .","configurationPanel.visualprops.customDescription":" ","configurationPanel.visualprops.customDescriptionHelp":"      .","configurationPanel.visualprops.customKpiDescriptionHelp":"  .","configurationPanel.visualprops.noneDescription":"","configurationPanel.visualprops.includeMetrics._measure":"  ","configurationPanel.visualprops.includeMetrics._metric":"  ","configurationPanel.visualprops.includeMetricsHelp._measure":"        .","configurationPanel.visualprops.includeMetricsHelp._metric":"        .","configurationPanel.visualprops.descriptionPlaceholder":" ","configurationPanel.drillIntoUrl.defaultButtonValue":" URL","configurationPanel.drillIntoUrl.attributeUrlSectionTitle":"   ","configurationPanel.drillIntoUrl.customUrlSectionTitle":" URL","configurationPanel.drillIntoUrl.editor.addUrlTitle":" . URL","configurationPanel.drillIntoUrl.editor.editUrlTitle":". . URL","configurationPanel.drillIntoUrl.editor.textAreaLabel":"URL","configurationPanel.drillIntoUrl.editor.parametersPanelLabel":"","configurationPanel.drillIntoUrl.editor.parametersPanelTooltip":"   ,       .","configurationPanel.drillIntoUrl.editor.addParameterButtonLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailType":"","configurationPanel.drillIntoUrl.editor.parameterDetailLabel":"","configurationPanel.drillIntoUrl.editor.parameterDetailValues":"{numberOfValues, plural, one {} few {} many {} other {}}","configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues":"...  {count}","configurationPanel.drillIntoUrl.editor.insightIdParameterLabel":" ","configurationPanel.drillIntoUrl.editor.clientIdParameterLabel":" ","configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel":"  ","configurationPanel.drillIntoUrl.editor.projectIdParameterLabel":" ","configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel":"  ","configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel":" ","configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel":" ","configurationPanel.drillIntoUrl.editor.identifierTypeLabel":"","configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel":"","configurationPanel.drillIntoUrl.editor.applyButtonLabel":"","configurationPanel.drillIntoUrl.editor.cancelButtonLabel":"","configurationPanel.drillIntoUrl.editor.textAreaPlaceholder":" URL      .","configurationPanel.drillIntoUrl.editor.helpButtonLabel":"   URL?","configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms":" : {invalidParameters}","configurationPanel.drillIntoUrl.customUrlAddButtonLabel":" . URL","configurationPanel.drillIntoUrl.customUrlEditButtonLabel":". . URL","configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel":"  ","configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel":" -","configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel":" URL ","configurationPanel.zoomInsight":" ","configurationPanel.zoomInsight.help":"      .   shift,    .","configurationPanel.zoomInsight.notice":"      .","configurationPanel.drillConfig.selectInsight":" ","gs.date.date-dataset.recommended":"","gs.date.date-dataset.other":"","gs.date.date-dataset.related":"","gs.date.date-dataset.unrelated":"","gs.date.date-dataset.unrelated_hidden":"{count} {count, plural, one { } few { } many { } other { }} {isShow, select, true {} other {}}.","gs.date.date-dataset.unrelated.show":"","gs.date.date-dataset.unrelated.hide":"","layout.widget.width.min":"   ","layout.widget.width.max":"   ","layout.widget.height.min":"   ","layout.widget.height.max":"   ","layout.widget.addedByPlugin":" ","layout.widget.modifiedByPlugin":" ","layout.widget.hideOverlay":" ","dropzone.new.row.desc":",  {nbsp}<b> </b>","dropzone.widget.desc":" <b></b>","dropzone.widget.last.in.row.desc":"  <b> </b>","deleteKpiConfirmationDialog.headline":" ","deleteKpiConfirmationDialog.message":" ,    ,   .","deleteKpiConfirmationDialog.submitButtonText":"","newDashboard.title":"  ","newDashboard.dropInsight":" ","attributesDropdown.filterConfiguredMessage":"<strong>{parentTitle}</strong>    <strong>{childTitle}</strong>     .","attributesDropdown.attributeNameWithData":" ","filter.visibilityMode.tooltip.hidden":"  .        .","filter.visibilityMode.tooltip.readonly.editMode":"  .       .","filter.visibilityMode.tooltip.readonly.viewMode":"  .","dateFilterDropdown.save":"","filter.configuration.mode.title":"","filter.configuration.mode.interactive.title":"","filter.configuration.mode.interactive.tooltip":"      .","filter.configuration.mode.locked.title":"","filter.configuration.mode.locked.tooltip":"     ,     .","filter.configuration.mode.hidden.title":"","filter.configuration.mode.hidden.tooltip":"     ,   ."}'),VE={"en-US":FE._(ME),"de-DE":NE,"es-ES":_E,"fr-FR":HE,"ja-JP":UE,"nl-NL":GE,"pt-BR":jE,"pt-PT":BE,"zh-Hans":zE,"ru-RU":WE},KE=Sm({},$.messagesMap,VE),qE={time:{hhmm:{hour:"numeric",minute:"2-digit"}},date:{shortWithoutYear:{day:"numeric",month:"short"},shortWithYear:{day:"numeric",month:"short",year:"numeric"}}},YE=({children:e,locale:t=$.DefaultLocale})=>{const i=(0,R.useCallback)((i=>R.createElement(OE.Z,{locale:t,messages:i,formats:qE},e)),[t,e]);return R.createElement($.TranslationsCustomizationProvider,{translations:KE[t],render:i})},ZE=300,$E={x:0,y:0,bottom:0,top:0,left:0,right:0,height:0,width:0},XE={resizeDirection:"none",resizeItemIdentifiers:[],heightLimitReached:"none",widthState:null,initialDashboardDimensions:$E},QE=(0,R.createContext)({resizeDirection:"none",resizeItemIdentifiers:[],heightLimitReached:"none",widthState:null,initialDashboardDimensions:$E,resizeStart:K,resizeEnd:K,setScrollCorrection:K,getScrollCorrection:()=>({x:0,y:0}),setWidthState:K,toggleHeightLimitReached:K});function JE({children:e}){const t=(0,R.useRef)({x:0,y:0}),[i,r]=(0,R.useState)(XE),a=(0,R.useCallback)(((e,t,i)=>{r({heightLimitReached:"none",initialDashboardDimensions:i?i():$E,resizeDirection:e,resizeItemIdentifiers:t,widthState:null})}),[]),n=(0,R.useCallback)((e=>{r((t=>Object.assign(Object.assign({},t),{heightLimitReached:e})))}),[]),o=(0,R.useCallback)((e=>{r((t=>Object.assign(Object.assign({},t),{widthState:e})))}),[]),l=(0,R.useCallback)((e=>{t.current=e}),[]),s=(0,R.useCallback)((()=>t.current),[]),d=(0,R.useCallback)((()=>{r(XE)}),[]);return R.createElement(QE.Provider,{value:Object.assign(Object.assign({},i),{resizeStart:a,resizeEnd:d,setScrollCorrection:l,getScrollCorrection:s,setWidthState:o,toggleHeightLimitReached:n})},e)}function eI(){return(0,R.useContext)(QE)}function tI(){const e=eI();return{resizeStart:e.resizeStart,toggleHeightLimitReached:e.toggleHeightLimitReached,resizeEnd:e.resizeEnd,setWidthState:e.setWidthState,setScrollCorrection:e.setScrollCorrection,getScrollCorrection:e.getScrollCorrection}}function iI({isCurrent:e,isInitial:t,index:i}){const r="gd-resize-bullet s-resize-bullet-"+i;return R.createElement("div",{className:r},R.createElement("svg",{className:"gd-resize-bullet-icon"},R.createElement("circle",{cx:"3",cy:"3",r:"3",className:gy({active:e,initial:t,passive:!e&&!t})})))}const rI=Pn+1;function aI(){const e=function(){const e=eI();return Object.assign({isResizingWidth:"width"===e.resizeDirection},e.widthState)}();return e.isResizingWidth?R.createElement("div",{className:"gd-resize-bullets-bar"},[...Array(rI)].map(((t,i)=>R.createElement(iI,{key:i,index:i,isInitial:e.initialIndex===i,isCurrent:e.currentIndex===i})))):null}const nI=({isVisible:e,isFilterBarExpanded:t,onToggle:i})=>{if(!e)return null;const r=t?"gd-icon-chevron-up":"gd-icon-chevron-down";return R.createElement("div",{className:"show-all"},R.createElement("button",{className:"button-filter-bar-show-all",tabIndex:-1,onClick:()=>i(!t)},R.createElement("span",{className:"gd-button-text gd-label"},t?R.createElement(PE.Z,{id:"filterBar.showLess"}):R.createElement(PE.Z,{id:"filterBar.showAll"}),R.createElement("i",{className:`gd-button-icon gd-icon ${r}`}))))},oI={expandedHeight:0,collapsedHeight:0,rows:[]};const lI=(0,jf.b)(LE.Z),sI=({children:e})=>{const{rows:t,height:i,isFilterBarExpanded:r,scrollable:a,setFilterBarExpanded:n,setCalculatedRows:o}=function(){const[e,t]=(0,R.useState)(oI),{expandedHeight:i,collapsedHeight:r,rows:a}=e,n=Zf(),o=$f(Ab);return{rows:a,scrollable:function(e){const[t,i]=(0,R.useState)(!1);return(0,R.useEffect)((()=>{let t=null;return e?t=window.setTimeout((()=>i(!0)),200):i(!1),()=>{null!==t&&window.clearTimeout(t)}}),[e]),t}(o),height:(o?i:r)+1,isFilterBarExpanded:o,setCalculatedRows:t,setFilterBarExpanded:e=>n(Ha.setFilterBarExpanded(e))}}(),l=function(e,t,i){const r=(0,R.useRef)(!1),a=(0,R.useRef)(!1),n=(0,R.useRef)(!1),[{canDrop:o},l]=rE(["attributeFilter","attributeFilter-placeholder"],{drop:(e,t)=>{t.didDrop()&&(n.current=!0)}},[]);return(0,R.useEffect)((()=>{const l=o===r.current,s=e===a.current;l&&s||(o&&e?(n.current=t,i(!0)):n.current!==t&&(i(n.current),n.current=!1),r.current=o,a.current=e)}),[o,e,t,i]),l}(t.length>1,r,n);return R.createElement("div",{className:"dash-filters-wrapper s-gd-dashboard-filter-bar",ref:l},R.createElement("div",{style:{height:i},className:gy("dash-filters-visible",{scrollable:a,"s-dash-filters-visible-all":r})},R.createElement(dI,{setCalculatedRows:o},e),R.createElement(cI,{rows:t})),R.createElement(nI,{isFilterBarExpanded:r,isVisible:t.length>1,onToggle:e=>n(e)}),R.createElement(aI,null))},dI=({setCalculatedRows:e,children:t})=>{const i=(0,R.useRef)(null),r=(a=i,(0,R.useCallback)((e=>{const t=a.current;if(!t||!e.bounds)return oI;const{height:i}=e.bounds,r=function(e){const t=Array.prototype.slice.call(e.childNodes);let i=Number.MIN_SAFE_INTEGER;return t.reduce(((e,t)=>{if(Boolean(t.offsetWidth)){const r=e[e.length-1];t.offsetLeft<=i?e.push([t]):r.push(t),i=t.offsetLeft}return e}),[[]])}(t),n=function(e){return e.map((e=>{const t=e.map((e=>{var t;return null!==(t=e.offsetHeight)&&void 0!==t?t:0}));return Math.max(...t)}))}(r);return{expandedHeight:i,collapsedHeight:n[0],rows:n}}),[a]));var a;return R.createElement(lI,{bounds:!0,innerRef:e=>i.current=e,onResize:t=>e(r(t))},(({measureRef:e})=>R.createElement("div",{className:"dash-filters-all",ref:e},t)))},cI=({rows:e})=>R.createElement(R.Fragment,null,e.length>1&&R.createElement("div",{className:"dash-filters-rows"},e.map(((e,t)=>R.createElement("div",{className:"dash-filters-row",style:{height:e},key:t}))))),uI=({children:e})=>{const t=$f(zo);return R.createElement(YE,{locale:t},R.createElement(sI,null,e))};function gI(e){return"attributeFilterPlaceholder"===e.type}const mI=e=>null,pI={bubbleClassNames:"gd-filter-button-custom-icon-bubble s-gd-filter-button-custom-icon-bubble"},hI=(e,t,i,r)=>{if(i)return e===n.DashboardDateFilterConfigModeValues.HIDDEN?Object.assign(Object.assign({},pI),{icon:"gd-icon-invisible s-gd-icon-invisible",tooltip:r.formatMessage(rv.filterHiddenTooltip)}):e===n.DashboardDateFilterConfigModeValues.READONLY?Object.assign(Object.assign({},pI),{icon:"gd-icon-lock s-gd-icon-lock",tooltip:r.formatMessage(t?rv.filterReadonlyInEditModeTooltip:rv.filterReadonlyInViewModeTooltip)}):void 0},fI=(e,t,i)=>{const r=t===n.DashboardDateFilterConfigModeValues.HIDDEN,a=e.every((e=>bI(e,i)));return r&&a},bI=(e,t)=>!gI(e)&&t.get(e.filter.attributeFilter.localIdentifier)===n.DashboardAttributeFilterConfigModeValues.HIDDEN;var vI=i(86896);const DI=[{align:"bc tc"}],yI=()=>{const e=(0,vI.Z)().formatMessage(rv.filterResetButtonTooltip),[t,i]=(()=>{const e=$f(yc),t=$f(ed),i=$f(nd),r=$f(Ml),a=$f(No),o=Zf(),{filterContextStateReset:l}=ab(),s=R.useMemo((()=>!e&&!Pa(i,t)),[t,i,e]),d=R.useMemo((()=>{const e=t.filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier)),r=i.filter(n.isDashboardAttributeFilter).map((e=>e.attributeFilter.localIdentifier));return kn(r,e)}),[i,t]),c=R.useCallback((()=>{if(!s)return;const[[e],i]=Ti(t,n.isDashboardDateFilter);o(Bh([null!=e?e:(0,n.newAllTimeDashboardDateFilter)(),...i])),r&&a&&(o(Nh(d)),o(bs.resetCrossFiltering())),l()}),[s,t,o,r,a,l,d]);return[s,c]})();return t?R.createElement("div",{className:"dash-filters-reset"},R.createElement(pb.BubbleHoverTrigger,null,R.createElement("button",{className:"gd-button-link button-filter-bar-reset",onClick:i},R.createElement(pb.Icon.Reset,{className:"gd-icon-reset",width:20,height:20})),R.createElement(pb.Bubble,{alignPoints:DI},R.createElement("span",null,e)))):null},EI=()=>{const e=$f(nd),t=$f(To),i=Zf(),r=(0,R.useCallback)((e=>{const r=t?e:function(e){return(0,n.isAttributeElementsByRef)(e.attributeFilter.attributeElements)?e:{attributeFilter:Object.assign(Object.assign({},e.attributeFilter),{attributeElements:{uris:e.attributeFilter.attributeElements.values}})}}(e),{attributeElements:a,negativeSelection:o,localIdentifier:l}=r.attributeFilter;i(Hh(l,a,o?"NOT_IN":"IN"))}),[i,t]),a=(0,R.useCallback)(((e,t)=>{if(e){const{type:r,granularity:a,from:n,to:o}=e.dateFilter;i(xh(r,a,n,o,t))}else i(Oh())}),[i]);return{filters:e,onAttributeFilterChanged:r,onDateFilterChanged:a,DefaultFilterBar:II}};function II(e){const{filters:t,onAttributeFilterChanged:i,onDateFilterChanged:r}=e,[{dateFilter:a,attributeFiltersWithPlaceholder:o,attributeFiltersCount:l,autoOpenFilter:s},{addAttributeFilterPlaceholder:d,closeAttributeSelection:c,selectAttributeFilter:u,onCloseAttributeFilter:g}]=function(e){const t=Zf(),i=$f(Gb),r=$f(_l),[[a],o]=Ti(e,n.isDashboardDateFilter),[l,s]=(0,R.useState)(),[d,c]=(0,R.useState)(),u=(0,R.useMemo)((()=>{if(void 0!==i)return l?Object.assign(Object.assign({},{type:"attributeFilterPlaceholder",filterIndex:i}),{selectedDisplayForm:l}):{type:"attributeFilterPlaceholder",filterIndex:i}}),[i,l]),g=(0,R.useCallback)((function(e){t(Ha.selectFilterIndex(e))}),[t]),m=(0,R.useCallback)((()=>{s(void 0),t(Ha.clearFilterIndexSelection())}),[t]),p=(0,R.useCallback)((function(){l||m()}),[l,m]),h=(0,R.useMemo)((()=>{const e=o.map(((e,t)=>({filter:e,filterIndex:t}))),t=l&&o.some((e=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,l)));return void 0===u||t||e.splice(u.filterIndex,0,u),e}),[u,o,l]),f=(0,R.useCallback)((function(e){if(!u)return;const i=r.find((t=>t.displayForms.some((t=>(0,n.areObjRefsEqual)(t.ref,e))))),a=null==i?void 0:i.displayForms.find((e=>o.find((t=>(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,e)))));a?(c(a),m()):(s(e),c(e),GD(t,Fh(e,u.filterIndex)).finally(m))}),[u,o,r,m,t]),b=(0,R.useCallback)((()=>{c(void 0)}),[]);return[{dateFilter:a,attributeFiltersWithPlaceholder:h,attributeFiltersCount:o.length,autoOpenFilter:d},{addAttributeFilterPlaceholder:g,selectAttributeFilter:f,closeAttributeSelection:p,onCloseAttributeFilter:b}]}(t),m=$f(yc),h=$f(Ac),f=$f(wc),b=$f(Sc),v=$f(Pc),D=$f(Oc),y=$f(Xo),{AttributeFilterComponentSet:E,DashboardDateFilterComponentProvider:I}=sy(),C=$f(To),S=$f(ad),w=$f(hd),T=fI(o,v,D);if(y||T)return R.createElement(mI,Object.assign({},e));const A={availableGranularities:f,dateFilterOptions:b,customFilterName:h},P=I(a);return R.createElement(uI,null,R.createElement("div",{className:gy("dash-filters-date",{"dash-filter-is-edit-mode":m})},v===n.DashboardDateFilterConfigModeValues.HIDDEN?R.createElement(xE,null):R.createElement(R.Fragment,null,R.createElement(P,{filter:a,onFilterChanged:r,config:A,readonly:v===n.DashboardDateFilterConfigModeValues.READONLY}),R.createElement(aE,{placement:"outside",hintPosition:"next",targetIndex:0,onAddAttributePlaceholder:d,acceptPlaceholder:w}))),o.map((e=>{if(gI(e)){const t=E.creating.CreatingPlaceholderComponent;return R.createElement(t,{key:e.filterIndex,onClose:c,onSelect:u})}{const{filter:t,filterIndex:r}=e,a=C?t:TE(t),o=E.MainComponentProvider(a),l=D.get(t.attributeFilter.localIdentifier),c=S.get(a.attributeFilter.displayForm);return(0,p.kG)(c,"inconsistent state, display form for a filter was not found"),l===n.DashboardAttributeFilterConfigModeValues.HIDDEN?null:R.createElement(AE,{key:`${(0,n.objRefToString)(c.attribute)}-${t.attributeFilter.localIdentifier}`,autoOpen:(0,n.areObjRefsEqual)(t.attributeFilter.displayForm,s),filter:t,filterIndex:r,readonly:l===n.DashboardAttributeFilterConfigModeValues.READONLY,FilterComponent:o,onAttributeFilterChanged:i,onAttributeFilterAdded:d,onAttributeFilterClose:g})}})),w?R.createElement(RE,{targetIndex:l,onDrop:d}):null,R.createElement(yI,null),R.createElement("div",{className:"filter-bar-dropzone-container"},R.createElement(aE,{placement:"outside",hintPosition:"prev",acceptPlaceholder:!1,targetIndex:l})))}const CI="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,SI=new Set,wI="object"==typeof process&&process?process:{},TI=(e,t,i,r)=>{"function"==typeof wI.emitWarning?wI.emitWarning(e,t,i,r):console.error(`[${i}] ${t}: ${e}`)};let AI=globalThis.AbortController,PI=globalThis.AbortSignal;if(void 0===AI){PI=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},AI=class{constructor(){t()}signal=new PI;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==wI.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,TI("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const kI=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),RI=e=>kI(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?xI:null:null;class xI extends Array{constructor(e){super(e),this.fill(0)}}class LI{heap;length;static#e=!1;static create(e){const t=RI(e);if(!t)return[];LI.#e=!0;const i=new LI(e,t);return LI.#e=!1,i}constructor(e,t){if(!LI.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class OI{#t;#i;#r;#a;#n;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#l;#s;#d;#c;#u;#g;#m;#p;#h;#f;#b;#v;#D;#y;#E;#I;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#D,sizes:e.#b,keyMap:e.#s,keyList:e.#d,valList:e.#c,next:e.#u,prev:e.#g,get head(){return e.#m},get tail(){return e.#p},free:e.#h,isBackgroundFetch:t=>e.#C(t),backgroundFetch:(t,i,r,a)=>e.#S(t,i,r,a),moveToTail:t=>e.#w(t),indexes:t=>e.#T(t),rindexes:t=>e.#A(t),isStale:t=>e.#P(t)}}get max(){return this.#t}get maxSize(){return this.#i}get calculatedSize(){return this.#l}get size(){return this.#o}get fetchMethod(){return this.#n}get dispose(){return this.#r}get disposeAfter(){return this.#a}constructor(e){const{max:t=0,ttl:i,ttlResolution:r=1,ttlAutopurge:a,updateAgeOnGet:n,updateAgeOnHas:o,allowStale:l,dispose:s,disposeAfter:d,noDisposeOnSet:c,noUpdateTTL:u,maxSize:g=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:h,noDeleteOnFetchRejection:f,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:D,ignoreFetchAbort:y}=e;if(0!==t&&!kI(t))throw new TypeError("max option must be a nonnegative integer");const E=t?RI(t):Array;if(!E)throw new Error("invalid max value: "+t);if(this.#t=t,this.#i=g,this.maxEntrySize=m||this.#i,this.sizeCalculation=p,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==h&&"function"!=typeof h)throw new TypeError("fetchMethod must be a function if specified");if(this.#n=h,this.#E=!!h,this.#s=new Map,this.#d=new Array(t).fill(void 0),this.#c=new Array(t).fill(void 0),this.#u=new E(t),this.#g=new E(t),this.#m=0,this.#p=0,this.#h=LI.create(t),this.#o=0,this.#l=0,"function"==typeof s&&(this.#r=s),"function"==typeof d?(this.#a=d,this.#f=[]):(this.#a=void 0,this.#f=void 0),this.#y=!!this.#r,this.#I=!!this.#a,this.noDisposeOnSet=!!c,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!f,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!D,this.ignoreFetchAbort=!!y,0!==this.maxEntrySize){if(0!==this.#i&&!kI(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!kI(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!n,this.updateAgeOnHas=!!o,this.ttlResolution=kI(r)||0===r?r:1,this.ttlAutopurge=!!a,this.ttl=i||0,this.ttl){if(!kI(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#t&&0===this.ttl&&0===this.#i)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#i){const e="LRU_CACHE_UNBOUNDED";(e=>!SI.has(e))(e)&&(SI.add(e),TI("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,OI))}}getRemainingTTL(e){return this.#s.has(e)?1/0:0}#R(){const e=new xI(this.#t),t=new xI(this.#t);this.#D=e,this.#v=t,this.#x=(i,r,a=CI.now())=>{if(t[i]=0!==r?a:0,e[i]=r,0!==r&&this.ttlAutopurge){const e=setTimeout((()=>{this.#P(i)&&this.delete(this.#d[i])}),r+1);e.unref&&e.unref()}},this.#L=i=>{t[i]=0!==e[i]?CI.now():0},this.#O=(a,n)=>{if(e[n]){const o=e[n],l=t[n];if(!o||!l)return;a.ttl=o,a.start=l,a.now=i||r();const s=a.now-l;a.remainingTTL=o-s}};let i=0;const r=()=>{const e=CI.now();if(this.ttlResolution>0){i=e;const t=setTimeout((()=>i=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=a=>{const n=this.#s.get(a);if(void 0===n)return 0;const o=e[n],l=t[n];return o&&l?o-((i||r())-l):1/0},this.#P=a=>{const n=t[a],o=e[a];return!!o&&!!n&&(i||r())-n>o}}#L=()=>{};#O=()=>{};#x=()=>{};#P=()=>!1;#k(){const e=new xI(this.#t);this.#l=0,this.#b=e,this.#F=t=>{this.#l-=e[t],e[t]=0},this.#M=(e,t,i,r)=>{if(this.#C(t))return 0;if(!kI(i)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(i=r(t,e),!kI(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#N=(t,i,r)=>{if(e[t]=i,this.#i){const i=this.#i-e[t];for(;this.#l>i;)this.#_(!0)}this.#l+=e[t],r&&(r.entrySize=i,r.totalCalculatedSize=this.#l)}}#F=e=>{};#N=(e,t,i)=>{};#M=(e,t,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#T({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#p;this.#H(t)&&(!e&&this.#P(t)||(yield t),t!==this.#m);)t=this.#g[t]}*#A({allowStale:e=this.allowStale}={}){if(this.#o)for(let t=this.#m;this.#H(t)&&(!e&&this.#P(t)||(yield t),t!==this.#p);)t=this.#u[t]}#H(e){return void 0!==e&&this.#s.get(this.#d[e])===e}*entries(){for(const e of this.#T())void 0===this.#c[e]||void 0===this.#d[e]||this.#C(this.#c[e])||(yield[this.#d[e],this.#c[e]])}*rentries(){for(const e of this.#A())void 0===this.#c[e]||void 0===this.#d[e]||this.#C(this.#c[e])||(yield[this.#d[e],this.#c[e]])}*keys(){for(const e of this.#T()){const t=this.#d[e];void 0===t||this.#C(this.#c[e])||(yield t)}}*rkeys(){for(const e of this.#A()){const t=this.#d[e];void 0===t||this.#C(this.#c[e])||(yield t)}}*values(){for(const e of this.#T())void 0===this.#c[e]||this.#C(this.#c[e])||(yield this.#c[e])}*rvalues(){for(const e of this.#A())void 0===this.#c[e]||this.#C(this.#c[e])||(yield this.#c[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const i of this.#T()){const r=this.#c[i],a=this.#C(r)?r.__staleWhileFetching:r;if(void 0!==a&&e(a,this.#d[i],this))return this.get(this.#d[i],t)}}forEach(e,t=this){for(const i of this.#T()){const r=this.#c[i],a=this.#C(r)?r.__staleWhileFetching:r;void 0!==a&&e.call(t,a,this.#d[i],this)}}rforEach(e,t=this){for(const i of this.#A()){const r=this.#c[i],a=this.#C(r)?r.__staleWhileFetching:r;void 0!==a&&e.call(t,a,this.#d[i],this)}}purgeStale(){let e=!1;for(const t of this.#A({allowStale:!0}))this.#P(t)&&(this.delete(this.#d[t]),e=!0);return e}info(e){const t=this.#s.get(e);if(void 0===t)return;const i=this.#c[t],r=this.#C(i)?i.__staleWhileFetching:i;if(void 0===r)return;const a={value:r};if(this.#D&&this.#v){const e=this.#D[t],i=this.#v[t];if(e&&i){const t=e-(CI.now()-i);a.ttl=t,a.start=Date.now()}}return this.#b&&(a.size=this.#b[t]),a}dump(){const e=[];for(const t of this.#T({allowStale:!0})){const i=this.#d[t],r=this.#c[t],a=this.#C(r)?r.__staleWhileFetching:r;if(void 0===a||void 0===i)continue;const n={value:a};if(this.#D&&this.#v){n.ttl=this.#D[t];const e=CI.now()-this.#v[t];n.start=Math.floor(Date.now()-e)}this.#b&&(n.size=this.#b[t]),e.unshift([i,n])}return e}load(e){this.clear();for(const[t,i]of e){if(i.start){const e=Date.now()-i.start;i.start=CI.now()-e}this.set(t,i.value,i)}}set(e,t,i={}){if(void 0===t)return this.delete(e),this;const{ttl:r=this.ttl,start:a,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:l}=i;let{noUpdateTTL:s=this.noUpdateTTL}=i;const d=this.#M(e,t,i.size||0,o);if(this.maxEntrySize&&d>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let c=0===this.#o?void 0:this.#s.get(e);if(void 0===c)c=0===this.#o?this.#p:0!==this.#h.length?this.#h.pop():this.#o===this.#t?this.#_(!1):this.#o,this.#d[c]=e,this.#c[c]=t,this.#s.set(e,c),this.#u[this.#p]=c,this.#g[c]=this.#p,this.#p=c,this.#o++,this.#N(c,d,l),l&&(l.set="add"),s=!1;else{this.#w(c);const i=this.#c[c];if(t!==i){if(this.#E&&this.#C(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=i;void 0===t||n||(this.#y&&this.#r?.(t,e,"set"),this.#I&&this.#f?.push([t,e,"set"]))}else n||(this.#y&&this.#r?.(i,e,"set"),this.#I&&this.#f?.push([i,e,"set"]));if(this.#F(c),this.#N(c,d,l),this.#c[c]=t,l){l.set="replace";const e=i&&this.#C(i)?i.__staleWhileFetching:i;void 0!==e&&(l.oldValue=e)}}else l&&(l.set="update")}if(0===r||this.#D||this.#R(),this.#D&&(s||this.#x(c,r,a),l&&this.#O(l,c)),!n&&this.#I&&this.#f){const e=this.#f;let t;for(;t=e?.shift();)this.#a?.(...t)}return this}pop(){try{for(;this.#o;){const e=this.#c[this.#m];if(this.#_(!0),this.#C(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#I&&this.#f){const e=this.#f;let t;for(;t=e?.shift();)this.#a?.(...t)}}}#_(e){const t=this.#m,i=this.#d[t],r=this.#c[t];return this.#E&&this.#C(r)?r.__abortController.abort(new Error("evicted")):(this.#y||this.#I)&&(this.#y&&this.#r?.(r,i,"evict"),this.#I&&this.#f?.push([r,i,"evict"])),this.#F(t),e&&(this.#d[t]=void 0,this.#c[t]=void 0,this.#h.push(t)),1===this.#o?(this.#m=this.#p=0,this.#h.length=0):this.#m=this.#u[t],this.#s.delete(i),this.#o--,t}has(e,t={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=t,a=this.#s.get(e);if(void 0!==a){const e=this.#c[a];if(this.#C(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#P(a))return i&&this.#L(a),r&&(r.has="hit",this.#O(r,a)),!0;r&&(r.has="stale",this.#O(r,a))}else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:i=this.allowStale}=t,r=this.#s.get(e);if(void 0===r||!i&&this.#P(r))return;const a=this.#c[r];return this.#C(a)?a.__staleWhileFetching:a}#S(e,t,i,r){const a=void 0===t?void 0:this.#c[t];if(this.#C(a))return a;const n=new AI,{signal:o}=i;o?.addEventListener("abort",(()=>n.abort(o.reason)),{signal:n.signal});const l={signal:n.signal,options:i,context:r},s=(r,a=!1)=>{const{aborted:o}=n.signal,s=i.ignoreFetchAbort&&void 0!==r;if(i.status&&(o&&!a?(i.status.fetchAborted=!0,i.status.fetchError=n.signal.reason,s&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),o&&!s&&!a)return d(n.signal.reason);const u=c;return this.#c[t]===c&&(void 0===r?u.__staleWhileFetching?this.#c[t]=u.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,r,l.options))),r},d=r=>{const{aborted:a}=n.signal,o=a&&i.allowStaleOnFetchAbort,l=o||i.allowStaleOnFetchRejection,s=l||i.noDeleteOnFetchRejection,d=c;if(this.#c[t]===c&&(s&&void 0!==d.__staleWhileFetching?o||(this.#c[t]=d.__staleWhileFetching):this.delete(e)),l)return i.status&&void 0!==d.__staleWhileFetching&&(i.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw r};i.status&&(i.status.fetchDispatched=!0);const c=new Promise(((t,r)=>{const o=this.#n?.(e,a,l);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),r),n.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(t(void 0),i.allowStaleOnFetchAbort&&(t=e=>s(e,!0)))}))})).then(s,(e=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=e),d(e)))),u=Object.assign(c,{__abortController:n,__staleWhileFetching:a,__returned:void 0});return void 0===t?(this.set(e,u,{...l.options,status:void 0}),t=this.#s.get(e)):this.#c[t]=u,u}#C(e){if(!this.#E)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof AI}async fetch(e,t={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:l=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:p,forceRefresh:h=!1,status:f,signal:b}=t;if(!this.#E)return f&&(f.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:a,status:f});const v={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:a,ttl:n,noDisposeOnSet:o,size:l,sizeCalculation:s,noUpdateTTL:d,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:m,ignoreFetchAbort:g,status:f,signal:b};let D=this.#s.get(e);if(void 0===D){f&&(f.fetch="miss");const t=this.#S(e,D,v,p);return t.__returned=t}{const t=this.#c[D];if(this.#C(t)){const e=i&&void 0!==t.__staleWhileFetching;return f&&(f.fetch="inflight",e&&(f.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const a=this.#P(D);if(!h&&!a)return f&&(f.fetch="hit"),this.#w(D),r&&this.#L(D),f&&this.#O(f,D),t;const n=this.#S(e,D,v,p),o=void 0!==n.__staleWhileFetching&&i;return f&&(f.fetch=a?"stale":"refresh",o&&a&&(f.returnedStale=!0)),o?n.__staleWhileFetching:n.__returned=n}}get(e,t={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:n}=t,o=this.#s.get(e);if(void 0!==o){const t=this.#c[o],l=this.#C(t);return n&&this.#O(n,o),this.#P(o)?(n&&(n.get="stale"),l?(n&&i&&void 0!==t.__staleWhileFetching&&(n.returnedStale=!0),i?t.__staleWhileFetching:void 0):(a||this.delete(e),n&&i&&(n.returnedStale=!0),i?t:void 0)):(n&&(n.get="hit"),l?t.__staleWhileFetching:(this.#w(o),r&&this.#L(o),t))}n&&(n.get="miss")}#U(e,t){this.#g[t]=e,this.#u[e]=t}#w(e){e!==this.#p&&(e===this.#m?this.#m=this.#u[e]:this.#U(this.#g[e],this.#u[e]),this.#U(this.#p,e),this.#p=e)}delete(e){let t=!1;if(0!==this.#o){const i=this.#s.get(e);if(void 0!==i)if(t=!0,1===this.#o)this.clear();else{this.#F(i);const t=this.#c[i];if(this.#C(t)?t.__abortController.abort(new Error("deleted")):(this.#y||this.#I)&&(this.#y&&this.#r?.(t,e,"delete"),this.#I&&this.#f?.push([t,e,"delete"])),this.#s.delete(e),this.#d[i]=void 0,this.#c[i]=void 0,i===this.#p)this.#p=this.#g[i];else if(i===this.#m)this.#m=this.#u[i];else{const e=this.#g[i];this.#u[e]=this.#u[i];const t=this.#u[i];this.#g[t]=this.#g[i]}this.#o--,this.#h.push(i)}}if(this.#I&&this.#f?.length){const e=this.#f;let t;for(;t=e?.shift();)this.#a?.(...t)}return t}clear(){for(const e of this.#A({allowStale:!0})){const t=this.#c[e];if(this.#C(t))t.__abortController.abort(new Error("deleted"));else{const i=this.#d[e];this.#y&&this.#r?.(t,i,"delete"),this.#I&&this.#f?.push([t,i,"delete"])}}if(this.#s.clear(),this.#c.fill(void 0),this.#d.fill(void 0),this.#D&&this.#v&&(this.#D.fill(0),this.#v.fill(0)),this.#b&&this.#b.fill(0),this.#m=0,this.#p=0,this.#h.length=0,this.#l=0,this.#o=0,this.#I&&this.#f){const e=this.#f;let t;for(;t=e?.shift();)this.#a?.(...t)}}}function FI(e){var t;return{sectionIndex:null===(t=e.section())||void 0===t?void 0:t.index(),itemIndex:e.index()}}function MI(){const e=Zf();return(0,R.useCallback)((()=>{e(Ha.clearDraggingWidgetSource()),e(Ha.clearDraggingWidgetTarget())}),[e])}const NI=(0,iv.vU)({minHeight:{id:"layout.widget.height.min"},maxHeight:{id:"layout.widget.height.max"},minWidth:{id:"layout.widget.width.min"},maxWidth:{id:"layout.widget.width.max"}});var _I;function HI(e){const t=function({isResizingColumnOrRow:e,isActive:t,reachedWidthLimit:i,reachedHeightLimit:r}){let a=_I.None;return e&&(a=_I.Grey,t&&(a=_I.Active,"none"===i&&"none"===r||(a=_I.Error))),a}(e);if(t===_I.None)return null;const i=t===_I.Error,r=t===_I.Active,a=gy("gd-resize-overlay",{active:r,error:i}),n=function({reachedHeightLimit:e,reachedWidthLimit:t}){return"min"===e?NI.minHeight:"max"===e?NI.maxHeight:"min"===t?NI.minWidth:"max"===t?NI.maxWidth:void 0}({reachedHeightLimit:e.reachedHeightLimit,reachedWidthLimit:e.reachedWidthLimit}),o=R.createElement("div",{className:"gd-resize-overlay-text"},R.createElement(PE.Z,Object.assign({},n)));return R.createElement(R.Fragment,null,R.createElement("div",{role:"resize-overlay",className:a}),i?o:null)}function UI(e,t){const i=Zf(),r=$f(Bo),{run:a}=Jf({commandCreator:Vm,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",onSuccess:e=>{i(Ha.setWidgetLoadingAdditionalDataStopped(e.payload.ref))},onError:e=>{i(Ha.setWidgetLoadingAdditionalDataStopped(e.payload.command.payload.ref))}}),{run:o}=Jf({commandCreator:uv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const t=e.payload.items[0].widget.ref;i(Ha.selectWidget(t)),i(Ha.setConfigurationPanelOpened(!0)),i(Ha.setWidgetDateDatasetAutoSelect(!0)),i(Ha.setWidgetLoadingAdditionalDataStarted(t)),a(t,"default")}});return(0,R.useCallback)((a=>{const l=`insert-insight-list-item-${e}_${t}`,s=qn(r,"insight",a);GD(i,cv(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:s.height.default,gridWidth:s.width.default}},widget:_d()},!1,l)).then((()=>{o(e,t,{type:"IDashboardLayoutItem",widget:{type:"insight",insight:(0,n.insightRef)(a),ignoreDashboardFilters:[],drills:[],title:(0,n.insightTitle)(a),description:""},size:{xl:{gridHeight:s.height.default,gridWidth:s.width.default}}},void 0,!1,l)}))}),[o,i,t,e,r])}function GI(e,t){const i=Zf(),r=$f(Bo),{run:a}=Jf({commandCreator:cv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",onSuccess:()=>{i(Ha.selectWidget((0,n.idRef)(kd))),i(Ha.setConfigurationPanelOpened(!0))}});return(0,R.useCallback)((()=>{const i=Yn(r);a(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:Rd()})}),[t,a,e,r])}function jI(e,t){const i=Zf(),r=$f(Bo),{run:a}=Jf({commandCreator:cv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEMS_ADDED",onSuccess:e=>{const t=e.payload.itemsAdded[0].widget.ref;i(Ha.selectWidget((0,n.idRef)(Td))),i(Ha.setConfigurationPanelOpened(!0)),i(Ha.setWidgetDateDatasetAutoSelect(!0)),i(Ha.setWidgetLoadingAdditionalDataStarted(t))}});return(0,R.useCallback)((()=>{const i=qn(r,"kpi");a(e,t,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:Ad()})}),[a,t,e,r])}function BI(e,t){const i=Zf();return(0,R.useCallback)((r=>{let a=t;r.sectionIndex===e&&(r.itemIndex<t&&(a=t-1),r.itemIndex===a)||i(mv(r.sectionIndex,r.itemIndex,e,a))}),[i,t,e])}function zI(){const e=Zf();return{handleDragHoverStart:(0,R.useCallback)((t=>{e(Ha.setDraggingWidgetTarget(t))}),[e]),handleDragHoverEnd:(0,R.useCallback)((()=>{e(Ha.clearDraggingWidgetTarget())}),[e])}}!function(e){e[e.None=0]="None",e[e.Grey=1]="Grey",e[e.Active=2]="Active",e[e.Error=3]="Error"}(_I||(_I={}));const WI=e=>{const{itemIndex:t,sectionIndex:i,classNames:r,dropZoneType:a,isEndingHotspot:n}=e,o=(0,R.useRef)(!1),l="next"===a?t+1:t,s=UI(i,l),d=GI(i,l),c=jI(i,l),u=BI(i,l),{handleDragHoverStart:g}=zI(),[{canDrop:m,isOver:p,item:h},f]=rE(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Sy(e)&&s(e.insight),Iy(e)&&c(),Cy(e)&&d(),(Dy(e)||yy(e))&&u(e)}},[l,i,s,d,c,u]);(0,R.useEffect)((()=>{p&&(g({sectionIndex:i,itemIndex:l}),o.current=p)}),[p,i,l,g]);const b=py({isOver:p}),v=(0,R.useCallback)((e=>!!e&&(!Dy(e)&&!yy(e)||n||e.sectionIndex!==i||e.itemIndex!==t)),[n,i,t]);return R.createElement("div",{className:gy(r,"dropzone",a,{hidden:!m||!v(h),full:n}),style:b,ref:f})};function VI({status:e}){const t=gy("s-gd-fluidlayout-width-resizer","gd-fluidlayout-width-resizer",e),i=gy("width-resizer-line",e);return R.createElement("div",{className:t},R.createElement("div",{className:i}))}function KI(e,t,i){return t!==e?e>i?"max":"min":"none"}function qI(e,t,i,r){const{minLimit:a,maxLimit:n,currentWidth:o,initialLayoutDimensions:l,gridColumnWidth:s}=e,d=function(e,t){return Math.round(e/t)}(i-r,s),c=function(e,t,i,r){const a=i+r,n=wn(a,e,t);return{limitedSize:n,unlimitedSize:a,isLimited:n!==a,limitReached:KI(a,n,t)}}(a,n,o,d),u=c.limitedSize-o,g=u*s,m=d*s,p=Math.round((t-l.left)/s),h=p+u;return Object.assign(Object.assign({},c),{limitedX:t+g,unlimitedX:t+m,initialIndex:p,currentIndex:h})}function YI({item:e,screen:t,getGridColumnWidth:i,getGridColumnHeightInPx:r,getLayoutDimensions:a}){const n=Zf(),o=$f(yu),{resizeStart:l,resizeEnd:s,getScrollCorrection:d}=tI(),c=(0,R.useMemo)((()=>e.widget()),[e]),u=c.identifier,{isWidthResizing:g,isActive:m}=function(e){const t=eI();return{isWidthResizing:"width"===t.resizeDirection,isActive:t.resizeItemIdentifiers.includes(e),widthState:t.widthState}}(u),[p,h]=(0,R.useState)(!1),f=e.section().index(),b=e.index(),v=e.sizeForScreen(t).gridWidth,D=to(c,o),y=function(e,t){var i,r;let a=0;const n=e.section().items().all();for(const t of n){const n=t.sizeForScreen("xl").gridWidth+a;if(n<=Pn){if(t.index()===e.index())break;a=n}else{if(t.index()===e.index())return Pn;a=null!==(r=null===(i=t.sizeForScreen("xl"))||void 0===i?void 0:i.gridWidth)&&void 0!==r?r:1}}return Pn-a}(e),[{isDragging:E},I]=wE({dragItem:()=>{const e=a();return{type:"internal-width-resizer",sectionIndex:f,itemIndex:b,gridColumnHeightInPx:r(),gridColumnWidth:i(),initialLayoutDimensions:e,currentWidth:v,minLimit:D,maxLimit:y}},dragEnd:(e,t)=>{const i=d(),{limitedSize:r}=qI(e,t.getInitialClientOffset().x,t.getDifferenceFromInitialOffset().x,i.x);n(Cv(f,b,r)),h(!1)}},[c,o,f,b,v,D,y]);(0,R.useEffect)((()=>{E?l("width",[u],a):s()}),[E]);const C=p||g&&m,S=E?"muted":"active";return!E||g||p?R.createElement("div",{className:"dash-width-resizer-container"},R.createElement("div",{className:"s-dash-width-resizer-hotspot dash-width-resizer-hotspot",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:I},C?R.createElement(VI,{status:S}):null)):null}class ZI{constructor(e,t){this.decorated=e,this.factories=t,this.workspace=e.workspace}getDescriptor(){return this.decorated.getDescriptor()}getParentWorkspace(){return this.decorated.getParentWorkspace()}attributes(){const{attributes:e}=this.factories;return e?e(this.decorated.attributes(),this.workspace):this.decorated.attributes()}execution(){const{execution:e}=this.factories;return e?e(this.decorated.execution()):this.decorated.execution()}catalog(){const{catalog:e}=this.factories;return e?e(this.decorated.catalog()):this.decorated.catalog()}measures(){return this.decorated.measures()}facts(){return this.decorated.facts()}insights(){return this.decorated.insights()}dashboards(){const{dashboards:e}=this.factories;return e?e(this.decorated.dashboards(),this.workspace):this.decorated.dashboards()}settings(){const{workspaceSettings:e}=this.factories;return e?e(this.decorated.settings(),this.workspace):this.decorated.settings()}styling(){return this.decorated.styling()}datasets(){return this.decorated.datasets()}permissions(){return this.decorated.permissions()}users(){return this.decorated.users()}dateFilterConfigs(){return this.decorated.dateFilterConfigs()}userGroups(){return this.decorated.userGroups()}accessControl(){return this.decorated.accessControl()}attributeHierarchies(){return this.decorated.attributeHierarchies()}}class $I{constructor(e,t){this.decorated=e,this.factories=t,this.organizationId=e.organizationId}getDescriptor(e){return this.decorated.getDescriptor(e)}securitySettings(){const{securitySettings:e}=this.factories;return e?e(this.decorated.securitySettings()):this.decorated.securitySettings()}styling(){return this.decorated.styling()}settings(){return this.decorated.settings()}users(){return this.decorated.users()}permissions(){return this.decorated.permissions()}}class XI{constructor(e,t){this.decorated=e,this.factories=t}async getCurrentOrganization(){const e=await this.decorated.getCurrentOrganization();return new $I(e,this.factories)}}class QI{constructor(e,t={}){this.decorated=e,this.factories=t,this.capabilities=e.capabilities,this.config=e.config}authenticate(e){return this.decorated.authenticate(e)}deauthenticate(){return this.decorated.deauthenticate()}isAuthenticated(){return this.decorated.isAuthenticated()}onHostname(e){return new QI(this.decorated.onHostname(e),this.factories)}withAuthentication(e){return new QI(this.decorated.withAuthentication(e),this.factories)}withTelemetry(e,t){return new QI(this.decorated.withTelemetry(e,t),this.factories)}organization(e){return new $I(this.decorated.organization(e),this.factories)}organizations(){return new XI(this.decorated.organizations(),this.factories)}currentUser(){return this.decorated.currentUser()}workspace(e){return new ZI(this.decorated.workspace(e),this.factories)}entitlements(){return this.decorated.entitlements()}workspaces(){return this.decorated.workspaces()}}var JI=i(14057);class eC extends JI.s9{constructor(e,t){super(e),this.callbacks=t,this.execute=()=>{const{beforeExecute:e,successfulExecute:t,failedExecute:i}=this.callbacks,r=(0,J.Z)();return null==e||e(this.definition,r),super.execute().then((e=>(null==t||t(e,r),new tC(e,this.createNew,this.callbacks,r)))).catch((e=>{throw null==i||i(e,r),e}))},this.createNew=e=>new eC(e,this.callbacks)}}class tC extends JI.Hn{constructor(e,t,i,r){super(e,t),this.callbacks=i,this.executionId=r,this.readAll=()=>{const{successfulResultReadAll:e,failedResultReadAll:t}=this.callbacks;return super.readAll().then((t=>(null==e||e(t,this.executionId),t))).catch((e=>{throw null==t||t(e,this.executionId),e}))},this.readWindow=(e,t)=>{const{successfulResultReadWindow:i,failedResultReadWindow:r}=this.callbacks;return super.readWindow(e,t).then((r=>(null==i||i(e,t,r,this.executionId),r))).catch((i=>{throw null==r||r(e,t,i,this.executionId),i}))}}}function iC(e){return e?(0,n.serializeObjRef)(e):""}const rC={xs:"layout-xs",sm:"layout-sm",md:"layout-md",lg:"layout-lg",xl:"layout-xl"},aC=e=>{var{className:t,screen:i}=e,r=(0,Ir._T)(e,["className","screen"]);return R.createElement("div",Object.assign({},r,{className:gy(t,"dash-item","s-dash-item",rC[i])}))},nC=e=>{const{KpiWidgetComponentSet:t}=sy(),{kpiWidget:i}=e,r=(0,R.useMemo)((()=>t.MainComponentProvider(i.kpi,i)),[t,i]);return R.createElement(r,Object.assign({},e))},oC=e=>{const{kpiWidget:t,onError:i,onFiltersChange:r,screen:a,dashboardItemClasses:o}=e,{isSelected:l}=nv((0,n.widgetRef)(t)),s=Kp((0,n.widgetRef)(t)),d=$f(s);return R.createElement(aC,{className:gy("type-kpi",o,{"is-selected":l}),screen:a},R.createElement(nC,{kpiWidget:t,alert:d,onFiltersChange:r,onError:i}))},lC={headline:"viz-type-headline",xirr:"viz-type-xirr",column:"viz-type-column",bar:"viz-type-bar",line:"viz-type-line",area:"viz-type-area",combo:"viz-type-combo",combo2:"viz-type-combo2",scatter:"viz-type-scatter",bubble:"viz-type-bubble",pie:"viz-type-pie",donut:"viz-type-donut",treemap:"viz-type-treemap",heatmap:"viz-type-heatmap",table:"viz-type-table",pushpin:"viz-type-pushpin"};function sC(e,t){var i;return"kpi"===e?"viz-type-kpi":null!==(i=lC[t])&&void 0!==i?i:""}const dC=(0,R.forwardRef)((function({children:e,className:t,isSelectable:i,isSelected:r,onSelected:a},n){return R.createElement("div",{className:gy("dash-item-content",t,{"is-selectable":i,"is-selected":r}),ref:n,onClick:a},e)})),cC=(0,jf.b)(LE.Z),uC=({children:e})=>R.createElement(cC,{client:!0},(({measureRef:t,contentRect:i})=>{var r,a;return R.createElement("div",{className:"dash-item-content-wrapper",ref:t},e({clientWidth:null===(r=i.client)||void 0===r?void 0:r.width,clientHeight:null===(a=i.client)||void 0===a?void 0:a.height}))})),gC=()=>null,mC=({children:e,contentClassName:t,visualizationClassName:i,renderHeadline:r=gC,renderBeforeVisualization:a=gC,renderAfterVisualization:n=gC,renderBeforeContent:o=gC,renderAfterContent:l=gC,contentRef:s,isSelectable:d=!1,isSelected:c=!1,onSelected:u})=>R.createElement(uC,null,(({clientWidth:g,clientHeight:m})=>R.createElement(R.Fragment,null,o(),R.createElement(dC,{className:t,ref:s,isSelectable:d,isSelected:c,onSelected:u},a(),R.createElement("div",{className:i},r(m),e({clientWidth:g,clientHeight:m})),n()),l()))),pC=e=>{var{visualizationClassName:t}=e,i=(0,Ir._T)(e,["visualizationClassName"]);return R.createElement(mC,Object.assign({},i,{visualizationClassName:gy("visualization",t)}))};var hC=i(6870),fC=i(16028);const bC={fontSize:"15px"},vC={marginTop:0},DC={height:"38px",lineHeight:"36px"},yC=Object.assign(Object.assign({},DC),{CUSTOM_MARGIN_STYLE:vC});function EC(e){return void 0!==e&&e<120}function IC(e,t){return t?e?yC:DC:e?vC:void 0}const CC=(0,R.memo)((function({hasCustomMargin:e,isCustomHeightSmall:t,children:i}){return R.createElement("div",{className:"item-headline-outer",style:IC(e,t)},R.createElement("div",{className:"item-headline",style:t?bC:void 0},i))})),SC=({children:e,clientHeight:t})=>R.createElement(CC,{hasCustomMargin:void 0!==t&&t<=140,isCustomHeightSmall:EC(t)},e),wC=fC()(hC.Z),TC=({title:e,clientHeight:t})=>{const i=(0,R.useMemo)((()=>R.createElement(wC,{maxLine:2,ellipsis:"...",className:"item-headline-inner s-headline",text:e})),[e]);return R.createElement(SC,{clientHeight:t},i)},AC=e=>{const{insight:t,widget:i}=e,{InsightWidgetComponentSet:r}=sy(),a=(0,R.useMemo)((()=>r.MainComponentProvider(t,i)),[r,t,i]);return R.createElement(a,Object.assign({},e))},PC="downloader";function kC({objectUrl:e,fileName:t}){const i=document.createElement("a");i.id=PC,i.href=e,i.download=null!=t?t:"exportedFile",document.body.appendChild(i),i.click(),document.body.removeChild(i),e&&URL.revokeObjectURL(e)}const RC=e=>{const{title:t,widgetRef:i,insight:r}=e,[a,n]=(0,R.useState)(!1),o=Zf(),l=(0,R.useCallback)((e=>GD(o,np(i,Object.assign(Object.assign({},e),{format:"xlsx"===e.format?"xlsx":"csv"}),(0,J.Z)())).then((e=>e.payload.result))),[i]),s=(0,Sn.getInsightVisualizationMeta)(r).supportsExport,d=$f(Np(i)),c=$f(_p(i)),u=$f(Bo),g=(()=>{const{addProgress:e,addSuccess:t,addError:i,removeMessage:r}=(0,pb.useToastMessage)(),a=(0,R.useRef)("");return(0,R.useCallback)((async(n,o)=>{try{a.current=e(rv.messagesExportResultStart,{duration:0});const i=await n(o);a.current&&r(a.current),t(rv.messagesExportResultSuccess),kC(i)}catch(e){a.current&&r(a.current),(0,ur.isProtectedDataError)(e)?i(rv.messagesExportResultRestrictedError):i(rv.messagesExportResultError)}}),[])})(),{openDialog:m,closeDialog:h}=ty(),f=(0,R.useCallback)((()=>{n(!0);const e={format:"csv",title:t};(0,p.kG)(l),g(l,e).then((()=>n(!1)))}),[l,t]),b=(0,R.useCallback)((()=>{var e,i,r;m({onSubmit:({includeFilterContext:e,mergeHeaders:i})=>{n(!0),(0,p.kG)(l),h(),g(l,{format:"xlsx",mergeHeaders:i,includeFilterContext:e,showFilters:e,title:t}).then((()=>n(!1)))},includeFilterContext:Boolean(null===(e=null==u?void 0:u.activeFiltersByDefault)||void 0===e||e),mergeHeaders:Boolean(null===(i=null==u?void 0:u.cellMergedByDefault)||void 0===i||i),filterContextVisible:Boolean(null===(r=null==u?void 0:u.enableActiveFilterContext)||void 0===r||r)})}),[u,t,l,h]);return{exportCSVEnabled:!a&&s&&d,exportXLSXEnabled:!a&&s&&c,onExportCSV:f,onExportXLSX:b}};function xC(e,t){const{exportCSVDisabled:i,exportXLSXDisabled:r,onExportCSV:a,onExportXLSX:n,isDataError:o}=t,l=o?e.formatMessage({id:"options.menu.unsupported.error"}):e.formatMessage({id:"options.menu.unsupported.loading"});return[{type:"button",itemId:"ExportXLSXBubble",itemName:e.formatMessage({id:"options.menu.export.XLSX"}),disabled:r,onClick:n,tooltip:l,className:"options-menu-export-xlsx s-options-menu-export-xlsx"},{type:"button",itemId:"ExportCSVBubble",itemName:e.formatMessage({id:"options.menu.export.CSV"}),disabled:i,onClick:a,tooltip:l,className:"options-menu-export-csv s-options-menu-export-csv"}]}function LC(e,t){const{exportCSVDisabled:i,exportXLSXDisabled:r,scheduleExportDisabled:a,onExportCSV:n,onExportXLSX:o,onScheduleExport:l,isScheduleExportVisible:s,isDataError:d}=t,c=d?e.formatMessage({id:"options.menu.unsupported.error"}):e.formatMessage({id:"options.menu.unsupported.loading"});return wa([{type:"button",itemId:"ExportXLSXBubble",itemName:e.formatMessage({id:"widget.options.menu.exportToXLSX"}),onClick:o,disabled:r,tooltip:c,icon:"gd-icon-download",className:"s-options-menu-export-xlsx"},{type:"button",itemId:"ExportCSVBubble",itemName:e.formatMessage({id:"widget.options.menu.exportToCSV"}),onClick:n,disabled:i,tooltip:c,icon:"gd-icon-download",className:"s-options-menu-export-csv"},s&&{type:"button",itemId:"ScheduleExport",itemName:e.formatMessage({id:"widget.options.menu.scheduleExport"}),onClick:l,disabled:a,tooltip:c,icon:"gd-icon-clock",className:"s-options-menu-schedule-export"}])}const OC=e=>{const{widget:t,Component:i}=e,r=$f(yu).get(t.insight);return r?R.createElement(i,Object.assign({},e,{insight:r})):(console.debug("DefaultDashboardInsightWidget rendered before the insights were ready, skipping render."),null)};var FC=i(56541);const MC=[{align:"tr tl"},{align:"cr cl"},{align:"br bl"},{align:"tl tr"},{align:"cl cr"},{align:"bl br"},{align:"bl tl"},{align:"bc tc"},{align:"br tr"},{align:"tl bl"},{align:"tc bc"},{align:"tr br"}],NC=e=>{const{onOpen:t}=e,[i,r]=(0,R.useState)(!1),a=(0,R.useCallback)((()=>{r((e=>(!e&&t&&t(),!e)))}),[r,t]),n=gy("dash-item-action-description",{"dash-item-action-description-active":i},e.className);return R.createElement(R.Fragment,null,R.createElement("div",{className:n,onClick:a},R.createElement(pb.DescriptionIcon,{className:"dash-item-action-description-trigger"})),i?R.createElement(pb.Bubble,{className:"bubble-light gd-description-panel-bubble",alignPoints:MC,arrowOffsets:pb.DESCRIPTION_PANEL_ARROW_OFFSETS,arrowStyle:{display:"none"},onClose:a,closeOnOutsideClick:!0,closeOnParentScroll:!1,alignTo:`.${e.className}`},R.createElement(pb.DescriptionPanelContent,Object.assign({},e))):null)},_C=e=>{var t,i,r,a,o,l,s;const{widget:d,insight:c}=e,u=null===(r=null===(i=null===(t=d.configuration)||void 0===t?void 0:t.description)||void 0===i?void 0:i.visible)||void 0===r||r,g="widget"===(null===(o=null===(a=d.configuration)||void 0===a?void 0:a.description)||void 0===o?void 0:o.source)?d.description:c.insight.summary,m=null==g?void 0:g.trim(),p=(0,n.objRefToString)((0,n.widgetRef)(d)),h=ab(),f={from:"widget",type:"widget"===(null===(s=null===(l=d.configuration)||void 0===l?void 0:l.description)||void 0===s?void 0:s.source)?"custom":"inherit",description:m};return u&&m&&""!==m?R.createElement(NC,{className:`widget-description-${FC.gl(p)}`,description:m,onOpen:()=>h.descriptionTooltipOpened(f)}):null},HC=({widget:e,insight:t,screen:i,onError:r,onExportReady:a,onLoadingChanged:o,dashboardItemClasses:l})=>{const s=(0,vI.Z)(),d=(0,n.insightVisualizationType)(t),{ref:c}=e,{exportCSVEnabled:u,exportXLSXEnabled:g,onExportCSV:m,onExportXLSX:p}=RC({widgetRef:c,title:(0,n.widgetTitle)(e)||s.formatMessage({id:"export.defaultTitle"}),insight:t}),{isScheduledEmailingVisible:h,enableInsightExportScheduling:f,onScheduleEmailingOpen:b}=av(),v=$f(pp),D=(0,R.useCallback)((()=>{b(c)}),[b,c]),y=!I(e),{closeMenu:E,isMenuOpen:C,menuItems:S,openMenu:w}=(e=>{const{insight:t,widget:i}=e,[r,a]=(0,R.useState)(!1),n=(0,R.useCallback)((()=>a(!1)),[]),o=(0,R.useCallback)((()=>a(!0)),[]),{insightMenuItemsProvider:l}=ay(),s=function(e,t,i){const{exportCSVEnabled:r,exportXLSXEnabled:a,scheduleExportEnabled:n,onExportCSV:o,onExportXLSX:l,onScheduleExport:s,isScheduleExportVisible:d,widget:c}=e,u=(0,vI.Z)(),g=$f(Fp(c.ref));return(0,R.useMemo)((()=>(t?LC:xC)(u,{exportCSVDisabled:!r,exportXLSXDisabled:!a,scheduleExportDisabled:!n,onExportCSV:()=>{i(!1),o()},onExportXLSX:()=>{i(!1),l()},onScheduleExport:()=>{i(!1),s()},isScheduleExportVisible:d,isDataError:sp(null==g?void 0:g.error)})),[t,g,r,a,n,o,l,s,d,u,i])}(e,l,a);return{menuItems:(0,R.useMemo)((()=>l?l(t,i,s,n,"view"):s),[l,t,i,s,n]),isMenuOpen:r,openMenu:o,closeMenu:n}})({insight:t,widget:e,exportCSVEnabled:u,exportXLSXEnabled:g,scheduleExportEnabled:y,onExportCSV:m,onExportXLSX:p,onScheduleExport:D,isScheduleExportVisible:h&&v&&f}),{InsightMenuButtonComponentProvider:T,InsightMenuComponentProvider:A,ErrorComponent:P,LoadingComponent:k}=sy(),x=(0,R.useMemo)((()=>T(t,e)),[T,t,e]),L=(0,R.useMemo)((()=>A(t,e)),[A,t,e]),O=$f(Bo);return R.createElement(aC,{className:gy(l,"type-visualization","gd-dashboard-view-widget",sC(e.type,d)),screen:i},R.createElement(pC,{renderHeadline:t=>{var i;return!(null===(i=e.configuration)||void 0===i?void 0:i.hideTitle)&&R.createElement(TC,{title:e.title,clientHeight:t})},renderBeforeVisualization:()=>R.createElement("div",{className:"gd-absolute-row"},(null==O?void 0:O.enableDescriptions)?R.createElement(_C,{insight:t,widget:e,screen:i}):null,R.createElement(x,{insight:t,widget:e,isOpen:C,onClick:w,items:S})),renderAfterContent:()=>C?R.createElement(L,{insight:t,widget:e,isOpen:C,onClose:E,items:S}):null},(({clientHeight:i,clientWidth:n})=>R.createElement(AC,{clientHeight:i,clientWidth:n,insight:t,widget:e,onExportReady:a,onLoadingChanged:o,onError:r,ErrorComponent:P,LoadingComponent:k}))))},UC=6e3;function GC(e,t,i){if(t&&!i)return e.findIndex((e=>(0,n.areObjRefsEqual)(e.dataSet.ref,t.dataSet.ref)))<0?t:void 0}function jC(e){return e.trim().replace(/^Date \((.*)\)$/,"$1")}function BC(e){return{id:e.dataSet.id,title:e.dataSet.title,relevance:e.relevance}}const zC=e=>{const{isDropdownLoading:t,isFilterLoading:i,dateFilterEnabled:r,selectedDateDataset:a,selectedDateDatasetHidden:o,dateFilterCheckboxDisabled:l,relatedDateDatasets:s,widget:d,onDateDatasetFilterEnabled:c,enableUnrelatedItemsVisibility:u}=e,g=s&&GC(s,a,o),m=!(null==s?void 0:s.length)&&!o&&r&&!t&&!l&&!u,p=gy("s-date-filter-by-item","input-checkbox-label","filter-by-item",{"date-filter-error":(!!g||m)&&!t&&!i&&r&&!o&&!l}),h=(0,R.useCallback)((e=>{const{checked:t}=e.target,i=a?a.dataSet.ref:void 0;c(t,i)}),[c,a]);return R.createElement("div",null,R.createElement("label",{className:p,htmlFor:"configurationPanel.date.input"},R.createElement("input",{className:"input-checkbox s-date-filter-checkbox",id:"configurationPanel.date.input",type:"checkbox",checked:!l&&r,disabled:l,onChange:h}),R.createElement("span",{className:"input-label-text title"},R.createElement(PE.Z,{id:"configurationPanel.date"})),i?R.createElement("div",{className:"gd-spinner small"}):null),!i&&m?R.createElement("div",{className:"gd-message error s-no-related-date"},(0,n.isInsightWidget)(d)?R.createElement(PE.Z,{id:"configurationPanel.vizCantBeFilteredByDate"}):R.createElement(PE.Z,{id:"configurationPanel.kpiCantBeFilteredByDate"})):null)},WC=[{align:"bl tl"},{align:"tl bl"}],VC=[{align:"cl cr",offset:{x:-10,y:0}},{align:"cr cl",offset:{x:10,y:0}}],KC=(0,iv.vU)({"gs.date.date-dataset.recommended":{id:"gs.date.date-dataset.recommended"},"gs.date.date-dataset.other":{id:"gs.date.date-dataset.other"},"gs.date.date-dataset.related":{id:"gs.date.date-dataset.related"},"gs.date.date-dataset.unrelated":{id:"gs.date.date-dataset.unrelated"}}),qC=({id:e,title:t="",isHeader:i,isSelected:r,isUnrelated:a,onClick:n})=>{if(i)return R.createElement("div",{className:"gd-list-item gd-list-item-header"},t);const o=gy("gd-list-item","gd-list-item-shortened",`s-${e}`,`s-${FC.gl(t)}`,{"is-selected":r,"is-unrelated":a});return R.createElement("div",{className:o,onClick:n},R.createElement(pb.ShortenedText,{tooltipAlignPoints:VC},t))},YC=e=>{var t;const{className:i="s-date-dataset-switch",isLoading:r=!1,autoOpen:a=!1,onDateDatasetChange:o,activeDateDataset:l,unrelatedDateDataset:s,dateFromVisualization:d,relatedDateDatasets:c,widgetRef:u,enableUnrelatedItemsVisibility:g,unrelatedDateDatasets:m}=e,p=(0,vI.Z)(),{onItemScroll:h,closeOnParentScroll:f}=function(e){const[t,i]=(0,R.useState)(!e);(0,R.useEffect)((()=>{i(!e)}),[e]);return{onItemScroll:(0,R.useCallback)((()=>{setTimeout((()=>{i(!0)}),300)}),[]),closeOnParentScroll:t}}(a),[b,v]=(0,R.useState)(!1),D=s?s.dataSet.id:null;let y,E,I,C="-";!r&&l&&(y=l.dataSet.id,C=l.dataSet.title,E=l.dataSet.uri),d&&(I=c.find((e=>e.dataSet.uri===d.dataSet.uri)));const S=function(e,t,i,r,a=!1){const n=(0,pb.sortDateDatasets)((r||[]).map(BC)),o=[pb.unrelatedHeader,...n];return a?[...(0,pb.sortDateDatasets)(e.map(BC),t?BC(t):void 0),...o]:(0,pb.sortDateDatasets)(e.map(BC),t?BC(t):void 0,i?BC(i):void 0)}(c,I,s,m,g&&b),w=(null!==(t=null==m?void 0:m.length)&&void 0!==t?t:0)-(s?1:0),T=(0,R.useRef)(),[{height:A,width:P},k]=(0,R.useState)({width:e.width,height:170}),x=28*((null==S?void 0:S.length)||0);(0,R.useEffect)((()=>{var e,t,i,r;const a=null===(e=null==T?void 0:T.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null!==(t=null==a?void 0:a.width)&&void 0!==t?t:0,o=function(e,t,i,r=!1){const a=22+(r?37:0),n=e-a,o=window.innerHeight-(e+t+a),l=Math.max(n,o);return Math.min(i,l,400)}(null!==(i=null==a?void 0:a.top)&&void 0!==i?i:0,null!==(r=null==a?void 0:a.height)&&void 0!==r?r:0,x,!(null==m?void 0:m.length));k({width:n,height:o})}),[x,m,T]);const L=()=>{v(!b)};return R.createElement(pb.Dropdown,{key:`${(0,n.objRefToString)(u)}_${a}`,openOnInit:a,ignoreClicksOnByClass:[".dash-content"],renderButton:({isOpen:e,toggleDropdown:t})=>{const i=gy("s-date-dataset-button",e?"s-expanded":"s-collapsed",{"is-loading":r,"is-unrelated":!r&&s&&s.dataSet.uri===E}),n=r?p.formatMessage({id:"loading"}):jC(C);return R.createElement(pb.ScrollableItem,{scrollIntoView:a,onItemScrolled:h},R.createElement("div",{ref:e=>{e&&e!==T.current&&(T.current=e)}},R.createElement(pb.DropdownButton,{className:i,value:n,isOpen:e,onClick:t,disabled:r})))},className:i,closeOnParentScroll:f,closeOnMouseDrag:!0,alignPoints:WC,renderBody:({closeDropdown:e})=>r?null:R.createElement("div",{style:{width:P}},R.createElement(pb.DropdownList,{className:"configuration-dropdown dataSets-list",height:A,width:P,items:S,itemsCount:S.length,renderItem:({item:t})=>{const i=(0,pb.isDateDatasetHeader)(t),r=!(0,pb.isDateDatasetHeader)(t)&&y===t.id,a=!(0,pb.isDateDatasetHeader)(t)&&D===t.id;return R.createElement(qC,{title:i?p.formatMessage(KC[t.title]):jC(t.title),isHeader:i,isSelected:r,isUnrelated:a,onClick:i=>{i.preventDefault(),(0,pb.isDateDatasetHeader)(t)||(e(),o(t.id))}})}}),g&&w>0?R.createElement("div",{className:"gd-list-footer"},R.createElement(PE.Z,{id:"gs.date.date-dataset.unrelated_hidden",values:{count:w,isShow:b}}),R.createElement(pb.Button,{onClick:L,className:"gd-button-link-dimmed unrelated-date-button",value:p.formatMessage({id:b?"gs.date.date-dataset.unrelated.hide":"gs.date.date-dataset.unrelated.show"})})):null)})},ZC=(0,jf.b)(LE.Z),$C=e=>{const{relatedDateDatasets:t,selectedDateDataset:i,selectedDateDatasetHidden:r,widget:a,dateFromVisualization:o,autoOpen:l,isLoading:s,enableUnrelatedItemsVisibility:d,unrelatedDateDatasets:c,onDateDatasetChange:u}=e,g=t&&GC(t,i,r);return R.createElement("div",null,R.createElement("div",{className:"configuration-subcategory"},R.createElement("label",{className:"s-filter-date-dropdown-heading subcategory-label",htmlFor:"s-filter-date-dropdown"},R.createElement(PE.Z,{id:"configurationPanel.dateAs"})),R.createElement(ZC,null,(({measureRef:e,contentRect:n})=>((e,n)=>R.createElement("div",{className:"subcategory-dropdown",ref:e},R.createElement(YC,{autoOpen:l,widgetRef:a.ref,className:"s-filter-date-dropdown",relatedDateDatasets:null!=t?t:[],activeDateDataset:r?void 0:i,unrelatedDateDataset:g,dateFromVisualization:o,onDateDatasetChange:u,isLoading:s,width:n,enableUnrelatedItemsVisibility:d,unrelatedDateDatasets:c})))(e,n.entry.width||0)))),!(!g||s)&&R.createElement("div",{className:"gd-message error s-unrelated-date"},(0,n.isInsightWidget)(a)?R.createElement(PE.Z,{id:"configurationPanel.unrelatedVizDateInfo",values:{dateDataSet:jC(g.dataSet.title)}}):R.createElement(PE.Z,{id:"configurationPanel.unrelatedKpiDateInfo",values:{dateDataSet:jC(g.dataSet.title)}})))};function XC(e){var t;const i=null===(t=(0,pb.getRecommendedDateDataset)(e.map((e=>({id:e.dataSet.id,title:e.dataSet.title,relevance:e.relevance})))))||void 0===t?void 0:t.id;return i?e.find((e=>e.dataSet.id===i)):void 0}const QC=e=>{const{relatedDateDatasets:t,widget:i,dateFilterCheckboxDisabled:r,dateFromVisualization:a,isDatasetsLoading:o,shouldPickDateDataset:l,shouldOpenDateDatasetPicker:s,onDateDatasetChanged:d,isLoadingAdditionalData:c}=e,u=$f(Ll),g=$f(es),m=i.dateDataSet&&g.get(i.dateDataSet),p=$f(Wl),{selectedDateDatasetHiddenByObjectAvailability:h,status:f}=function(e){var t,i;const r=(0,$.useBackendStrict)(),a=(0,$.useWorkspaceStrict)(),o=$f(Wl),l=$f(Ko),s=!(!(null===(t=l.excludeObjectsWithTags)||void 0===t?void 0:t.length)&&!(null===(i=l.includeObjectsWithTags)||void 0===i?void 0:i.length)),{result:d,status:c}=(0,$.useCancelablePromise)({promise:s?async()=>{var e,t;return(await r.workspace(a).catalog().withGroups(!1).forTypes(["dateDataset"]).excludeTags((null!==(e=l.excludeObjectsWithTags)&&void 0!==e?e:[]).map((e=>(0,n.idRef)(e)))).includeTags((null!==(t=l.includeObjectsWithTags)&&void 0!==t?t:[]).map((e=>(0,n.idRef)(e)))).load()).dateDatasets()}:()=>Promise.resolve(o)},[r,a,l]);return{selectedDateDatasetHiddenByObjectAvailability:(0,R.useMemo)((()=>!(!d||!e||d.some((t=>(0,n.areObjRefsEqual)(e,t.dataSet.ref))))),[iC(e),d]),status:c}}(null==m?void 0:m.dataSet.ref),[b,v]=(0,R.useState)(!!i.dateDataSet||l||c),{handleDateDatasetChanged:D,handleDateFilterEnabled:y,status:E}=function(e,t,i){const[r,a]=(0,R.useState)("ok"),o=(0,n.widgetRef)(e),{run:l}=Jf({commandCreator:Wv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:s}=Jf({commandCreator:zv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),a("loading")},onError:()=>{a("error")},onSuccess:e=>{a("ok")}}),{run:d}=Jf({commandCreator:Km,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:c}=Jf({commandCreator:Vm,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),a("loading")},onError:()=>{a("error")},onSuccess:e=>{a("ok")}}),u=(0,R.useCallback)(((i,r)=>{const a=(0,n.isInsightWidget)(e)?c:s,u=(0,n.isInsightWidget)(e)?d:l;if(i)if(r)a(o,r);else{const e=(()=>{if(!(null==t?void 0:t.length))return null;const e=XC(t),i=Ta(t);return e?e.dataSet.ref:i.dataSet.ref})();a(o,null!=e?e:"default")}else u(o)}),[(0,n.isInsightWidget)(e),iC(o),c,d,s,l,t]);return{status:r,handleDateDatasetChanged:(0,R.useCallback)((t=>{(0,n.isInsightWidget)(e)?c(o,(0,n.idRef)(t,"dataSet")):s(o,(0,n.idRef)(t,"dataSet"))}),[(0,n.isInsightWidget)(e),iC(o)]),handleDateFilterEnabled:u}}(i,t,v),I=(0,R.useCallback)((e=>{null==d||d(e),D(e)}),[D,d]),C="loading"===E,S=o||"loading"===f,w=!r&&!(!b||C)&&((null==t?void 0:t.length)||S||h||p.length&&u),T=t&&GC(t,m,h),A=(P=p,(k=t)?P.filter((e=>!k.some((t=>(0,n.areObjRefsEqual)(t.dataSet.ref,e.dataSet.ref))))):P);var P,k;return R.createElement("div",null,R.createElement(zC,{relatedDateDatasets:t,widget:i,dateFilterCheckboxDisabled:r,dateFilterEnabled:b,isDropdownLoading:S,isFilterLoading:C,selectedDateDataset:m,selectedDateDatasetHidden:h,onDateDatasetFilterEnabled:y,enableUnrelatedItemsVisibility:u}),!!w&&R.createElement($C,{relatedDateDatasets:t,dateFromVisualization:a,widget:i,selectedDateDataset:m,selectedDateDatasetHidden:h,unrelatedDateDataset:T,onDateDatasetChange:I,autoOpen:s,isLoading:S,enableUnrelatedItemsVisibility:u,unrelatedDateDatasets:A}))};function JC(e){const t=Zf(),i=$f(Mb);return(0,R.useEffect)((()=>()=>{t(Ha.setWidgetDateDatasetAutoSelect(!1))}),[t]),{handleDateDatasetChanged:(0,R.useCallback)((()=>{t(Ha.setWidgetDateDatasetAutoSelect(!1))}),[t]),shouldOpenDateDatasetPicker:i&&e&&e.length>1&&!XC(e)}}function eS({widget:e}){const{status:t,run:i,result:r}=rb({queryCreator:cm}),a=$f(Hb((0,n.widgetRef)(e))),o=$f(Eu(e.insight));(0,p.kG)(o,"inconsistent state in InsightDateDataSetFilter"),(0,R.useEffect)((()=>{i(o)}),[i,o]);const{handleDateDatasetChanged:l,shouldOpenDateDatasetPicker:s}=JC(null==r?void 0:r.dateDatasets),d=(0,R.useMemo)((()=>{const e=(0,n.insightMeasures)(o);return!h(e)&&e.every(tS)}),[o]);return R.createElement(QC,{widget:e,dateFilterCheckboxDisabled:d,isDatasetsLoading:"running"===t||"pending"===t||a,relatedDateDatasets:null==r?void 0:r.dateDatasetsOrdered,isLoadingAdditionalData:a,shouldOpenDateDatasetPicker:s,onDateDatasetChanged:l})}function tS(e){var t;return!(0,n.isSimpleMeasure)(e)||(null!==(t=(0,n.measureFilters)(e))&&void 0!==t?t:[]).some(n.isDateFilter)}const iS=[{align:"cl cr",offset:{x:-20,y:0}}],rS=e=>{const{widget:t,displayFormRef:i,title:r}=e,a=$f(ad),[o,l]=(0,R.useState)((()=>!t.ignoreDashboardFilters.some((e=>{if(!(0,n.isDashboardAttributeFilterReference)(e))return!1;const t=a.get(e.displayForm);return(0,n.areObjRefsEqual)(null==t?void 0:t.ref,i)})))),s=function(e,t){const i=$f(Fp((0,n.widgetRef)(e))),r=null==i?void 0:i.warnings,a=$f(ad).get(t);return!a||!!(null==r?void 0:r.length)&&r.filter((e=>"gdc.aqe.not_applied_filter.report"===e.warningCode)).some((e=>{var t;return null===(t=e.parameters)||void 0===t?void 0:t.some((e=>(0,n.isObjRef)(e)&&(0,n.areObjRefsEqual)(e,a.attribute)))}))}(t,i),{handleIgnoreChanged:d,status:c}=function(e,t,i){const[r,a]=(0,R.useState)("ok"),o=(0,n.widgetRef)(e),{run:l}=Jf({commandCreator:Kv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:s}=Jf({commandCreator:qv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),a("loading")},onError:()=>{a("error")},onSuccess:()=>{a("ok")}}),{run:d}=Jf({commandCreator:Ym,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!1)}}),{run:c}=Jf({commandCreator:Zm,successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{i(!0),a("loading")},onError:()=>{a("error")},onSuccess:()=>{a("ok")}});return{status:r,handleIgnoreChanged:(0,R.useCallback)((i=>{const r=(0,n.isInsightWidget)(e)?d:l,a=(0,n.isInsightWidget)(e)?c:s;i?a(o,t):r(o,t)}),[(0,n.isInsightWidget)(e),iC(t),iC(o),d,l,c,s])}}(t,i,l),u=o&&("error"===c||s),g="loading"===c,m=gy("s-attribute-filter-by-item",`s-${FC.gl(r)}`,"input-checkbox-label","filter-by-item","attribute-filter-by-item",{"attribute-filter-error":u}),p=(0,n.objRefToString)(i);return R.createElement("div",null,R.createElement("label",{className:m,htmlFor:p},R.createElement("input",{id:p,type:"checkbox",className:"input-checkbox",checked:o,onChange:e=>d(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(pb.ShortenedText,{tooltipAlignPoints:iS,tagName:"span",className:"title"},r)),g?R.createElement("div",{className:"gd-spinner small"}):null),!!u&&R.createElement("div",{className:"gd-message error s-not-applied-attribute-filter"},(0,n.isInsightWidget)(t)?R.createElement(PE.Z,{id:"configurationPanel.vizCantBeFilteredByAttribute",values:{attributeName:r}}):R.createElement(PE.Z,{id:"configurationPanel.kpiCantBeFilteredByAttribute",values:{attributeName:r}})))};function aS(e){const{run:t,result:i,status:r,error:a}=rb({queryCreator:wh});return(0,R.useEffect)((()=>{t(e)}),[e,t]),{attributes:i,attributesLoading:(0,R.useMemo)((()=>"pending"===r||"running"===r),[r]),attributesLoadingError:a}}const nS=e=>{const{widget:t}=e,i=$f(od),r=$f(ad),a=$f(is),o=(0,R.useMemo)((()=>i.map((e=>e.attributeFilter.displayForm))),[i]),{attributes:l,attributesLoading:s}=aS(o);return s?R.createElement("span",{className:"gd-spinner small s-attribute-filter-configuration-loading"}):l?R.createElement("div",{className:"s-attribute-filter-configuration"},i.map((e=>{var i;const o=r.get(e.attributeFilter.displayForm);(0,p.kG)(o,"Inconsistent state in AttributeFilterConfiguration");const s=function(e,t){return e.find((e=>(0,n.areObjRefsEqual)(e.ref,t)))}(l,o.attribute),d=a.get(o.attribute)||s;(0,p.kG)(d,"Inconsistent state in AttributeFilterConfiguration");const c=(0,n.isAttributeMetadataObject)(d)?d.title:d.attribute.title;return R.createElement(rS,{key:(0,n.objRefToString)(o.ref),displayFormRef:o.ref,title:null!==(i=e.attributeFilter.title)&&void 0!==i?i:c,widget:t})}))):null};function oS({widget:e}){return R.createElement("div",{className:"s-viz-filters-panel configuration-category"},R.createElement(pb.Typography,{tagName:"h3",className:"s-viz-filters-headline"},R.createElement(PE.Z,{id:"configurationPanel.filterBy"})),(0,n.isInsightWidget)(e)?R.createElement(eS,{widget:e}):null,R.createElement(nS,{widget:e}))}function lS(e){const{hideTitle:t,widget:i,setVisualPropsConfigurationTitle:r,isHidingOfWidgetTitleEnabled:a}=e,n=(0,vI.Z)(),[o,l]=(0,R.useState)(t);return R.createElement(R.Fragment,null,a?R.createElement("div",{className:"configuration-category s-hide-title-configuration"},R.createElement(pb.Typography,{tagName:"h3",className:"s-viz-title-headline"},R.createElement(PE.Z,{id:"configurationPanel.visualprops.sectionTitle"})),R.createElement(pb.Checkbox,{onChange:e=>{l(e),r(i,e)},value:o,text:n.formatMessage({id:"configurationPanel.visualprops.hideTitle"}),labelSize:"small"})):null)}function sS(e){const{description:t,setDescription:i,readOnly:r=!1}=e,a=(0,vI.Z)();return R.createElement("label",{className:"gd-input"},R.createElement(pb.TextAreaWithSubmit,{className:gy("gd-input-field description gd-widget-description-input"),rows:4,defaultValue:(t||"").trim(),maxLength:2e3,placeholder:r?void 0:a.formatMessage({id:"configurationPanel.visualprops.descriptionPlaceholder"}),onSubmit:e=>{i(e.trim())},disabled:r}))}const dS=(e,t,i)=>{var r;if(!e.visible)return{config:"none",description:"",includeMetrics:!1};const a="insight"===e.source;return{config:e.source,description:a?i:t,includeMetrics:null!==(r=e.includeMetrics)&&void 0!==r&&r}};function cS(e){var t,i;const{descriptionConfig:r,widget:a,setDescriptionConfiguration:n,isWidgetDescriptionEnabled:o,setWidgetDescription:l}=e,s=(0,vI.Z)(),d=(0,R.useMemo)((()=>[{id:"insight",title:s.formatMessage({id:"configurationPanel.visualprops.inheritDescription"}),info:s.formatMessage({id:"configurationPanel.visualprops.inheritDescriptionHelp"})},{id:"widget",title:s.formatMessage({id:"configurationPanel.visualprops.customDescription"}),info:s.formatMessage({id:"configurationPanel.visualprops.customDescriptionHelp"})},{id:"none",title:s.formatMessage({id:"configurationPanel.visualprops.noneDescription"})}]),[s]),c=$f(Eu(a.insight)),[u,g]=(0,R.useState)(dS(r,a.description,null===(t=null==c?void 0:c.insight)||void 0===t?void 0:t.summary)),[m,p]=(0,R.useState)(a.description),h=(0,R.useCallback)((e=>{l(a,e),g((t=>Object.assign(Object.assign({},t),{description:e}))),p(e)}),[a,l,g]),f=(0,R.useCallback)((e=>{var t;let i;const r=null===(t=null==c?void 0:c.insight)||void 0===t?void 0:t.summary;"none"===e?(i={includeMetrics:!1,visible:!1,source:"insight"},g(dS(i,"",""))):(i={includeMetrics:u.includeMetrics,visible:!0,source:e},g(dS(i,"widget"===e?m:"",r))),n(a,i),"widget"===e&&l(a,null!=m?m:""),"none"!==e&&"insight"!==e||l(a,"")}),[a,c,n,l,u.includeMetrics,m]);return(0,R.useCallback)((e=>{const t=Object.assign(Object.assign({},u),{includeMetrics:e});g(t),n(a,Object.assign(Object.assign({},r),{includeMetrics:e}))}),[r,n,a,u]),R.createElement(R.Fragment,null,o?R.createElement("div",{className:"configuration-category s-description-configuration description-configuration-section"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"configurationPanel.visualprops.sectionDescription"})),R.createElement(pb.Dropdown,{closeOnParentScroll:!0,renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{items:d,renderItem:({item:t})=>R.createElement(pb.SingleSelectListItem,{title:t.title,info:t.info,isSelected:t.id===u.config,onClick:()=>{f(t.id),e()}})}),renderButton:({openDropdown:e,isOpen:t})=>{var i;return R.createElement(pb.DropdownButton,{value:null===(i=d.find((e=>e.id===u.config)))||void 0===i?void 0:i.title,isOpen:t,onClick:e,className:"description-config-dropdown-button s-description-config-dropdown-button"})}}),"widget"===u.config||"insight"===u.config?R.createElement(sS,{description:null!==(i=u.description)&&void 0!==i?i:"",setDescription:h,readOnly:"insight"===u.config}):null,null):null)}const uS=pb.OverlayController.getInstance(UC),gS=({widget:e})=>{var t,i,r,a,o,l;const s=(0,n.isInsightWidget)(e)?FC.gl((0,n.objRefToString)(e.ref)):"",d=$f(Bo),c=Zf(),u=gy("configuration-scrollable-panel","s-configuration-scrollable-panel",`s-visualization-${s}`);return R.createElement(pb.ScrollablePanel,{className:u},R.createElement(pb.OverlayControllerProvider,{overlayController:uS},R.createElement(lS,{widget:e,isHidingOfWidgetTitleEnabled:null!==(t=d.enableHidingOfWidgetTitle)&&void 0!==t&&t,hideTitle:null!==(r=null===(i=e.configuration)||void 0===i?void 0:i.hideTitle)&&void 0!==r&&r,setVisualPropsConfigurationTitle:(e,t)=>{c(Xm(e.ref,Object.assign(Object.assign({},e.configuration),{hideTitle:t})))}}),R.createElement(cS,{widget:e,isWidgetDescriptionEnabled:null!==(a=d.enableDescriptions)&&void 0!==a&&a,descriptionConfig:null!==(l=null===(o=e.configuration)||void 0===o?void 0:o.description)&&void 0!==l?l:{source:"insight",includeMetrics:!1,visible:!0},setDescriptionConfiguration:(e,t)=>{c(Xm(e.ref,Object.assign(Object.assign({hideTitle:!1},e.configuration),{description:t})))},setWidgetDescription:(e,t)=>{c(op(e.ref,{description:t}))}}),R.createElement(oS,{widget:e})))};function mS(e){return(0,n.isDrillToCustomUrl)(e)||(0,n.isDrillToAttributeUrl)(e)}var pS,hS;function fS(e){return!h(e)&&void 0!==e.dashboard}function bS(e){return!h(e)&&void 0!==e.insightRef}function vS(e){return!h(e)&&void 0!==e.customUrl}function DS(e){return!h(e)&&void 0!==e.insightAttributeDisplayForm}function yS(e){return!h(e)&&void 0!==e.urlDrillTarget}function ES(e,t){const i=(e.measures||[]).find((e=>e.measure.measureHeaderItem.localIdentifier===t));if(i)return i.measure.measureHeaderItem.name;const r=(e.attributes||[]).find((e=>e.attribute.attributeHeader.localIdentifier===t));return r?r.attribute.attributeHeader.formOf.name:""}!function(e){e.DRILL_TO_DASHBOARD="DrillToDashboard",e.DRILL_TO_INSIGHT="DrillToInsight",e.DRILL_DOWN="DrillDown",e.DRILL_TO_URL="DrillToUrl"}(pS=pS||(pS={})),function(e){e.HYPERLINK="GDC.link",e.GEO_PUSHPIN="GDC.geo.pin",e.GEO_PUSHPIN_LATITUDE="GDC.geo.pin_latitude",e.GEO_PUSHPIN_LONGITUDE="GDC.geo.pin_longitude"}(hS=hS||(hS={}));const IS=e=>{if((0,n.isDrillToCustomUrl)(e))return{customUrl:e.target.url};if((0,n.isDrillToAttributeUrl)(e)){const{displayForm:t,hyperlinkDisplayForm:i}=e.target;return{insightAttributeDisplayForm:t,drillToAttributeDisplayForm:i}}throw new Error("Unsupported URL drill type!")},CS=(0,iv.Em)({id:"configurationPanel.drillConfig.drillIntoUrl.invalidCustomUrl"}),SS=(0,iv.vU)({added:{id:"messages.drill.InteractionConfiguredSuccess"},modified:{id:"messages.drill.InteractionUpdatedSuccess"}}),wS=e=>{const{widgetRef:t}=e,i=$f(Xd(t));(0,p.kG)((0,n.isInsightWidget)(i),"must be insight widget");const r=$f(Eu(i.insight)),{drills:a}=i,{incompleteItems:o,deleteIncompleteItem:l,onChangeItem:s,onOriginSelect:d,completeItem:c,isItemNew:u}=(e=>{const{widgetDrills:t}=e,[i,r]=(0,R.useState)([]),a=(0,$.usePrevious)(t);(0,R.useEffect)((()=>{if(!Pa(t,a)){const e=i.filter((e=>!e.complete));e.length!==i.length&&r(e)}}),[t,a,i]);const n=(0,R.useCallback)((e=>{r(((e,t)=>{const i=e.findIndex((e=>e.localIdentifier===t.localIdentifier));if(-1!==i){const r=[...e];return r[i]=t,r}return[...e,t]})(i,e))}),[i]),o=(0,R.useCallback)((e=>{const t=i.filter((t=>t.localIdentifier!==e.localIdentifier));r(t)}),[i]),l=(0,R.useCallback)((e=>{const t=i.map((t=>t.localIdentifier===e.localIdentifier?Object.assign(Object.assign({},t),{complete:!0}):t));r(t)}),[i]),s=(0,R.useCallback)((e=>{const t=Object.assign(Object.assign({},e),{complete:!1});n(t)}),[n]),d=(0,R.useCallback)(((e,t)=>{const i=(0,J.Z)().replace(/-/g,"");if(h(r=e)||void 0===r.measure){const r={type:"attribute",localIdentifier:i,originLocalIdentifier:e.attribute.attributeHeader.localIdentifier,title:e.attribute.attributeHeader.formOf.name,attributes:e.intersectionAttributes,drillTargetType:void 0,complete:!1,widgetRef:t};n(r)}else{const r={type:"measure",localIdentifier:i,originLocalIdentifier:e.measure.measureHeaderItem.localIdentifier,title:e.measure.measureHeaderItem.name,attributes:e.attributes,drillTargetType:void 0,complete:!1,widgetRef:t};n(r)}var r}),[n]),c=(0,R.useCallback)((e=>i.some((t=>t.localIdentifier===e.localIdentifier&&!t.complete))),[i]);return{incompleteItems:i,isItemNew:c,completeItem:l,deleteIncompleteItem:o,onChangeItem:s,onOriginSelect:d}})({widgetDrills:a}),{addSuccess:g}=(0,pb.useToastMessage)(),m=Zf(),f=$f(Rl),b=$f(Oo),v=$f(wD(t)),D=$f(Wu(t)),y=$f(Yb(t)),E=$f(Bo),{enableKDZooming:I}=E,C=null==D?void 0:D.availableDrillTargets,S=(0,R.useMemo)((()=>C?((e,t,i,r)=>e.map((e=>((e,t,i,r)=>(0,n.isDrillToInsight)(e)?((e,t,i)=>{var r,a;const o=(0,n.isDrillFromAttribute)(e.origin)?La(null===(r=e.origin)||void 0===r?void 0:r.attribute):La(null===(a=e.origin)||void 0===a?void 0:a.measure);return{type:(0,n.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:o,title:ES(t,o),attributes:Fa(t,o),localIdentifier:e.localIdentifier,drillTargetType:pS.DRILL_TO_INSIGHT,insightRef:e.target,complete:!0,widgetRef:i}})(e,t,r):(0,n.isDrillToDashboard)(e)?((e,t,i)=>{var r,a;const o=(0,n.isDrillFromAttribute)(e.origin)?La(null===(r=e.origin)||void 0===r?void 0:r.attribute):La(null===(a=e.origin)||void 0===a?void 0:a.measure);return{type:(0,n.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:o,title:ES(t,o),attributes:Fa(t,o),localIdentifier:e.localIdentifier,drillTargetType:pS.DRILL_TO_DASHBOARD,dashboard:e.target,complete:!0,widgetRef:i}})(e,t,r):mS(e)?((e,t,i,r)=>{const a=xa(e),o=i.includes(a);return{type:(0,n.isDrillFromAttribute)(e.origin)?"attribute":"measure",originLocalIdentifier:a,title:ES(t,a),attributes:Fa(t,a),localIdentifier:e.localIdentifier,drillTargetType:pS.DRILL_TO_URL,urlDrillTarget:IS(e),complete:!0,warning:o?CS.id:void 0,widgetRef:r}})(e,t,i,r):null)(e,t,i,r))))(a,C,y,t):[]),[C,a,y]),w=(0,R.useMemo)((()=>C?((e,t,i)=>e.map((e=>{const r=xa(e),a=`${r}_${(0,n.objRefToString)(e.target)}`;return{type:"attribute",drillTargetType:pS.DRILL_DOWN,attributeHierarchyRef:e.target,originLocalIdentifier:r,title:ES(t,r),attributes:Fa(t,r),localIdentifier:a,complete:!0,widgetRef:i}})))(v,C,t):[]),[v,C]),T=(0,R.useMemo)((()=>((e,t,i)=>i.reduce(((e,t)=>{const i=e.findIndex((e=>e.localIdentifier===t.localIdentifier));return-1!==i?t.complete||(e[i]=t):e.push(t),e}),[...null!=t?t:[],...null!=e?e:[]]))(S,w,o)),[S,w,o]),A=(0,R.useMemo)((()=>((e,t,i,r)=>{var a,n;return i&&r?{measures:null==e?void 0:e.measures,attributes:null==e?void 0:e.attributes}:{measures:null===(a=null==e?void 0:e.measures)||void 0===a?void 0:a.filter((e=>!t.some((t=>"measure"===t.type&&t.originLocalIdentifier===e.measure.measureHeaderItem.localIdentifier)))),attributes:null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.filter((e=>!t.some((t=>"attribute"===t.type&&t.originLocalIdentifier===e.attribute.attributeHeader.localIdentifier))))}})(C,T,b,f)),[C,T,b,f]),P=(0,R.useCallback)(((e,i)=>{const r=u(i);if(h(a=e)||void 0===a.attributeHierarchyRef){const r=function(e){return!h(e)&&void 0!==e.attributeHierarchyRef}(i)?TS(i):[];m(Jm(t,[e],r))}var a;if(c(i),i.drillTargetType===pS.DRILL_DOWN){const r=i.attributes.find((e=>e.attributeHeader.localIdentifier===i.originLocalIdentifier));i.complete?m(rp(t,r.attributeHeader.formOf.ref,i.attributeHierarchyRef,TS(e))):m(ip(t,r.attributeHeader.formOf.ref,i.localIdentifier,i.attributeHierarchyRef)),l(i)}g(r?SS.added:SS.modified,{duration:3e3})}),[t,c,g,u,m]),k=(0,R.useCallback)((e=>{e.complete&&(e.drillTargetType===pS.DRILL_DOWN?m(tp(t,TS(e))):m(ep(t,[(0,n.localIdRef)(e.localIdentifier)]))),l(e)}),[t,m,l]);return{widget:i,insight:r,enableKDZooming:I,drillConfigItems:T,originSelectorItems:A,isOriginSelectorVisible:!!(null==D?void 0:D.availableDrillTargets),isLoaded:!!D,onChangeItem:s,onOriginSelect:d,onSetupItem:P,onDeleteItem:k}};function TS(e){const t=e.attributes.find((t=>t.attributeHeader.localIdentifier===e.originLocalIdentifier));return t?t.attributeHeader.granularity?[{type:"dateHierarchyReference",dateHierarchyTemplate:e.attributeHierarchyRef,dateDatasetAttribute:t.attributeHeader.formOf.ref}]:[{type:"attributeHierarchyReference",attributeHierarchy:e.attributeHierarchyRef,attribute:t.attributeHeader.formOf.ref}]:[]}const AS=({onDelete:e,title:t,type:i,isDateAttribute:r})=>{const a=((e,t,i)=>t?"date":i&&"measure"===e?"metric":e)(i,r,$f(yl)),n=`dm-button-icon dm-button-icon-${a}`;return R.createElement("div",{className:"gd-drill-config-measure-item"},R.createElement("div",{className:n}),R.createElement("div",{className:"dm-button-title s-drill-config-item-title",title:t},t),R.createElement("div",{className:"dm-button-delete-wrapper"},R.createElement(pb.Button,{className:"drill-config-item-delete gd-button-link gd-button-icon-only gd-icon-cross s-drill-config-item-delete",onClick:e})))},PS=e=>R.createElement(pb.DropdownButton,{value:e.value,isSmall:!1,disabled:e.disabled,className:`gd-button-small ${e.className}`,iconLeft:e.icon,isOpen:e.isOpen,onClick:e.onClick}),kS=[{align:"cr cl"}],RS={"cr cl":[15,0]},xS=({item:e,icon:t,isSelected:i,onClick:r})=>{const{formatMessage:a}=(0,vI.Z)(),n=e.disabled?K:r,o=gy(t,{"is-disabled s-is-disable":e.disabled});return R.createElement(pb.BubbleHoverTrigger,{hideDelay:0,showDelay:0},R.createElement(pb.SingleSelectListItem,{className:o,title:e.title,info:a({id:e.tooltipMessage},{a:t=>e.documentUrl?R.createElement("a",{href:e.documentUrl,target:"_blank",rel:"noreferrer"},t):null}),eventsOnBubble:!0,hideDelayBubble:100,isSelected:i,onClick:n}),e.disabled&&e.disableTooltipMessage?R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:kS,arrowOffsets:RS},e.disableTooltipMessage):null)},LS=e=>{const t={[pS.DRILL_TO_DASHBOARD]:"gd-icon-drill-to-dashboard",[pS.DRILL_TO_INSIGHT]:"gd-icon-drill-to-insight",[pS.DRILL_DOWN]:"gd-icon-drill-down",[pS.DRILL_TO_URL]:"gd-icon-hyperlink-disabled"};return e?t[e]:void 0},OS=e=>{const{selection:t,enabledDrillTargetTypeItems:i,isButtonDisabled:r}=e,a=(0,vI.Z)(),n=((e,t)=>t.find((t=>t.id===e)))(t,i),o=n?n.title:a.formatMessage({id:"configurationPanel.drillConfig.select"});return R.createElement(pb.Dropdown,{closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:[{align:"bl tl"},{align:"tl bl"}],renderButton:({isOpen:e,toggleDropdown:i})=>R.createElement(PS,{className:"s-drill-config-panel-target-button",value:o,icon:LS(t),isOpen:e,disabled:r,onClick:i}),renderBody:({closeDropdown:t})=>R.createElement(pb.DropdownList,{width:200,itemHeight:25,items:i,className:"gd-drill-config-panel-target s-drill-config-panel-target-type-open",renderItem:({item:i})=>{const r=n&&n.id===i.id,a=LS(i.id);return R.createElement(xS,{item:i,icon:a,isSelected:r,onClick:()=>{var r;r=i,e.onSelect(r.id),t()}})}})})};var FS=i(23279),MS=i(96026);const NS=({hasNoMatchingData:e,isUserInsights:t,showNoDataCreateButton:i,onCreateButtonClick:r})=>R.createElement("div",{className:gy("gd-visualizations-list-no-data","gd-no-data",{"gd-visualization-list-not-found":e})},e?R.createElement("span",{className:"s-visualization-list-no-data-message"},R.createElement(PE.Z,{id:"visualizationsList.noVisualizationsFound"})):R.createElement(R.Fragment,null,R.createElement("span",{className:"s-visualization-list-no-data-message"},t?R.createElement(PE.Z,{id:"visualizationsList.noUserInsights"}):R.createElement(PE.Z,{id:"visualizationsList.noInsights"}))," ",i?R.createElement(pb.Button,{className:"gd-button-link s-create-new-insight",tagName:"a",onClick:r,value:R.createElement(PE.Z,{id:"visualizationsList.create"})}):null)),_S=[rv.tabsMy,rv.tabsAll],HS=({height:e,width:t=229,searchAutofocus:i,renderItem:r,selectedRef:a,onSelect:o})=>{const l=(0,vI.Z)(),s=(0,$.useBackendStrict)(),d=(0,$.useWorkspaceStrict)(),[c,u]=(0,R.useState)(!1),[g,m]=(0,R.useState)([0]),[p,h]=(0,R.useState)(""),[f,b]=(0,R.useState)(rv.tabsMy.id),v=(()=>{const e=$f(ko),t=$f(kg),i=(0,n.isUriRef)(t.ref)?t.ref.uri:void 0;return e?i:t.login})(),D=$f(Nb),y=$f(Cp),E=$f(Sl),I=$f(Bo),C=(0,R.useRef)(""),S=g.map((e=>({limit:50,offset:50*e,title:p,author:f!==rv.tabsMy.id||p?void 0:v}))),{items:w,totalItemsCount:T,isLoading:A}=(0,$.usePagedResource)((({limit:e,offset:t,title:i,author:r})=>{const a={limit:e,offset:t,author:r,title:i,orderBy:"updated"};return C.current=null!=i?i:"",s.workspace(d).insights().getInsights(a)}),S,[s,g,p,f,D],[p,f,0===g.length,D],void 0,void 0,C.current!==p&&Pa(g,[0]));(0,R.useEffect)((()=>{c||void 0===T||(u(!0),0===T&&b(rv.tabsAll.id))}),[c,T]);const P=(0,R.useCallback)(FS((e=>{m([0]),h(e)}),500),[]),k=tb(),x=(0,R.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),k(Qt())}),[]),L=e&&e-(p?47:70),O=A&&0===w.length,F=c&&!p,M=E&&y;return R.createElement(pb.DropdownList,{width:t,height:L,isMobile:!1,isLoading:O,showSearch:c,searchString:p,searchFieldSize:"small",searchPlaceholder:l.formatMessage({id:"search_insights"}),onSearch:P,disableAutofocus:!i,showTabs:F,tabs:s.capabilities.supportsOwners&&v?_S:void 0,selectedTabId:f,onTabSelect:({id:e})=>{m([0]),b(e)},itemHeight:40,itemHeightGetter:e=>!T||0!==e&&e!==T-1?40:50,items:w,itemsCount:T,renderItem:null!=r?r:({item:e,width:t})=>{var i,r;if(!e)return R.createElement(pb.InsightListItem,{isLoading:!0});const l=(0,n.insightTitle)(e),s=null===(i=(0,n.insightSummary)(e))||void 0===i?void 0:i.trim(),d=function(e){return{insight:e,insightType:(0,n.insightVisualizationType)(e)}}(e),c=(0,n.areObjRefsEqual)(e.insight.ref,a);return R.createElement(pb.InsightListItem,{title:l,description:s,showDescriptionPanel:null==I?void 0:I.enableDescriptions,type:d.insightType,width:t,isSelected:c,updated:null!==(r=(0,n.insightUpdated)(d.insight))&&void 0!==r?r:(0,n.insightCreated)(d.insight),isLocked:(0,n.insightIsLocked)(d.insight),onClick:()=>null==o?void 0:o(e),metadataTimeZone:null==I?void 0:I.metadataTimeZone})},renderNoData:({hasNoMatchingData:e})=>R.createElement(NS,{isUserInsights:f===rv.tabsMy.id,hasNoMatchingData:e,showNoDataCreateButton:M,onCreateButtonClick:x}),onScrollEnd:(e,t)=>{const i=Math.floor(e/50),r=Math.floor(t/50),a=MS(i,r+1);m(a)}})},US=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],GS=({insightConfig:e,onSelect:t})=>{var i;const r=(0,vI.Z)(),{insight:a,insightType:o,insightRef:l}=function(e){const t=$f(yu);return(0,R.useMemo)((()=>{if(bS(e)&&e.insightRef){const i=t.get(e.insightRef);if((0,n.isInsight)(i)){const t=(0,n.insightVisualizationType)(i);return{insight:i,insightRef:e.insightRef,insightType:t}}}return{}}),[e,t])}(e),s=function(e,t,i){return i?e||t.formatMessage({id:"loading"}):t.formatMessage({id:"configurationPanel.drillConfig.selectInsight"})}(null!==(i=null==a?void 0:a.insight.title)&&void 0!==i?i:"",r,l);return R.createElement(pb.Dropdown,{className:"s-report_select report-select",closeOnMouseDrag:!0,closeOnParentScroll:!0,alignPoints:US,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(pb.DropdownButton,{value:s,onClick:t,isOpen:e,isSmall:!1,iconLeft:o?`gd-vis-type-${o}`:void 0,className:"gd-button-small s-visualization-button-target-insight"}),renderBody:({closeDropdown:i})=>R.createElement("div",{className:"open-visualizations s-open-visualizations"},R.createElement(HS,{selectedRef:bS(e)?e.insightRef:void 0,height:300,width:275,searchAutofocus:!0,onSelect:e=>{t(e),i()}}))})},jS=({insight:e,onSelect:t})=>R.createElement(GS,{insightConfig:e,onSelect:t}),BS=({className:e,children:t})=>R.createElement(pb.Typography,{tagName:"h3",className:gy("gd-drill-to-url-section-title gd-list-item gd-list-item-header",e)},R.createElement("span",null,t)),zS=({urlValue:e,closeDropdown:t})=>R.createElement("div",{onClick:t,className:"gd-list-item gd-menu-item gd-drill-to-custom-url-option s-drill-to-custom-url-option gd-icon-hyperlink-disabled is-selected"},R.createElement("span",null,e.length>50?`${e.substring(0,50)}...`:e)),WS=({urlValue:e,toggleModal:t})=>{const i=(0,vI.Z)(),r=e?i.formatMessage({id:"configurationPanel.drillIntoUrl.customUrlEditButtonLabel"}):i.formatMessage({id:"configurationPanel.drillIntoUrl.customUrlAddButtonLabel"}),a=e?void 0:"gd-icon-add";return R.createElement(pb.Button,{className:"gd-button gd-button-secondary gd-button-small s-drill-to-custom-url-button",iconLeft:a,onClick:t,value:r})},VS=e=>{const{urlDrillTarget:t,closeDropdown:i}=e,r=vS(t)?t.customUrl:void 0;return R.createElement(R.Fragment,null,R.createElement(BS,null,R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.customUrlSectionTitle"})),!!r&&R.createElement(zS,{urlValue:r,closeDropdown:i}),R.createElement("div",{className:"gd-drill-to-custom-url-button-wrapper"},R.createElement(WS,Object.assign({},e,{urlValue:r}))))},KS=e=>{const{title:t,typeName:i,label:r,isLoading:a,useEllipsis:n,values:o,additionalValues:l}=e;return R.createElement("div",{className:"gd-drill-to-url-editor-parameter-detail s-parameter-detail"},R.createElement("div",{className:"gd-parameter-detail-title"},t),R.createElement(qS,{typeName:i}),r?R.createElement(YS,{label:r}):null,!h(o)&&R.createElement(ZS,{isLoading:a,useEllipsis:n,values:o,additionalValues:l}))},qS=({typeName:e})=>R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailType"})),R.createElement("div",null,e)),YS=({label:e})=>R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailLabel"})),R.createElement("div",null,e)),ZS=({isLoading:e,useEllipsis:t,values:i,additionalValues:r})=>e?R.createElement(pb.LoadingMask,{className:"s-parameter-detail-loading",height:60}):R.createElement($S,{useEllipsis:t,values:i,additionalValues:r}),$S=({useEllipsis:e,values:t,additionalValues:i})=>{const r=gy("s-parameter-detail-value",{"gd-parameter-detail-ellipsis-row":e});return t&&R.createElement("div",{className:"gd-parameter-detail-section"},R.createElement("div",{className:"gd-parameter-detail-subtitle"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailValues",values:{numberOfValues:t.length}})),R.createElement("div",null,t.map(((e,t)=>R.createElement("div",{className:r,key:t},e))),i?R.createElement("div",{className:"gd-parameter-detail-info"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parameterDetailMoreValues",values:{count:i}})):null))},XS=({title:e})=>{const t=(0,$.useWorkspaceStrict)(),i=(0,vI.Z)();return R.createElement(KS,{title:e,typeName:i.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:[t]})},QS=({title:e})=>{const t=$f(jc),i=(0,vI.Z)();return R.createElement(KS,{title:e,typeName:i.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:t?[t]:[]})},JS=({title:e})=>{const t=(0,vI.Z)(),i=$f(Ob),r=$f(Xd(i));let a=[];return(0,n.isInsightWidget)(r)&&!hu(r)&&(a=[r.identifier]),R.createElement(KS,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:a})},ew=({title:e})=>{const t=(0,vI.Z)(),i=$f(Ob),r=$f(Xd(i));(0,p.kG)((0,n.isInsightWidget)(r),"must be insight widget selected");const a=$f(Eu(r.insight));return R.createElement(KS,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:(null==a?void 0:a.insight.identifier)?[a.insight.identifier]:[]})},tw=({title:e})=>{const t=(0,vI.Z)(),{client:i}=(0,$.useClientWorkspaceIdentifiers)();return R.createElement(KS,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:i?[i]:[]})},iw=({title:e})=>{const t=(0,vI.Z)(),{dataProduct:i}=(0,$.useClientWorkspaceIdentifiers)();return R.createElement(KS,{title:e,typeName:t.formatMessage({id:"configurationPanel.drillIntoUrl.editor.identifierTypeLabel"}),useEllipsis:!1,values:i?[i]:[]})},rw=e=>{const{name:t,description:i,detailContent:r,iconClassName:a,onAdd:n,intl:o}=e,[l,s]=(0,R.useState)(!1),d=(0,kE.Fg)(),c=d&&(0,JD.$)(d),u=`${FC.gl(t)}${i?FC.gl(`_${i}`):""}`,g=gy("gd-list-item gd-menu-item",`s-parameter-${u}`,a),m=o.formatMessage({id:"configurationPanel.drillIntoUrl.editor.addParameterButtonLabel"});return R.createElement("div",{id:u,className:g,onClick:()=>n()},R.createElement("span",{className:"gd-parameter-title"},t),i?R.createElement("span",{className:"addon s-parameter-description"},"(",i,")"):null,R.createElement(pb.Button,{className:"gd-button gd-button-link s-parameter-add-button",value:m}),R.createElement("div",{className:"gd-list-item-tooltip"},R.createElement("span",{className:"gd-icon-circle-question gd-list-item-tooltip-icon s-parameter-help-icon",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}),l?R.createElement(pb.Bubble,{className:"themed-bubble "+(c?"bubble-primary":"bubble-light"),alignTo:`#${u}`,alignPoints:[{align:"cr tl"}]},r):null))},aw=(0,iv.vU)({insightIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.insightIdParameterLabel"},widgetIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.widgetIdParameterLabel"},dashboardIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.dashboardIdParameterLabel"},projectIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.projectIdParameterLabel"},workspaceIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.workspaceIdParameterLabel"},clientIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.clientIdParameterLabel"},dataProductIdParameterLabel:{id:"configurationPanel.drillIntoUrl.editor.dataProductIdParameterLabel"}}),nw=[{titleIntlKey:aw.insightIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID},{titleIntlKey:aw.widgetIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID},{titleIntlKey:aw.dashboardIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID},{titleIntlKey:aw.projectIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID},{titleIntlKey:aw.workspaceIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID},{titleIntlKey:aw.clientIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID},{titleIntlKey:aw.dataProductIdParameterLabel.id,placeholder:D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID}],ow=(e,t)=>{switch(e){case D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID:case D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID:return R.createElement(XS,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_DASHBOARD_ID:return R.createElement(QS,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID:return R.createElement(JS,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_INSIGHT_ID:return R.createElement(ew,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID:return R.createElement(tw,{title:t});case D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID:return R.createElement(iw,{title:t});default:return R.createElement(R.Fragment,null)}},lw=({enableClientIdParameter:e,enableDataProductIdParameter:t,enableWidgetIdParameter:i,onAdd:r,intl:a})=>{const n=$f(Dl);return R.createElement(R.Fragment,null,R.createElement(BS,null,R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.identifierParametersSectionLabel"})),nw.filter((({placeholder:t})=>t!==D.DRILL_TO_URL_PLACEHOLDER_CLIENT_ID||e)).filter((({placeholder:e})=>e!==D.DRILL_TO_URL_PLACEHOLDER_WIDGET_ID||i)).filter((({placeholder:e})=>e!==D.DRILL_TO_URL_PLACEHOLDER_DATA_PRODUCT_ID||t)).filter((({placeholder:e})=>e!==(n?D.DRILL_TO_URL_PLACEHOLDER_PROJECT_ID:D.DRILL_TO_URL_PLACEHOLDER_WORKSPACE_ID))).map((({placeholder:e,titleIntlKey:t})=>{const i=a.formatMessage({id:t});return R.createElement(rw,{key:e,name:i,detailContent:ow(e,i),iconClassName:"gd-icon-sharp",onAdd:()=>r(e),intl:a})})))},sw=new OI({max:50}),dw=e=>{const t=(0,iv.vU)({hyperlink:{id:"configurationPanel.drillIntoUrl.editor.urlDisplayFormTypeLabel"},pushpin:{id:"configurationPanel.drillIntoUrl.editor.geoDisplayFormTypeLabel"},default:{id:"configurationPanel.drillIntoUrl.editor.defaultDisplayFormTypeLabel"}});switch(e){case"GDC.link":return t.hyperlink;case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return t.pushpin;default:return t.default}},cw=e=>{const{title:t,label:i,type:r,displayFormRef:a,projectId:o,showValues:l}=e,s=(0,vI.Z)(),d=(0,$.useBackendStrict)(),[u,g]=(0,R.useState)(!0),[m,p]=(0,R.useState)([]),[h,f]=(0,R.useState)(0),b=(e=>{const t=$f(Wl),{hasTypeScopedIdentifiers:i,supportsEnumeratingDatetimeAttributes:r}=$f(Eo);if(r)return!0;const a=Oi(t,(e=>e.dateAttributes)),n=c(Oi(a,(e=>e.attribute.displayForms)),i);return!Boolean(n.get(e))})(a);return(0,R.useEffect)((()=>{let e=!0;return l&&b?(async()=>{const t=await(async(e,t,i)=>{const r=(0,n.objRefToString)(i),a=sw.get(r);if(a)return a;const o=await function(e,t,i,r=5){return e.workspace(t).attributes().elements().forDisplayForm(i).withLimit(r).query()}(e,t,i,3);return sw.set(r,o),o})(d,o,a);if(e){const e=t.totalCount-3;e>0&&f(e),p(((e,t)=>e.map((e=>e&&0!==e.length?e:(0,$.emptyHeaderTitleFromIntl)(t))))(((e,t)=>"GDC.link"!==t?e.map((({title:e})=>e)):e.map((({title:e})=>e&&e.length>100?`${e.substr(0,100)}...`:e)))(t.items,r),s)),g(!1)}})():g(!1),()=>{e=!1}}),[a,r,s,o,l,d,b]),R.createElement(KS,{title:t,label:i,typeName:s.formatMessage(dw(r)),isLoading:u,useEllipsis:"GDC.link"!==r,values:m||[],additionalValues:h})},uw=({item:e,onAdd:t,iconClassName:i,isFilter:r})=>{var a,n;const o=$f(is).get(e.attribute),l=(0,vI.Z)(),s=(0,$.useWorkspaceStrict)(),d=$f(sd(e.ref)),c=(null==o?void 0:o.attribute.title)||"";return R.createElement(rw,{key:e.id,name:r&&null!==(n=null===(a=null==d?void 0:d.attributeFilter)||void 0===a?void 0:a.title)&&void 0!==n?n:c,description:e.title,detailContent:R.createElement(cw,{title:(null==o?void 0:o.attribute.title)||"",label:e.title,type:e.displayFormType,projectId:s,displayFormRef:e.ref,showValues:!0}),iconClassName:null!=i?i:gw(e.displayFormType),onAdd:()=>t(`{attribute_title(${e.id})}`),intl:l})},gw=e=>{switch(e){case"GDC.link":return"gd-icon-hyperlink-warning";case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return"gd-icon-earth";default:return"gd-icon-label-warning"}},mw=({attributeDisplayForms:e,loadingAttributeDisplayForms:t,insightFilters:i,onAdd:r})=>{const a=$f(ts);return R.createElement(R.Fragment,null,e&&e.length>0||t||i?R.createElement(R.Fragment,null,R.createElement(BS,null,R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.insightParametersSectionLabel"})),t?R.createElement("div",{className:"gd-drill-to-url-section-loading s-drill-to-custom-url-attr-section-loading"},R.createElement("div",{className:"gd-spinner small"})):null==e?void 0:e.map((e=>R.createElement(uw,{key:e.displayForm.id,item:e.displayForm,onAdd:r}))),null==i?void 0:i.map(((e,t)=>{const i=(0,n.filterObjRef)(e),o=a.get(i);return o&&R.createElement(uw,{item:o,onAdd:()=>r(`{attribute_filter_selection(${o.id})}`),iconClassName:"gd-icon-filter",key:t,isFilter:!0})}))):null)},pw=({dashboardFilters:e,onAdd:t})=>{const i=$f(ts);return R.createElement(R.Fragment,null,R.createElement(BS,null,R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.dashboardParametersSectionLabel"})),null==e?void 0:e.map(((e,r)=>{const a=i.get((0,n.filterObjRef)(e)),o=null==a?void 0:a.id;return a?R.createElement(uw,{key:r,item:a,iconClassName:"gd-icon-filter",onAdd:()=>{t(`{dash_attribute_filter_selection(${o})}`)},isFilter:!0}):null})))},hw=({attributeDisplayForms:e,loadingAttributeDisplayForms:t,enableClientIdParameter:i,enableDataProductIdParameter:r,enableWidgetIdParameter:a,onAdd:n,intl:o,dashboardFilters:l,insightFilters:s})=>R.createElement("div",null,R.createElement("label",{className:"gd-label"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parametersPanelLabel"}),R.createElement(pb.BubbleHoverTrigger,{className:"gd-list-item-tooltip",showDelay:0,hideDelay:0},R.createElement("span",{className:"gd-icon-circle-question gd-list-item-tooltip-icon"}),R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:[{align:"cr cl"}]},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.parametersPanelTooltip"})))),R.createElement("div",{className:"gd-drill-to-url-parameters gd-drill-to-url-list"},R.createElement(mw,{attributeDisplayForms:e,loadingAttributeDisplayForms:t,onAdd:n,intl:o,insightFilters:s}),R.createElement(pw,{intl:o,onAdd:n,dashboardFilters:l}),R.createElement(lw,{enableClientIdParameter:i,enableDataProductIdParameter:r,enableWidgetIdParameter:a,onAdd:n,intl:o})));function fw(e,t){const[i,r]=(0,R.useState)({filters:[],filterQueryStatus:"pending"}),{status:a,error:o,result:l}=function(e){const t=$f(nd),i=$f(zd(null==e?void 0:e.ref)),r=t.filter((e=>!(0,n.isDashboardAttributeFilter)(e)||!(null==i?void 0:i.includes(e.attributeFilter.localIdentifier)))),a=!(null==e?void 0:e.dateDataSet),o=$f(yc),[l,s]=(0,R.useState)({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"pending"}),{run:d,error:c}=rb({queryCreator:rg,onSuccess:e=>{s((t=>({nonIgnoredFilterStatus:"success",nonIgnoredFilterRefs:Pa(t.nonIgnoredFilterRefs,e)?t.nonIgnoredFilterRefs:e.map(n.filterObjRef)})))},onBeforeRun:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"running"})},onRejected:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"rejected"})},onError:()=>{s({nonIgnoredFilterRefs:[],nonIgnoredFilterStatus:"error"})}});(0,R.useEffect)((()=>{(null==e?void 0:e.ref)&&d(e.ref,null)}),[iC(null==e?void 0:e.ref),qr(null==e?void 0:e.ignoreDashboardFilters),bw(r,a,o)]);const u=(0,R.useMemo)((()=>r.filter((e=>(0,n.isDashboardAttributeFilter)(e)?l.nonIgnoredFilterRefs.some((t=>(0,n.areObjRefsEqual)(t,e.attributeFilter.displayForm))):!a))),[r,l.nonIgnoredFilterRefs,a]);return{error:c,status:l.nonIgnoredFilterStatus,result:u}}(e),{run:s,error:d}=rb({queryCreator:rg,onSuccess:e=>{r({filters:e,filterQueryStatus:"success"})},onBeforeRun:()=>{r({filters:[],filterQueryStatus:"running"})},onRejected:()=>{r({filters:[],filterQueryStatus:"rejected"})},onError:()=>{r({filters:[],filterQueryStatus:"error"})}});var c,u,g;return(0,R.useEffect)((()=>{(null==e?void 0:e.ref)&&"success"===a&&s(e.ref,t)}),[iC(null==e?void 0:e.ref),(c=l,c.map((e=>qr(e))).sort().join("|")),t,a,null==e?void 0:e.dateDataSet]),{result:i.filters,status:(u=a,g=i.filterQueryStatus,"error"===u||"rejected"===u||"running"===u?u:g),error:null!=o?o:d}}function bw(e,t,i){return e.filter((e=>(0,n.isDashboardAttributeFilter)(e)?!(e.attributeFilter.negativeSelection&&(0,n.attributeElementsIsEmpty)(e.attributeFilter.attributeElements)&&i):!t)).map((e=>(0,n.isDashboardAttributeFilter)(e)?`df_${iC(e.attributeFilter.displayForm)}_${e.attributeFilter.localIdentifier}`:`ds_${iC(e.dateFilter.dataSet)}`)).sort().join("|")}var vw=i(44908);const Dw=e=>{const{onChange:t,onCursor:i,currentUrlValue:r,intl:a,syntaxHighlightingRules:n}=e,o=a.formatMessage({id:"configurationPanel.drillIntoUrl.editor.textAreaPlaceholder"});return n?R.createElement(pb.SyntaxHighlightingInput,{onChange:t,onCursor:i,value:r,customOptions:{placeholder:o},className:"gd-input-syntax-highlighting-input",formatting:n}):null},yw=({link:e})=>R.createElement("a",{className:"gd-button-link gd-drill-to-custom-url-help",target:"_blank",href:e,rel:"noopener noreferrer"},R.createElement("span",{className:"gd-icon-circle-question"}),R.createElement("span",{className:"gd-button-link-text"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.helpButtonLabel"}))),Ew=[{regex:/\{attribute_title\(.*?\)\}/,token:"invalid-attribute"},{regex:/\{dash_attribute_filter_selection\(.*?\)\}/,token:"invalid-filter"},{regex:/\{attribute_filter_selection\(.*?\)\}/,token:"invalid-filter"},{regex:/\{workspace_id\}|\{project_id\}|\{insight_id\}|\{widget_id\}|\{dashboard_id\}|\{client_id\}|\{data_product_id\}/,token:"identifier"},{regex:/\{[^}{]*\}/,token:"invalid-identifier"}],Iw=e=>{const{currentUrlValue:t,onChange:i,onCursor:r,documentationLink:a,attributeDisplayForms:o,intl:l,insightFilters:s,dashboardFilters:d}=e,c=$f(Qo),u=(0,R.useMemo)((()=>o&&s&&d&&((e,t,i)=>{const r=(e=>{if(0===e.length)return;const t=e.map((({displayForm:e})=>`{attribute_title\\(${e.id}\\)}`)).join("|");return{regex:new RegExp(t),token:"attribute"}})(e),a=(e=>{if(0===e.length)return;const t=e.map((e=>{const t=(0,n.filterObjRef)(e);return`{attribute_filter_selection\\(${(0,n.isUriRef)(t)?t.uri:t.identifier}\\)}`})).join("|");return{regex:new RegExp(t),token:"filter"}})(i),o=(e=>{if(0===e.length)return;const t=e.map((e=>{const t=(0,n.filterObjRef)(e);return`{dash_attribute_filter_selection\\(${(0,n.isUriRef)(t)?t.uri:t.identifier}\\)}`})).join("|");return{regex:new RegExp(t),token:"filter"}})(t);return{start:wa([r,o,a,...Ew])}})(o,d,s)),[o,s,d]);return R.createElement("div",null,R.createElement("label",{className:"gd-label"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.textAreaLabel"})),R.createElement(Dw,{onChange:i,onCursor:r,currentUrlValue:t,syntaxHighlightingRules:u,intl:l}),!c&&a?R.createElement(yw,{link:a}):null)},Cw={from:0,to:0},Sw=e=>{const{urlDrillTarget:t,documentationLink:i,onSelect:r,onClose:a,attributeDisplayForms:o,loadingAttributeDisplayForms:l=!1,invalidAttributeDisplayFormIdentifiers:s,enableClientIdParameter:d,enableDataProductIdParameter:c,enableWidgetIdParameter:u,widgetRef:g}=e,m=(0,vI.Z)(),p=function(e){const t=fw($f(Xd(e))),i=Aw();return(0,R.useMemo)((()=>{var e;return"success"===t.status?Kr(null===(e=t.result)||void 0===e?void 0:e.filter(n.isAttributeFilter).map(i),(e=>(0,n.serializeObjRef)((0,n.filterObjRef)(e)))):void 0}),[t.status,t.result,i])}(g),h=function(){const e=$f(od),t=Aw();return(0,R.useMemo)((()=>null==e?void 0:e.map(Dd).map(t)),[e,t])}(),f=function(e,t,i){const r=$f(ts);return(0,R.useMemo)((()=>{if(vS(e)){const a=Mu(e.customUrl),o=Nu(e.customUrl),l=a.filter((({identifier:e})=>!!r.get((0,n.idRef)(e,"displayForm"))&&!(null==i?void 0:i.some((t=>(0,n.areObjRefsEqual)((0,n.filterObjRef)(t),(0,n.idRef)(e,"displayForm"))))))).map((({identifier:e})=>e)),s=o.filter((({identifier:e})=>!!r.get((0,n.idRef)(e,"displayForm"))&&!(null==t?void 0:t.some((t=>(0,n.areObjRefsEqual)((0,n.filterObjRef)(t),(0,n.idRef)(e,"displayForm"))))))).map((({identifier:e})=>e));return vw([...l,...s])}return[]}),[r,e,t,i])}(t,p,h),b=(0,R.useMemo)((()=>[...s,...f]),[s,f]),v=t&&vS(t)&&t.customUrl||"",[D,y]=(0,R.useState)(v),E=D&&0!==D.localeCompare(v),[I,C]=(0,R.useState)(Cw),S=b.length>0?(e=>{const t=e.map((e=>`"${e}"`)).join(", ");return R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.editor.invalidAttributeDisplayForms",values:{invalidParameters:t}})})(b):void 0;return R.createElement(pb.ConfirmDialogBase,{className:"gd-drill-custom-url-editor s-gd-drill-custom-url-editor",isPositive:!0,headline:v?m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.editUrlTitle"}):m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.addUrlTitle"}),cancelButtonText:m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.cancelButtonLabel"}),submitButtonText:m.formatMessage({id:"configurationPanel.drillIntoUrl.editor.applyButtonLabel"}),isSubmitDisabled:!E,submitOnEnterKey:!1,onCancel:a,onSubmit:()=>{return r(/^[A-Za-z0-9.\-+]+:|^\{attribute_title\(|^\{attribute_filter_selection\(|^\{dash_attribute_filter_selection\(/.test(e=D)?e:`https://${e}`);var e},warning:S},R.createElement(Iw,{onChange:e=>y(e.trim()),onCursor:(e,t)=>C({from:e,to:t}),documentationLink:i,currentUrlValue:D,attributeDisplayForms:o,insightFilters:p,dashboardFilters:h,intl:m}),R.createElement(hw,{insightFilters:p,dashboardFilters:h,attributeDisplayForms:o,loadingAttributeDisplayForms:l,enableClientIdParameter:d,enableDataProductIdParameter:c,enableWidgetIdParameter:u,onAdd:e=>{return y((i=e,r=I,`${(t=D).substring(0,r.from)}${i}${t.substring(r.to)}`));var t,i,r},intl:m}))},ww=pb.OverlayController.getInstance(UC),Tw=e=>{const t=(0,pb.useMediaQuery)("mobileDevice")?pb.FullScreenOverlay:pb.Overlay;return R.createElement(pb.OverlayControllerProvider,{overlayController:ww},R.createElement(t,{onClose:e.onClose,isModal:!0,closeOnOutsideClick:!1,closeOnEscape:!0,positionType:"fixed",className:"gd-modal-overlay"},R.createElement(Sw,Object.assign({},e))))};function Aw(){const e=$f(ts);return(0,R.useCallback)((t=>{const i=e.get((0,n.filterObjRef)(t));return i?(0,n.isNegativeAttributeFilter)(t)?Object.assign(Object.assign({},t),{negativeAttributeFilter:Object.assign(Object.assign({},t.negativeAttributeFilter),{displayForm:(0,n.idRef)(i.id,"displayForm")})}):Object.assign(Object.assign({},t),{positiveAttributeFilter:Object.assign(Object.assign({},t.positiveAttributeFilter),{displayForm:(0,n.idRef)(i.id,"displayForm")})}):t}),[e])}const Pw=({item:e,onClickHandler:t,isSelected:i})=>{const r=gy("gd-list-item gd-menu-item gd-drill-to-attribute-url-option s-drill-to-attribute-url-option gd-icon-hyperlink-warning",{"is-selected":i}),a=(0,R.useCallback)((()=>{t&&t(e)}),[e,t]);return R.createElement("div",{className:r,onClick:a},R.createElement("span",{className:"gd-parameter-title"},e.attribute.title),R.createElement("span",{className:"addon"},"(",e.displayForm.title,")"))},kw=e=>{const{attributeDisplayForms:t,loading:i=!1,selected:r,onSelect:a}=e,o=(0,R.useCallback)((e=>{a(e.attributeDisplayFormRef,e.displayForm.ref)}),[a]);return i||0!==t.length?R.createElement(R.Fragment,null,R.createElement(BS,{className:"s-drill-to-attribute-url-section-title"},R.createElement(PE.Z,{id:"configurationPanel.drillIntoUrl.attributeUrlSectionTitle"})),i?R.createElement("div",{className:"gd-drill-to-url-section-loading s-drill-to-attribute-url-section-loading"},R.createElement("div",{className:"gd-spinner small"})):R.createElement("div",{className:"gd-drill-to-url-section-items"},t.map((e=>R.createElement(Pw,{key:(0,n.objRefToString)(e.displayForm.ref),item:e,isSelected:(0,n.areObjRefsEqual)(e.displayForm.ref,r||void 0),onClickHandler:o}))))):null};function Rw(e,t){return(0,n.areObjRefsEqual)(e.displayForm.ref,t.displayForm.ref)}const xw=[{align:"bl tl"},{align:"tl bl"}],Lw=e=>{const{onSelect:t,urlDrillTarget:i,attributes:r,widgetRef:a}=e,o=$f(Eo),l=$f(Bo),{allDisplayForms:s,linkDisplayForms:d}=function(e){const t=$f(Ob);(0,p.kG)(t,"must have selected widget");const i=$f(is),r=$f(ts),a=e.map((e=>e.attributeHeader.ref)).reduce(((e,t)=>{const a=r.get(t);if(!a)return e;const n=i.get(a.attribute);if(!n)return e;const o=n.attribute.displayForms.filter((e=>"GDC.link"===e.displayFormType));return e.linkDisplayForms.push(...o.map((e=>({attribute:n.attribute,attributeDisplayFormRef:t,displayForm:e})))),e.allDisplayForms.push(...n.attribute.displayForms.map((e=>({attribute:n.attribute,attributeDisplayFormRef:t,displayForm:e})))),e}),{linkDisplayForms:[],allDisplayForms:[]});return{allDisplayForms:bu(a.allDisplayForms,Rw),linkDisplayForms:bu(a.linkDisplayForms,Rw)}}(r),c=function(e,t){const i=$f(ts);return(0,R.useMemo)((()=>vS(e)?Fu(e.customUrl).filter((({identifier:e})=>{const r=i.get((0,n.idRef)(e,"displayForm"));return!!r&&!t.some((e=>(0,n.areObjRefsEqual)(r.attribute,e.attributeHeader.formOf)))})).map((({identifier:e})=>e)):[]),[i,e,t])}(i,r),[u,g]=(0,R.useState)(!1),m=()=>g(!u),{client:h,dataProduct:f}=(0,$.useClientWorkspaceIdentifiers)(),b=function(e){const t=(0,vI.Z)(),i=$f(ts),r=$f(is);if(vS(e)&&e.customUrl)return e.customUrl;if(DS(e)&&e.drillToAttributeDisplayForm){const t=i.get(e.drillToAttributeDisplayForm);(0,p.kG)(t,"inconsistent state in drill to URL button");const a=r.get(t.attribute);return(0,p.kG)(a,"inconsistent state in drill to URL button"),`${a.attribute.title} (${t.title})`}return t.formatMessage({id:"configurationPanel.drillIntoUrl.defaultButtonValue"})}(i);return R.createElement(R.Fragment,null,R.createElement(pb.Dropdown,{closeOnParentScroll:!0,alignPoints:xw,renderButton:({toggleDropdown:e,isOpen:t})=>R.createElement(pb.Button,{onClick:e,className:"gd-button gd-button-primary button-dropdown dropdown-button gd-button-small s-drill-to-url-button",iconRight:t?"gd-icon-navigateup":"gd-icon-navigatedown",value:b}),renderBody:({closeDropdown:r})=>R.createElement("div",{className:"gd-menu-wrapper gd-drill-to-url-body gd-drill-to-url-list s-gd-drill-to-url-body"},o.supportsHyperlinkAttributeLabels?R.createElement(kw,{attributeDisplayForms:d,onSelect:(e,i)=>{((e,i)=>{t({insightAttributeDisplayForm:e,drillToAttributeDisplayForm:i})})(e,i),r()},selected:DS(i)&&i.drillToAttributeDisplayForm}):null,R.createElement(VS,Object.assign({},e,{urlDrillTarget:i,toggleModal:m,closeDropdown:r})),u?R.createElement(Tw,{widgetRef:a,urlDrillTarget:i,attributeDisplayForms:s,invalidAttributeDisplayFormIdentifiers:c,documentationLink:String(l.drillIntoUrlDocumentationLink||""),enableClientIdParameter:!!h,enableDataProductIdParameter:!!f,enableWidgetIdParameter:!!o.supportsWidgetEntity,onSelect:e=>{(e=>{g(!1),t({customUrl:e})})(e),r()},onClose:m}):null)}))};var Ow=i(89734);const Fw=[{align:"cl cr",offset:{x:0,y:-2}},{align:"cr cl",offset:{x:0,y:10}}],Mw=(e,t)=>{switch(t){case"forbidden":return e.formatMessage({id:"configurationPanel.drillConfig.forbiddenDashboard.tooltip"});case"notShared":return e.formatMessage({id:"configurationPanel.drillConfig.notSharedDashboard.tooltip"});default:return}},Nw=e=>{const{onClick:t,accessibilityLimitation:i,title:r,isSelected:a=!1}=e,n=void 0===i?void 0:"gd-icon-circle-exclamation",o=`s-dashboard-item s-${FC.gl(r)}`,l=gy("gd-list-item gd-drill-dashboard-item",o,{"is-selected":a});return R.createElement("div",{className:l,onClick:t,title:r},n?R.createElement("span",{className:gy("gd-list-icon",n)}):null,R.createElement("span",null,r))},_w=e=>{const{accessibilityLimitation:t}=e,i=(0,vI.Z)(),r=Mw(i,t);return r?R.createElement(pb.BubbleHoverTrigger,{tagName:"div",showDelay:200,hideDelay:0},R.createElement(Nw,Object.assign({},e)),R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:Fw},r)):R.createElement(Nw,Object.assign({},e))},Hw=[{align:"cl cr",offset:{x:0,y:-2}},{align:"cr cl",offset:{x:0,y:10}}],Uw=e=>{const{accessibilityLimitation:t,toggleDropdown:i,isOpen:r,label:a}=e,n=void 0===t?void 0:"gd-icon-circle-exclamation";return R.createElement(pb.DropdownButton,{className:"dashboard-dropdown-button s-dashboards-dropdown-button",value:a,isOpen:r,onClick:i,iconLeft:n})},Gw=e=>{const{accessibilityLimitation:t}=e,i=(0,vI.Z)(),r=Mw(i,t);return r?R.createElement(pb.BubbleHoverTrigger,{tagName:"div",showDelay:200,hideDelay:0},R.createElement(Uw,Object.assign({},e)),R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:Hw,arrowOffsets:{"cr cl":[15,0]}},r)):R.createElement(Uw,Object.assign({},e))};function jw(e,t,i){return(0,n.areObjRefsEqual)(t,i)||(0,n.areObjRefsEqual)((0,n.idRef)(e),i)}const Bw=[{align:"bl tl"},{align:"tl bl"}],zw=({selected:e,dashboards:t,onSelect:i})=>{const r=(0,R.useMemo)((()=>e&&t.find((t=>jw(t.identifier,t.ref,e)))),[e,t]),a=(0,vI.Z)(),n=r?r.title:a.formatMessage({id:"configurationPanel.drillConfig.selectDashboard"}),[o,l]=(0,R.useState)(""),s=(0,R.useMemo)((()=>{let e=t.filter((({title:e})=>e.toLowerCase().includes(o.toLowerCase())));return r&&(e=e.map((e=>e.identifier===r.identifier?Object.assign(Object.assign({},e),{selected:!0}):e))),Ow(e,(e=>e.title.toLowerCase()))}),[t,o,r]),d=a.formatMessage({id:"configurationPanel.drillConfig.drillIntoDashboard.searchPlaceholder"});return R.createElement(pb.Dropdown,{className:"s-dashboards-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:Bw,renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"dashboards-dropdown-body s-dashboards-dropdown-body",width:240,height:319,searchString:o,searchPlaceholder:d,itemHeight:25,showSearch:!0,items:s,scrollToItem:r,onSearch:l,renderItem:({item:t})=>{const a=r&&t.selected;return R.createElement(_w,{isSelected:a,title:t.title,onClick:()=>{i(t),e()},accessibilityLimitation:t.accessibilityLimitation})}}),onOpenStateChanged:()=>{l("")},renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(Gw,{accessibilityLimitation:null==r?void 0:r.accessibilityLimitation,label:n,isOpen:e,toggleDropdown:t})})},Ww=e=>{const{onSelect:t,selected:i}=e,r=(0,vI.Z)(),a=$f(Ku),o=$f($u),l=(0,R.useMemo)((()=>((e,t,i,r)=>{const a=e.some((e=>(0,n.areObjRefsEqual)(e.ref,r)));if(!r||a)return e;const o=t.find((({ref:e})=>(0,n.areObjRefsEqual)(e,r)));if(void 0===o)return e;const{title:l,accessibilityLimitation:s}=o;return[Object.assign(Object.assign({},o),{title:"forbidden"===s?i.formatMessage({id:"configurationPanel.drillConfig.forbiddenDashboard"}):l}),...e]})(a,o,r,i)),[a,o,r,i]);return R.createElement(zw,{onSelect:t,dashboards:l,selected:i})},Vw=({onOpenAttributeHierarchyDialog:e})=>{const{formatMessage:t}=(0,vI.Z)(),i=$f(kp),r=t($.messages.createHierarchy);return R.createElement(R.Fragment,null,R.createElement("div",{className:"empty-attribute-hierarchy-info s-empty-attribute-hierarchy-info"},R.createElement("div",{className:"empty-attribute-hierarchy-info-content s-empty-attribute-hierarchy-info-content"},R.createElement(PE.Z,{id:$.messages.emptyHierarchyInfo.id,tagName:"span"}),null),i?R.createElement(pb.Button,{className:"gd-button-link gd-icon-plus gd-button-small add-attribute-hierarchy-button s-add-attribute-hierarchy-button",value:r,onClick:()=>{e()}}):null))},Kw=[{align:"cr cl",offset:{x:56,y:0}}],qw=({onClick:e})=>{const{formatMessage:t}=(0,vI.Z)(),i=$f(kp),r=t($.messages.hierarchyCreateButton);return i?R.createElement("div",{className:"attribute-hierarchy-list-footer s-attribute-hierarchy-list-footer"},R.createElement(pb.Separator,null),R.createElement(pb.Button,{className:"gd-button-link-dimmed gd-icon-plus attribute-hierarchy-list-footer-button s-attribute-hierarchy-list-footer-button",value:r,onClick:e})):null},Yw=(0,pb.withBubble)((e=>{const t=(0,vI.Z)(),{onClick:i,item:r,isDisabled:a}=e,o=$f(is),l=$f(kp),s=t=>{t&&(t.stopPropagation(),t.preventDefault()),e.onEdit(r)},d=(0,n.isCatalogAttributeHierarchy)(r)?r.attributeHierarchy.title:r.title,c=gy("attribute-hierarchy-list-item s-attribute-hierarchy-list-item",`s-${FC.gl(d)}`,{"is-disabled s-is-disable":a}),u=function(e,t){const i=(0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes,r=[];return i.forEach((e=>{const i=t.get(e);i&&r.push({title:i.attribute.title,isDate:!(0,n.isCatalogAttribute)(i)})})),r}(r,o),g=(0,n.isCatalogDateAttributeHierarchy)(r),m=l&&!g,p=g?t.formatMessage($.messages.hierarchyListGenericDateInfo):void 0;return R.createElement("div",{className:c,onClick:i},R.createElement("div",{className:"attribute-hierarchy-list-item-content s-attribute-hierarchy-list-item-content"},R.createElement(pb.ShortenedText,{className:"attribute-hierarchy-title s-attribute-hierarchy-title",tooltipAlignPoints:Kw,displayTooltip:!a},d)),R.createElement("div",{className:"attribute-hierarchy-list-item-actions s-attribute-hierarchy-list-item-actions"},m?R.createElement("div",{className:"gd-icon-pencil attribute-hierarchy-item-edit-button s-attribute-hierarchy-item-edit-button",onClick:s}):null,R.createElement("div",{className:"attribute-hierarchy-list-item-description s-attribute-hierarchy-list-item-description"},R.createElement(Sn.AttributeHierarchyDetailBubble,null,R.createElement(Sn.AttributeHierarchyDetailPanel,{title:d,description:p,attributes:u,onEdit:m?s:void 0})))))})),Zw=({hierarchies:e,onSelect:t,closeDropdown:i,onOpenAttributeHierarchyDialog:r})=>{const a=()=>{r(),i()};return R.createElement(pb.DropdownList,{className:"hierarchies-dropdown-body s-hierarchies-dropdown-body",width:187,itemHeight:28,showSearch:!1,items:e,footer:()=>R.createElement(qw,{onClick:a}),renderItem:({item:e})=>R.createElement(Yw,{item:e.hierarchy,isDisabled:e.isDisabled,onEdit:r,onClick:()=>{(e=>{e.isDisabled||t(e.hierarchy)})(e)},showBubble:e.isDisabled,bubbleTextId:rv.disableUsedDrillDownTooltip.id})})},$w=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],Xw=({config:e,attributeDescriptor:t,onSelect:i,onOpenAttributeHierarchyDialog:r})=>{const{formatMessage:a}=(0,vI.Z)(),o=$f($l),l=$f(Jd(e.widgetRef)),s=e.complete?o.find((t=>{const i=(0,n.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.ref:t.dateDatasetRef;return(0,n.areObjRefsEqual)(i,e.attributeHierarchyRef)})):null,d=function(e,t,i){const r=[];return t.forEach((t=>{const a=(0,n.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.ref:t.dateDatasetRef,o=(0,n.isCatalogAttributeHierarchy)(t)?t.attributeHierarchy.attributes:t.attributes,l=i.some((t=>Rh(t,a,null==e?void 0:e.attributeHeader.formOf.ref))),s=o.findIndex((t=>(0,n.objRefToString)(t)===(null==e?void 0:e.attributeHeader.formOf.identifier)));s>=0&&s<o.length-1&&r.push({isDisabled:!l,hierarchy:t})})),r}(t,o,l),c=(0,n.isCatalogAttributeHierarchy)(s)?null==s?void 0:s.attributeHierarchy.title:null==s?void 0:s.title,u=null!=c?c:a($.messages.drilldownSelectHierarchy);return R.createElement(pb.Dropdown,{className:"drill-config-hierarchy-target-select s-drill-config-hierarchy-target-select",closeOnMouseDrag:!1,closeOnParentScroll:!0,closeOnOutsideClick:!0,alignPoints:$w,renderButton:({isOpen:t,toggleDropdown:i})=>R.createElement(pb.DropdownButton,{value:u,onClick:i,isOpen:t,isSmall:!1,iconLeft:e.complete?"gd-icon-attribute-hierarchy":"",className:"gd-button-small s-visualization-button-target-hierarchy"}),renderBody:({closeDropdown:e})=>R.createElement(Zw,{hierarchies:d,closeDropdown:e,onOpenAttributeHierarchyDialog:r,onSelect:t=>{i(t),e()}})})},Qw=({config:e,onSelect:t,onDeleteInteraction:i})=>{const r=$f($l),{editingAttributeHierarchyRef:a,shouldDisplayAttributeHierarchyDialog:o,onDeleteAttributeHierarchy:l,onSaveAttributeHierarchy:s,onOpenAttributeHierarchyDialog:d,onCloseAttributeHierarchyDialog:c}=(e=>{const{onDeleteInteraction:t}=e,i=Zf(),[r,a]=(0,R.useState)(!1),n=(0,R.useRef)();return{shouldDisplayAttributeHierarchyDialog:r,editingAttributeHierarchyRef:n,onOpenAttributeHierarchyDialog:e=>{n.current=e,a(!0)},onCloseAttributeHierarchyDialog:()=>{a(!1)},onSaveAttributeHierarchy:e=>{n.current&&e?i(fa.updateAttributeHierarchy(e)):e&&(t(),i(fa.addAttributeHierarchy(e)))},onDeleteAttributeHierarchy:()=>{n.current&&i(fa.deleteAttributeHierarchy(n.current))}}})({onDeleteInteraction:i}),u=e.attributes.find((t=>t.attributeHeader.localIdentifier===e.originLocalIdentifier)),g=r.filter((e=>((0,n.isCatalogAttributeHierarchy)(e)?e.attributeHierarchy.attributes:e.attributes).some((e=>(0,n.areObjRefsEqual)(e,null==u?void 0:u.attributeHeader.formOf.ref))))),m=h(g)&&!e.complete;return R.createElement(R.Fragment,null,m?R.createElement(Vw,{onOpenAttributeHierarchyDialog:d}):R.createElement(Xw,{config:e,onSelect:t,attributeDescriptor:u,onOpenAttributeHierarchyDialog:e=>{e&&!(0,n.isCatalogAttributeHierarchy)(e)||d(e)}}),o?R.createElement(Sn.AttributeHierarchyDialog,{initialAttributeRef:null==u?void 0:u.attributeHeader.formOf.ref,editingAttributeHierarchy:a.current,onClose:c,onSaveOrUpdateSuccess:s,onDeleteSuccess:l}):null)},Jw=e=>{const{item:t,onDeleteInteraction:i}=e,r=i=>{const r=(0,n.isCatalogAttributeHierarchy)(i)?i.attributeHierarchy.ref:i.dateDatasetRef,a={attributeHierarchyRef:t.attributeHierarchyRef,type:"drillDownAttributeHierarchy",attributes:t.attributes,originLocalIdentifier:t.originLocalIdentifier};e.onSetup(a,Object.assign(Object.assign({},t),{attributeHierarchyRef:r}))},a=i=>{const r={localIdentifier:t.localIdentifier,transition:"pop-up",origin:eT(t),type:"drillToInsight",target:i.insight.ref};e.onSetup(r,Object.assign(Object.assign({},t),{insightRef:i.insight.ref}))},o=i=>{const r=(0,n.idRef)(i.identifier,"analyticalDashboard"),a={localIdentifier:t.localIdentifier,transition:"in-place",origin:eT(t),type:"drillToDashboard",target:r};e.onSetup(a,Object.assign(Object.assign({},t),{dashboard:r}))},l=i=>{if(vS(i)){const r={localIdentifier:t.localIdentifier,transition:"new-window",origin:eT(t),type:"drillToCustomUrl",target:{url:i.customUrl}};e.onSetup(r,Object.assign(Object.assign({},t),{urlDrillTarget:i}))}if(DS(i)){const r={localIdentifier:t.localIdentifier,transition:"new-window",origin:eT(t),type:"drillToAttributeUrl",target:{hyperlinkDisplayForm:i.drillToAttributeDisplayForm,displayForm:i.insightAttributeDisplayForm}};e.onSetup(r,Object.assign(Object.assign({},t),{urlDrillTarget:i}))}};switch(e.item.drillTargetType){case pS.DRILL_TO_DASHBOARD:return R.createElement(Ww,{selected:fS(t)?t.dashboard:void 0,onSelect:o});case pS.DRILL_TO_INSIGHT:return R.createElement(jS,{insight:t,onSelect:a});case pS.DRILL_TO_URL:return R.createElement(Lw,{widgetRef:t.widgetRef,urlDrillTarget:yS(t)?t.urlDrillTarget:void 0,attributes:t.attributes,onSelect:l});case pS.DRILL_DOWN:return R.createElement(Qw,{onSelect:r,onDeleteInteraction:i,config:t});case void 0:return null;default:!function(e){throw new Error(`unknown drill target type: ${e}`)}(e.item.drillTargetType)}return null};function eT(e){return"attribute"===e.type?{type:"drillFromAttribute",attribute:{localIdentifier:e.originLocalIdentifier}}:{type:"drillFromMeasure",measure:{localIdentifier:e.originLocalIdentifier}}}const tT=({item:e,enabledDrillTargetTypeItems:t,onIncompleteChange:i,onSetup:r,onDelete:a})=>{const o=(0,vI.Z)(),l=()=>{a(e)},s=gy("s-drill-config-item",`s-drill-config-item-${FC.gl(e.title)}`,{"s-drill-config-item-incomplete":!e.complete}),d=gy("s-drill-config-target","drill-config-target",{"drill-config-target-with-warning":!!e.warning}),c=$f(Ob);(0,p.kG)(c,"mush have widget selected");const{isFromDateAttribute:u,showDateFilterTransferWarning:g}=function(e,t){var i;const r=$f(Wl),a=$f(Wu(t));return(0,R.useMemo)((()=>{var t,i;const o=null===(i=null===(t=null==a?void 0:a.availableDrillTargets)||void 0===t?void 0:t.attributes)||void 0===i?void 0:i.find((t=>t.attribute.attributeHeader.localIdentifier===e.originLocalIdentifier)),l=!!(o&&(0,n.isAttributeDescriptor)(o.attribute)&&r.some((e=>e.dateAttributes.some((e=>(0,n.areObjRefsEqual)(e.attribute.ref,o.attribute.attributeHeader.formOf.ref)))))),s="measure"===e.type&&e.attributes.some((e=>r.some((t=>t.dateAttributes.some((t=>(0,n.areObjRefsEqual)(t.attribute.ref,e.attributeHeader.ref)))))));return{isFromDateAttribute:l,isDateAttributeInIntersection:s,showDateFilterTransferWarning:e.drillTargetType===pS.DRILL_TO_DASHBOARD&&(l||s)}}),[null===(i=null==a?void 0:a.availableDrillTargets)||void 0===i?void 0:i.attributes,r,e.type,e.attributes,e.drillTargetType,e.originLocalIdentifier])}(e,c),m=function(e,t,i){const r=y(e);if(t){const e=r.findIndex((e=>e.id===pS.DRILL_DOWN));if(e>=0){const t=r[e];t.disabled=!0,t.disableTooltipMessage=i.formatMessage($.messages.drilldownTooltipDisabledMetric),r.splice(e,1,t)}}return r}(t,"measure"===e.type,o);return R.createElement("div",{className:s},R.createElement("div",{className:"drill-config-item-intro"},R.createElement(PE.Z,{id:"configurationPanel.drillConfig.clickHintItem",values:{addon:e=>R.createElement("span",{className:"addon"},e)}})),R.createElement(AS,{type:e.type,title:e.title,onDelete:l,isDateAttribute:u}),R.createElement("div",{className:d},R.createElement("div",{className:"drill-config-target-box"},R.createElement("div",{className:"drill-config-item-target"},R.createElement(PE.Z,{id:"configurationPanel.drillConfig.selectTarget"})),R.createElement(OS,{onSelect:t=>{i(Object.assign(Object.assign({},e),{drillTargetType:t}))},selection:e.drillTargetType,enabledDrillTargetTypeItems:m,isButtonDisabled:!1}),R.createElement(Jw,{item:e,onSetup:r,onDeleteInteraction:l}),!!e.warning&&R.createElement("div",{className:"drill-config-target-warning s-drill-config-target-warning"},R.createElement("span",{className:"gd-icon-warning"}),R.createElement("span",null,R.createElement(PE.Z,{id:e.warning}))),g?R.createElement("div",{className:"drill-config-date-filter-warning s-drill-config-date-filter-warning"},R.createElement("span",null,R.createElement(PE.Z,{id:"configurationPanel.drillConfig.drillIntoDashboard.dateFilterWarning"}))):null)))},iT=e=>{const{drillConfigItems:t=[],disableDrillDown:i,onDelete:r,onSetup:a,onIncompleteChange:n}=e,o=(e=>{const t=[],i=(0,vI.Z)(),r=$f(sl),a=$f(gl),n=$f(ul),o=$f(Rl),l=$f(Fo);return r&&t.push({id:pS.DRILL_TO_DASHBOARD,title:i.formatMessage(rv.drillToDashboardConfig),tooltipMessage:$.messages.drillToDashboardTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-dashboard/"}),a&&t.push({id:pS.DRILL_TO_INSIGHT,title:i.formatMessage(rv.drillIntoInsight),tooltipMessage:$.messages.drillToInsightTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-insight/"}),o&&l&&t.push({id:pS.DRILL_DOWN,title:i.formatMessage(rv.drillDownConfig),disabled:e,disableTooltipMessage:e?i.formatMessage(rv.disableDrillDownToolTip):void 0,tooltipMessage:$.messages.drilldownTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-down/"}),n&&t.push({id:pS.DRILL_TO_URL,title:i.formatMessage(rv.drillToUrlConfig),tooltipMessage:$.messages.drillToUrlTooltip.id,documentUrl:"https://www.gooddata.com/docs/cloud/create-dashboards/drilling-in-dashboards/set-drill-into-hyperlink/"}),t})(i);return R.createElement("div",{className:"s-drill-config-list"},t.map(((e,i)=>{const l=((e,t)=>!e.complete&&t)(e,(e=>e===t.length-1)(i));return R.createElement(pb.ScrollableItem,{scrollIntoView:l,key:e.localIdentifier+e.drillTargetType},R.createElement(tT,{item:e,key:e.localIdentifier+e.drillTargetType,onDelete:r,onSetup:a,onIncompleteChange:n,enabledDrillTargetTypeItems:o}))})))},rT=e=>{const t=e.item.measure.measureHeaderItem.name;return R.createElement("a",{onClick:()=>{e.onClick(e.item),e.onCloseDropdown()},className:"gd-drill-measure-selector-list-item s-drill-measure-selector-item",title:t},t)},aT=e=>R.createElement("div",{className:"gd-drill-measure-selector-list"},e.supportedItems.map((t=>R.createElement(rT,{key:t.measure.measureHeaderItem.localIdentifier,item:t,onClick:e.onSelect,onCloseDropdown:e.onCloseDropdown})))),nT=e=>{const{item:t}=e,i=t.attribute.attributeHeader.formOf.name,r=$f(Wl).some((e=>e.dateAttributes.some((e=>(0,n.areObjRefsEqual)(e.attribute.ref,t.attribute.attributeHeader.formOf.ref)))));return R.createElement("a",{onClick:()=>{e.onClick(t),e.onCloseDropdown()},className:gy("s-drill-attribute-selector-item",{"gd-drill-attribute-selector-list-item":!r,"gd-drill-attribute-date-selector-list-item":r}),title:i},i)},oT=e=>R.createElement("div",{className:"gd-drill-attribute-selector-list"},e.supportedItems.map((t=>R.createElement(nT,{key:t.attribute.attributeHeader.localIdentifier,item:t,onClick:e.onSelect,onCloseDropdown:e.onCloseDropdown})))),lT=e=>{var t;const{supportedItems:i,onSelect:r,onCloseDropdown:a}=e;return(null===(t=i.measures)||void 0===t?void 0:t.length)?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-origin-selector-separator"},R.createElement("span",null,R.createElement(PE.Z,{id:"configurationPanel.drillConfig.measureValue"}))),R.createElement(aT,{supportedItems:i.measures,onSelect:r,onCloseDropdown:a})):null},sT=e=>{var t;const{supportedItems:i,onSelect:r,onCloseDropdown:a}=e;return(null===(t=i.attributes)||void 0===t?void 0:t.length)?R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-origin-selector-separator"},R.createElement("span",null,R.createElement(PE.Z,{id:"configurationPanel.drillConfig.attributeValue"}))),R.createElement(oT,{supportedItems:i.attributes,onSelect:r,onCloseDropdown:a})):null},dT=e=>{const{onCloseDropdown:t,onSelect:i,supportedItems:r}=e;return R.createElement("div",{className:"gd-drill-item-selector-dropdown s-drill-item-selector-dropdown",onScroll:e=>{e.stopPropagation()}},R.createElement("div",{className:"gd-drill-item-selector-header"},R.createElement(PE.Z,{id:"configurationPanel.drillConfig.clickHint"}),R.createElement("button",{className:"gd-button-link gd-button-icon-only gd-icon-cross",onClick:t})),R.createElement("div",{className:"gd-drill-item-selector-body"},R.createElement(lT,{supportedItems:r,onSelect:i,onCloseDropdown:t}),R.createElement(sT,{supportedItems:r,onSelect:i,onCloseDropdown:t})))},cT=[{align:"bl tl",offset:{x:0,y:4}},{align:"tl bl",offset:{x:0,y:-4}}],uT=e=>{var t,i;const{items:r,widgetRef:a}=e,n=t=>{e.onSelect(t,a)},o=(0,vI.Z)();return(null===(t=r.measures)||void 0===t?void 0:t.length)||(null===(i=r.attributes)||void 0===i?void 0:i.length)?R.createElement(pb.Dropdown,{className:"gd-drill-origin-selector",closeOnParentScroll:!0,closeOnMouseDrag:!1,closeOnOutsideClick:!0,alignPoints:cT,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(pb.DropdownButton,{value:o.formatMessage({id:"configurationPanel.drillConfig.addInteraction"}),iconLeft:"gd-icon-add",className:"s-drill-show-measures customizable",isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(dT,{supportedItems:r,onSelect:n,onCloseDropdown:e})}):null};function gT(e){var t,i;const{widget:r}=e,a=(0,vI.Z)(),[n,o]=(0,R.useState)(null===(i=null===(t=r.properties)||void 0===t?void 0:t.controls)||void 0===i?void 0:i.zoomInsight),l=Zf(),s=$f(Eu(r.insight));return s&&(0,Sn.getInsightVisualizationMeta)(s).supportsZooming?R.createElement("div",{className:"s-zoom-and-pan zoom-and-pan-section configuration-category"},R.createElement(pb.Checkbox,{onChange:e=>{var t;o(e),l($m(r.ref,Object.assign(Object.assign({},r.properties),{controls:Object.assign(Object.assign({},null===(t=r.properties)||void 0===t?void 0:t.controls),{zoomInsight:e})})))},value:n,text:a.formatMessage({id:"configurationPanel.zoomInsight"})}),R.createElement(pb.BubbleHoverTrigger,{tagName:"abbr",hideDelay:1e3,showDelay:100},R.createElement("i",{className:"gd-button-link gd-icon-circle-question s-circle_question gd-button"}),R.createElement(pb.Bubble,{alignTo:".gd-icon-circle-question",alignPoints:[{align:"cr cl"}]},a.formatMessage({id:"configurationPanel.zoomInsight.help"}))),n?R.createElement(pb.Message,{type:"progress"},a.formatMessage({id:"configurationPanel.zoomInsight.notice"})):null):null}const mT=({widgetRef:e})=>{var t,i,r;const{widget:a,insight:n,enableKDZooming:o,drillConfigItems:l,originSelectorItems:s,isOriginSelectorVisible:d,isLoaded:c,onChangeItem:u,onOriginSelect:g,onSetupItem:m,onDeleteItem:p}=wS({widgetRef:e});return R.createElement(R.Fragment,null,!!o&&R.createElement(gT,{widget:a}),R.createElement("div",{className:"configuration-category s-drill-config-panel"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement("span",null,R.createElement(PE.Z,{id:"configurationPanel.drillConfig.interactions"}))),R.createElement(iT,{disableDrillDown:null===(r=null===(i=null===(t=null==n?void 0:n.insight)||void 0===t?void 0:t.properties)||void 0===i?void 0:i.controls)||void 0===r?void 0:r.disableDrillDown,drillConfigItems:l,onDelete:p,onSetup:m,onIncompleteChange:u}),d?R.createElement(uT,{widgetRef:e,items:s,onSelect:g}):c?null:R.createElement("div",{className:"gd-spinner small"})))},pT=pb.OverlayController.getInstance(UC),hT=({widget:e})=>{const t=(0,n.isInsightWidget)(e)?FC.gl((0,n.objRefToString)(e.ref)):"",i=gy("configuration-scrollable-panel","s-configuration-scrollable-panel",`s-visualization-${t}`);return R.createElement(pb.ScrollablePanel,{className:i},R.createElement(pb.OverlayControllerProvider,{overlayController:pT},R.createElement(mT,{widgetRef:e.ref})))};function fT(e,{intl:t,dispatch:i,includeInteractions:r=!0}){return wa([{type:"submenu",itemId:"ConfigurationPanelSubmenu",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.title"}),icon:"gd-icon-settings",disabled:!1,className:"s-configuration-panel-submenu",SubmenuComponent:gS},r&&{type:"submenu",itemId:"InteractionPanelSubmenu",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.interactions"}),icon:R.createElement(pb.Icon.Interaction,{className:"item-icon"}),disabled:!1,className:"s-configuration-panel-submenu",SubmenuComponent:hT},{type:"separator",itemId:"InteractionPanelRemoveSeparator"},{type:"button",itemId:"InteractionPanelRemove",tooltip:"",itemName:t.formatMessage({id:"configurationPanel.remove.form.dashboard"}),icon:"gd-icon-trash",disabled:!1,className:"s-delete-insight-item",onClick:()=>i(Dv(e.ref))}])}const bT=({maxLength:e,originalTitle:t,text:i,onTitleChange:r,onTitleEditingCancel:a=K,onTitleEditingStart:n=K})=>R.createElement(pb.EditableLabel,{className:"s-editable-label s-headline",maxRows:2,value:i,maxLength:e,placeholder:t,onEditingStart:n,onSubmit:r,onCancel:a},R.createElement("span",null,i)),vT=({widget:e,insight:t,clientHeight:i})=>{const r=Zf(),a=(0,R.useCallback)((i=>{i?r(zm(e.ref,{title:i})):t&&r(zm(e.ref,{title:(0,n.insightTitle)(t)}))}),[r,t,e.ref]),o=Math.max(e.title.length,200);return R.createElement(SC,{clientHeight:i},R.createElement(bT,{text:e.title,originalTitle:e.title,maxLength:o,onTitleChange:a}))},DT=({widget:e,insight:t,screen:i,onError:r,onExportReady:a,onLoadingChanged:o,dashboardItemClasses:l})=>{const s=(0,n.insightVisualizationType)(t),{isSelectable:d,isSelected:c,onSelected:u,closeConfigPanel:g,hasConfigPanelOpen:m}=nv((0,n.widgetRef)(e)),{menuItems:p}=(e=>{var t,i;const{insight:r,widget:a,closeMenu:n}=e,o=(0,vI.Z)(),l=Zf(),s=$f(Bo),{enableKPIDashboardDrillToURL:d,enableKPIDashboardDrillToDashboard:c,enableKPIDashboardDrillToInsight:u}=s,g=$f(Wu(a.ref)),m=d||c||u,p=null==g?void 0:g.availableDrillTargets,h=!!(null===(t=null==p?void 0:p.attributes)||void 0===t?void 0:t.length)||!!(null===(i=null==p?void 0:p.measures)||void 0===i?void 0:i.length),f=m&&h,{insightMenuItemsProvider:b}=ay(),v=(0,R.useMemo)((()=>fT(a,{intl:o,dispatch:l,includeInteractions:f})),[l,o,a,f]);return{menuItems:(0,R.useMemo)((()=>b?b(r,a,v,n,"edit"):v),[b,r,a,v,n])}})({closeMenu:g,insight:t,widget:e}),{InsightMenuComponentProvider:h,ErrorComponent:f,LoadingComponent:b}=sy(),v=(0,R.useMemo)((()=>h(t,e)),[h,t,e]),D=!$f(sD);return R.createElement(aC,{className:gy(l,"type-visualization","gd-dashboard-view-widget","is-edit-mode",sC(e.type,s),{"is-selected":c}),screen:i},R.createElement(pC,{isSelectable:d,isSelected:c,onSelected:u,renderHeadline:i=>{var r;return!(null===(r=e.configuration)||void 0===r?void 0:r.hideTitle)&&R.createElement(vT,{clientHeight:i,widget:e,insight:t})},renderAfterContent:()=>R.createElement(R.Fragment,null,!!c&&R.createElement("div",{className:"dash-item-action dash-item-action-lw-options",onClick:u}),!!m&&R.createElement(v,{insight:t,widget:e,isOpen:m,onClose:g,items:p})),contentClassName:gy({"is-editable":D}),visualizationClassName:gy({"is-editable":D})},(({clientHeight:i,clientWidth:n})=>R.createElement(AC,{clientHeight:i,clientWidth:n,insight:t,widget:e,onExportReady:a,onLoadingChanged:o,onError:r,ErrorComponent:f,LoadingComponent:b}))))},yT=QD({view:e=>R.createElement(OC,Object.assign({},e,{Component:HC})),edit:e=>R.createElement(OC,Object.assign({},e,{Component:DT}))}),ET=R.memo((function(e){const{onError:t,onFiltersChange:i,screen:r,widget:a,backend:o,index:l}=e;if(!(0,n.isDashboardWidget)(a))throw new ur.UnexpectedError("Cannot render custom widget with DefaultWidgetRenderer! Please handle custom widget rendering in your widgetRenderer.");const s=(0,n.widgetRef)(a),d=tb(),c=(0,$.useBackendStrict)(o),u=(0,R.useMemo)((()=>{let e=!1;const t=(t,i)=>{e||(d(function(e,t,i){return{type:"GDC.DASH/EVT.WIDGET.EXECUTION_SUCCEEDED",correlationId:i,payload:{dataView:t,widgetRef:e}}}(s,t,i)),e=!0)},i=(t,i)=>{e||(d(function(e,t,i){return{type:"GDC.DASH/EVT.WIDGET.EXECUTION_FAILED",correlationId:i,payload:{widgetRef:e,error:t}}}(s,(0,$.convertError)(t),i)),e=!0)};return function(e,t){return h(t)?e:(i=e,h(r={execution:e=>new JI.oO(e,(e=>new eC(e,t)))})?i:new QI(i,r));var i,r}(c,{beforeExecute:(t,i)=>{e=!1,d({type:"GDC.DASH/EVT.WIDGET.EXECUTION_STARTED",correlationId:i,payload:{widgetRef:s,executionDefinition:t}})},successfulResultReadAll:t,successfulResultReadWindow:(e,i,r,a)=>{t(r,a)},failedExecute:i,failedResultReadAll:i,failedResultReadWindow:(e,t,r,a)=>{i(r,a)}})}),[c,d,iC(s)]),g=`s-dash-item-${l}`;return(0,n.isWidget)(a)?R.createElement($.BackendProvider,{backend:u},(0,n.isInsightWidget)(a)?R.createElement(yT,{widget:a,screen:r,dashboardItemClasses:g}):R.createElement(oC,{kpiWidget:a,screen:r,dashboardItemClasses:g,onFiltersChange:i,onError:t})):R.createElement("div",null,"Unknown widget")}));var IT=i(32553);function CT(e){const t=Zf(),i=$f(Bo),{run:r}=Jf({commandCreator:Vm,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.INSIGHT_WIDGET.FILTER_SETTINGS_CHANGED",onSuccess:e=>{t(Ha.setWidgetLoadingAdditionalDataStopped(e.payload.ref))},onError:e=>{t(Ha.setWidgetLoadingAdditionalDataStopped(e.payload.command.payload.ref))}}),{run:a}=Jf({commandCreator:uv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const i=e.payload.items[0].widget.ref;t(Ha.selectWidget(i)),t(Ha.setConfigurationPanelOpened(!0)),t(Ha.setWidgetDateDatasetAutoSelect(!0)),t(Ha.setWidgetLoadingAdditionalDataStarted(i)),r(i,"default")}});return(0,R.useCallback)((r=>{const o=`insert-insight-list-item-${e}`,l=qn(i,"insight",r);GD(t,ov(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:l.height.default,gridWidth:l.width.default}},widget:_d()}],!1,o)).then((()=>{a(e,0,{type:"IDashboardLayoutItem",widget:{type:"insight",insight:(0,n.insightRef)(r),ignoreDashboardFilters:[],drills:[],title:(0,n.insightTitle)(r),description:""},size:{xl:{gridHeight:l.height.default,gridWidth:l.width.default}}},void 0,!1,o)}))}),[t,a,e,i])}function ST(e){const t=Zf(),i=$f(Bo),{run:r}=Jf({commandCreator:ov,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",onSuccess:e=>{const i=e.payload.section.items[0].widget.ref;t(Ha.selectWidget((0,n.idRef)(Td))),t(Ha.setConfigurationPanelOpened(!0)),t(Ha.setWidgetDateDatasetAutoSelect(!0)),t(Ha.setWidgetLoadingAdditionalDataStarted(i))}});return(0,R.useCallback)((()=>{const t=qn(i,"kpi");r(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:t.height.default,gridWidth:t.width.default}},widget:Ad()}])}),[r,e,i])}function wT(e){const t=Zf(),i=$f(Bo),{run:r}=Jf({commandCreator:ov,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.SECTION_ADDED",onSuccess:()=>{t(Ha.selectWidget((0,n.idRef)(kd))),t(Ha.setConfigurationPanelOpened(!0))}});return(0,R.useCallback)((()=>{const t=Yn(i);r(e,{},[{type:"IDashboardLayoutItem",size:{xl:{gridHeight:t.height.default,gridWidth:t.width.default}},widget:Rd()}])}),[r,e,i])}const TT={"insight-placeholder":"insight",insightListItem:"visualization","kpi-placeholder":"kpi"},AT=()=>{const e=Zf(),t=$f(cc),{EmptyLayoutDropZoneBodyComponent:i}=sy(),r=CT(0),a=ST(0),n=wT(0),[{canDrop:o,isOver:l,itemType:s,item:d},c]=rE(["insightListItem","kpi-placeholder","insight-placeholder"],{drop:e=>{Sy(e)&&r(e.insight),Iy(e)&&a(),Cy(e)&&n()}},[e,t,r,a,n]),{gridWidth:u=12,gridHeight:g}=(null==d?void 0:d.size)||{},m=R.createElement(PE.Z,{id:"newDashboard.dropInsight"}),p=TT[s];return R.createElement(IT.JX,{xl:u,lg:u,md:u,sm:u,xs:u,style:{minHeight:g?ao(g):void 0},className:gy("drag-info-placeholder","dash-item",{[`type-${p}`]:!!p,"type-none":!p,"s-last-drop-position":o})},R.createElement("div",{className:gy("drag-info-placeholder-inner",{"can-drop":o,"is-over":l}),ref:c},R.createElement(i,null),R.createElement("div",{className:"drag-info-placeholder-drop-target s-drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(pb.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},m),R.createElement(pb.Typography,{tagName:"p",className:"drop-target-message visualization-drop-target"},m)))))},PT=()=>R.createElement("div",{className:gy("drag-info-placeholder","dash-item","type-loading")},R.createElement(pb.LoadingDots,null)),kT=()=>R.createElement("div",null,"Missing renderer"),RT=()=>R.createElement("div",null,"Missing widget"),xT=e=>{const{WidgetComponentProvider:t,KpiWidgetComponentSet:i,InsightWidgetComponentSet:r}=sy(),{widget:a,index:o}=e,l=(0,R.useMemo)((()=>{if(!a)return console.warn("Attempting render an undefined widget."),RT;const e=t(a);return e&&e!==ET?e:Ld(a)?AT:Od(a)?PT:wd(a)&&i.creating?i.creating.CreatingPlaceholderComponent:Pd(a)&&r.creating?r.creating.CreatingPlaceholderComponent:(0,n.isDashboardWidget)(a)?ET:(console.warn(`Unable to render widget ${w(a)}`),kT)}),[a]);return R.createElement(l,Object.assign({},e,{index:o}))},LT=(0,jf.b)(LE.Z),OT=({render:e,type:t,modifications:i,onHide:r})=>{const a=(0,vI.Z)(),n=i.includes("insertedByPlugin"),o=i.includes("modifiedByPlugin"),l=(0,kE.Fg)(),[s,d]=(0,R.useState)("none"),[c,u]=(0,R.useState)(0),g=gy("gd-fluidlayout-item-changed",{[t]:!0,[s]:!0,added:n,modified:o});return e&&(n||o)?R.createElement(LT,{client:!0,onResize:e=>{e.client&&(d(e.client.height<100?"small":"big"),u(e.client.height))}},(({measureRef:e})=>{var t,i;return R.createElement("div",{className:g,ref:e},R.createElement("div",{className:"gd-fluidlayout-item-changed-content"},R.createElement("div",{className:"gd-fluidlayout-item-changed-icon",style:c?{height:c}:{}},R.createElement(MT,{color:null===(i=null===(t=null==l?void 0:l.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c7})),R.createElement("div",{className:"gd-fluidlayout-item-changed-info"},R.createElement(FT,{added:n,modified:o})),R.createElement(pb.Button,{className:"gd-button gd-button-link",value:a.formatMessage({id:"layout.widget.hideOverlay"}),onClick:r})))})):null},FT=({added:e,modified:t})=>e?R.createElement(PE.Z,{id:"layout.widget.addedByPlugin"}):t?R.createElement(PE.Z,{id:"layout.widget.modifiedByPlugin"}):null,MT=({color:e})=>R.createElement("svg",{width:"29",height:"35",viewBox:"0 0 29 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R.createElement("path",{d:"M15.6264 2.50847C14.8954 2.26481 14.1052 2.26481 13.3742 2.50847L13.2559 2.54788C11.124 3.25852 10.1752 5.74192 11.2901 7.69306L11.8345 8.64571C12.6873 10.1381 11.3879 11.9409 9.70247 11.6038L2.30263 10.1238C2.16491 10.0963 2.03641 10.2016 2.03641 10.342V32.3544C2.03641 32.4773 2.13606 32.577 2.25898 32.577H25.7456C25.859 32.577 25.9543 32.4917 25.9668 32.379L26.7587 25.2513C26.7776 25.0818 26.6066 24.955 26.4499 25.0222L23.9499 26.0936C21.5157 27.1368 18.6851 26.2215 17.3226 23.9506C16.3163 22.2735 16.3163 20.1783 17.3226 18.5012C18.6851 16.2303 21.5157 15.315 23.9499 16.3582L26.4499 17.4296C26.6066 17.4968 26.7776 17.37 26.7587 17.2005L25.9937 10.3154C25.9791 10.1838 25.8535 10.0939 25.7242 10.1227L19.3749 11.5336C17.6773 11.9109 16.3383 10.0943 17.2011 8.58438L17.7105 7.69306C18.8254 5.74192 17.8766 3.25852 15.7447 2.54788L15.6264 2.50847ZM12.8111 0.819283C13.9076 0.453794 15.093 0.453794 16.1895 0.819283L16.3077 0.858699C19.5056 1.92465 20.9288 5.64975 19.2564 8.57646L18.7471 9.46779C18.6512 9.63555 18.8 9.8374 18.9886 9.79548L25.338 8.38451C26.5014 8.12598 27.6318 8.93425 27.7634 10.1187L28.5284 17.0039C28.6979 18.5293 27.1592 19.6708 25.7485 19.0662L23.2485 17.9948C21.6327 17.3024 19.7538 17.9099 18.8494 19.4173C18.1815 20.5305 18.1815 21.9213 18.8494 23.0345C19.7538 24.5419 21.6327 25.1495 23.2485 24.457L25.7485 23.3856C27.1592 22.781 28.6979 23.9225 28.5284 25.448L27.7364 32.5756C27.6237 33.59 26.7663 34.3575 25.7456 34.3575H2.25898C1.15269 34.3575 0.255859 33.4607 0.255859 32.3544V10.342C0.255859 9.07798 1.41231 8.12991 2.65183 8.37782L10.0517 9.85778C10.2389 9.89524 10.3833 9.69493 10.2886 9.52911L9.74419 8.57646C8.07178 5.64975 9.49501 1.92465 12.6929 0.858699L12.8111 0.819283Z",fill:null!=e?e:"#687581"}));function NT(e){return e.items().map((e=>e.ref()))}const _T=e=>{const{item:t,screen:i,DefaultWidgetRenderer:r,onDrill:a,onFiltersChange:o,onError:l,getLayoutDimensions:s}=e,d=Zf(),c=$f(yu),u=$f(Bo),g=$f(yc),m=$f(Xo),p=$f(vl),h=MI(),f=t.widget(),b=I(f),v=!(xd(f)||b),[{isDragging:D},y]=wE({dragItem:()=>function(e,t,i){const r=e.widget(),{sectionIndex:a,itemIndex:o}=FI(e),l=e.size(),s=1===e.section().items().count();if((0,n.isKpiWidget)(r)){const e=qn(i,"kpi",r.kpi);return{type:"kpi",kpi:r.kpi,title:r.title,sectionIndex:a,itemIndex:o,isOnlyItemInSection:s,size:HT(l,e)}}if((0,n.isInsightWidget)(r)){const e=t.get(r.insight),n=qn(i,"kpi",e);return{type:"insight",insight:e,sectionIndex:a,itemIndex:o,title:r.title,isOnlyItemInSection:s,size:HT(l,n)}}return{type:r.type,widget:r,sectionIndex:a,itemIndex:o,title:"",isOnlyItemInSection:s,size:HT(l)}}(t,c,u),canDrag:g&&v,dragStart:e=>{d(Ha.setDraggingWidgetSource(e))},dragEnd:h},[t,c,g]),{ErrorComponent:E,LoadingComponent:C}=sy(),S=t.size()[i],w=io(f,S,c,u),T=S.heightAsRatio&&!S.gridHeight?((e,t)=>{const{gridWidth:i,heightAsRatio:r=1}=e;return oo[t]/Pn*i*(r/100)})(S,i):void 0,A=!!S.heightAsRatio,P=p?"custom-height":void 0,k=function(e){var t,i;const r=e.section().index(),a=e=>!e||Hd(e);let n=0;for(let o=0;o<r;o+=1)n+=null!==(i=null===(t=e.section().layout().section(o))||void 0===t?void 0:t.items().filter((e=>!a(e.widget()))).length)&&void 0!==i?i:0;const o=e.section().items().filter((t=>t.index()<e.index()&&a(t.widget()))).length;return n+e.index()-o}(t),x=function(e){return[e.ref()]}(t),L=$f(ev(NT(t.section()))),O=$f(Jb(x)),F=$f(Qb(x)),{isActive:M,isResizingColumnOrRow:N,heightLimitReached:_,widthLimitReached:H}=function(e){var t,i;const r=eI();return{isActive:r.resizeItemIdentifiers.includes(e),isResizingColumnOrRow:"none"!==r.resizeDirection,heightLimitReached:r.heightLimitReached,widthLimitReached:null!==(i=null===(t=r.widthState)||void 0===t?void 0:t.limitReached)&&void 0!==i?i:"none",initialDashboardDimensions:r.initialDashboardDimensions}}(f.identifier),U=(0,R.useRef)(null),G=g&&!D;return R.createElement(r,{DefaultWidgetRenderer:r,item:t,screen:i,allowOverflow:A,height:T,minHeight:w,className:P,contentRef:U,getLayoutDimensions:s},R.createElement("div",{ref:y,className:gy(["dashboard-widget-draggable-wrapper",{"gd-custom-widget-export":b&&m}])},R.createElement(xT,{index:k,screen:i,onDrill:a,onError:l,onFiltersChange:o,widget:f,ErrorComponent:E,LoadingComponent:C})),G&&!Hd(f)?R.createElement(R.Fragment,null,R.createElement(HI,{isActive:M,isResizingColumnOrRow:N,reachedWidthLimit:H,reachedHeightLimit:_}),I(f)?null:R.createElement(R.Fragment,null,R.createElement(WI,{dropZoneType:"prev",itemIndex:t.index(),sectionIndex:t.section().index(),isLastInSection:!1}),R.createElement(WI,{dropZoneType:"next",itemIndex:t.index(),sectionIndex:t.section().index(),isLastInSection:t.isLast()}),R.createElement(YI,{item:t,screen:i,getGridColumnHeightInPx:function(){return(null==U?void 0:U.current)?U.current.getBoundingClientRect().height:ZE},getGridColumnWidth:function(){var e;const r=null===(e=t.sizeForScreen(i))||void 0===e?void 0:e.gridWidth;return((null==U?void 0:U.current)?U.current.getBoundingClientRect().width:100)/r},getLayoutDimensions:s}))):null,R.createElement(OT,{type:"column",onHide:()=>d(Ha.toggleWidgetsOverlay({refs:[t.ref()],visible:!1})),render:Boolean(g&&F)&&!L.includes("insertedByPlugin"),modifications:O}))};function HT(e,t){var i,r;return{gridWidth:(null===(i=e.xl)||void 0===i?void 0:i.gridWidth)||(null==t?void 0:t.width.default)||Sn.WIDGET_DROPZONE_SIZE_INFO_DEFAULT.width.default,gridHeight:(null===(r=e.xl)||void 0===r?void 0:r.gridHeight)||(null==t?void 0:t.height.default)||Sn.WIDGET_DROPZONE_SIZE_INFO_DEFAULT.height.default}}const UT=e=>{const{isLast:t}=e;return R.createElement("div",{className:gy("drag-info-placeholder","widget-dropzone-box","s-last-drop-position","type-kpi")},R.createElement("div",{className:gy("drag-info-placeholder-inner","can-drop","is-over")},R.createElement("div",{className:"drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(pb.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},t?R.createElement(PE.Z,{id:"dropzone.widget.last.in.row.desc",values:{b:e=>R.createElement("b",null,e)}}):R.createElement(PE.Z,{id:"dropzone.widget.desc",values:{b:e=>R.createElement("b",null,e)}}))))))},GT=e=>{const{isLastInSection:t,dropRef:i}=e;return R.createElement("div",{className:"widget-dropzone",ref:i},R.createElement(UT,{isLast:t}))},jT=e=>{const{sectionIndex:t,itemIndex:i,isLastInSection:r=!1}=e,a=$f($b),n=UI(t,i),o=GI(t,i),l=jI(t,i),s=BI(t,i),d=Zf(),[c,u]=rE(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Sy(e)&&n(e.insight),Iy(e)&&l(),Cy(e)&&o(),(Dy(e)||yy(e))&&s(e)}},[d,n,o,l]);if(!(0,R.useMemo)((()=>(null==a?void 0:a.sectionIndex)===t&&(null==a?void 0:a.itemIndex)===i),[null==a?void 0:a.itemIndex,null==a?void 0:a.sectionIndex,i,t]))return null;const g=c.item.size;return R.createElement(IT.JX,{xl:g.gridWidth,lg:g.gridWidth,md:g.gridWidth,sm:g.gridWidth,xs:g.gridWidth,className:gy("gd-fluidlayout-column","gd-fluidlayout-column-dropzone","s-fluid-layout-column"),style:{minHeight:ao(g.gridHeight)}},R.createElement(GT,{isLastInSection:r,sectionIndex:t,itemIndex:i,dropRef:u}))},BT=e=>{const{item:t,screen:i}=e,r=$f(yc),{sectionIndex:a,itemIndex:n}=FI(t);return t.isLast()&&r?R.createElement(R.Fragment,null,R.createElement(jT,{screen:i,sectionIndex:a,itemIndex:n+1,isLastInSection:!0}),R.createElement("div",{className:gy("gd-fluidlayout-column","gd-fluidlayout-column-row-end-hotspot","s-fluid-layout-column",`s-fluid-layout-screen-${i}`)},R.createElement(WI,{dropZoneType:"next",isEndingHotspot:!0,itemIndex:n,sectionIndex:a,isLastInSection:t.isLast()}))):null},zT={height:0,width:0,overflow:"hidden",flex:0},WT=e=>{var t,i,r,a,n;const{item:o,screen:l,children:s,className:d,minHeight:c=0,isHidden:u}=e,{size:g,ratio:m,width:p,height:h}=function(e,t){const i=e.size(),r=e.sizeForScreen(t),a=null==r?void 0:r.heightAsRatio;return{height:null==r?void 0:r.gridHeight,width:null==r?void 0:r.gridWidth,ratio:a,size:i}}(o,l),f=(0,R.useMemo)((()=>{let e={minHeight:c};return u&&(e=Object.assign(Object.assign({},e),zT)),e}),[c,u]);return R.createElement(IT.JX,{xl:null===(t=null==g?void 0:g.xl)||void 0===t?void 0:t.gridWidth,lg:null===(i=null==g?void 0:g.lg)||void 0===i?void 0:i.gridWidth,md:null===(r=null==g?void 0:g.md)||void 0===r?void 0:r.gridWidth,sm:null===(a=null==g?void 0:g.sm)||void 0===a?void 0:a.gridWidth,xs:null===(n=null==g?void 0:g.xs)||void 0===n?void 0:n.gridWidth,className:gy("gd-fluidlayout-column","s-fluid-layout-column",`s-fluid-layout-screen-${l}`,`s-fluid-layout-column-width-${p}`,{[`s-fluid-layout-column-ratio-${m}`]:!Tn(m),[`s-fluid-layout-column-height-${h}`]:!Tn(h)},d),style:f},s)},VT=QD({view:WT,edit:e=>{const{item:t,screen:i,children:r}=e,{sectionIndex:a,itemIndex:n}=function(e){var t;return{sectionIndex:null===(t=e.section())||void 0===t?void 0:t.index(),itemIndex:e.index()}}(t),o=function(e,t){const i=$f(Zb);return(0,R.useMemo)((()=>!!i&&i.sectionIndex===e&&i.itemIndex===t),[i,e,t])}(a,n),l=S(t.widget());return R.createElement(R.Fragment,null,l?null:R.createElement(jT,{screen:i,sectionIndex:a,itemIndex:n}),R.createElement(WT,Object.assign({},e,{className:gy({"current-dragging-item":o})}),r),l?null:R.createElement(BT,{item:t,screen:i}))}});function KT(e){const{item:t,screen:i,debug:r,className:a,contentRef:n,isResizedByLayoutSizingStrategy:o,minHeight:l,height:s,allowOverflow:d,children:c}=e,{heightAsRatio:u,gridHeight:g}=t.size()[i],m=(0,R.useMemo)((()=>{const e={minHeight:l,height:s};return d&&(e.overflowX="hidden",e.overflowY="auto"),r&&(u?e.border=o?"dashed 1px #d6d6d6":"solid 1px green":e.outline="solid 1px yellow"),e}),[l,s,d,r,u,o]);return R.createElement("div",{ref:n,className:gy("gd-fluidlayout-column-container",a,{"custom-height":!!g}),style:m},c)}const qT=e=>R.createElement(VT,Object.assign({},e));function YT(e){const{item:t,itemRenderer:i=qT,widgetRenderer:r,screen:a}=e,n={item:t,screen:a,DefaultWidgetRenderer:KT};return i(Object.assign(Object.assign({},e),{DefaultItemRenderer:VT,children:r(n)}))}const ZT=({item:e})=>e.index().toString();function $T(e){const{section:t,itemKeyGetter:i=ZT,gridRowRenderer:r,itemRenderer:a,widgetRenderer:n,screen:o,items:l,renderMode:s}=e,d=l.map((e=>R.createElement(YT,{key:i({item:e,screen:o}),item:e,itemRenderer:a,widgetRenderer:n,screen:o})));return R.createElement(IT.X2,{className:"gd-fluidlayout-row s-gd-fluid-layout-row"},r?r({children:d,screen:o,section:t,items:l,renderMode:s}):d)}const XT=e=>{const{description:t}=e,i=gy("gd-paragraph","description","s-fluid-layout-row-description");return R.createElement("div",{className:i},t)},QT=e=>{const{title:t,description:i,renderBeforeHeader:r,renderHeader:a}=e;return R.createElement("div",{className:"gd-fluid-layout-row-header s-fluid-layout-row-header"},r,R.createElement("div",{className:"gd-fluid-layout-row-header-container"},null!=a?a:R.createElement("div",{className:"gd-row-header-view"},t?R.createElement("div",{className:"gd-row-header-title-wrapper"},R.createElement("span",{className:"title"},R.createElement(pb.Typography,{tagName:"h2",className:"s-fluid-layout-row-title"},t))):null,i?R.createElement(XT,{description:i}):null)))},JT={index:()=>0,raw:()=>null,widget:()=>null,ref:()=>{},section:()=>{},size:()=>({xl:{gridWidth:12}}),sizeForScreen:()=>({gridWidth:12}),isLast:()=>!0,widgetEquals:()=>!1,widgetIs:()=>!1,hasSizeForScreen:()=>!1,indexIs:()=>!1,isFirst:()=>!0,test:()=>!1,testRaw:()=>!1,isCustomItem:()=>!1,isInsightWidgetItem:()=>!1,isInsightWidgetDefinitionItem:()=>!1,isKpiWidgetItem:()=>!1,isKpiWidgetDefinitionItem:()=>!1,isLayoutItem:()=>!1,isWidgetItem:()=>!1,isWidgetDefinitionItem:()=>!1,isWidgetItemWithInsightRef:()=>!1,isWidgetItemWithKpiRef:()=>!1,isWidgetItemWithRef:()=>!1,isEmpty:()=>!1};function eA(e){const{section:t,screen:i}=e,r=t.header();return r?R.createElement(WT,{DefaultItemRenderer:WT,item:JT,screen:i},R.createElement(QT,{title:r.title,description:r.description})):null}const tA={height:0,width:0,overflow:"hidden",flex:0},iA={},rA=e=>{const{children:t,className:i,debug:r,isHidden:a}=e,n=a?tA:iA;return R.createElement("div",{className:gy(["gd-fluidlayout-row","s-fluid-layout-row",i],{"gd-fluidlayout-row-debug":r}),style:n},t)},aA=e=>{const{section:t}=e,i=Zf(),r=NT(t),a=$f(Qb(r)),n=$f(ev(r));return R.createElement(OT,{type:"column",onHide:()=>i(Ha.toggleWidgetsOverlay({refs:t.items().map((e=>e.ref())),visible:!1})),render:a,modifications:n})};var nA=i(24976);function oA(){const[{canDrop:e}]=rE(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{},[]);return e}var lA=i(25387);const sA=e=>{const{status:t}=e,i=gy("s-gd-fluidlayout-height-resizer","gd-fluidlayout-height-resizer",t),r=gy("height-resizer-line",t);return R.createElement("div",{className:i},R.createElement("div",{className:r}))};function dA({section:e,items:t,screen:i,getLayoutDimensions:r}){const a=Zf(),n=$f(yu),o=$f(Bo),{resizeDirection:l,resizeItemIdentifiers:s,resizeStart:d,resizeEnd:c,getScrollCorrection:u}=eI(),g=(0,R.useMemo)((()=>t.map((e=>e.widget()))),[t]),m=(0,R.useMemo)((()=>g.map((e=>e.identifier))),[g]),p=(0,R.useMemo)((()=>function(e){const t=e.filter((e=>S(e.widget()))),i=t.reduce(((e,t)=>{var i;const{xl:{gridHeight:r=Sn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.height.default}}=null!==(i=t.size())&&void 0!==i?i:{xl:{}};return Math.max(e,r)}),0);return{allowHeightResize:t.length<e.length,heightLimit:t.length>0?i:0}}(t)),[t]),[{isDragging:f},b]=wE({dragItem:()=>{const a=r(),l=Qn(g,n,p.heightLimit),s=Jn(g,n),d=function(e,t,i,r){return e.reduce(((e,a)=>{var n,o,l;const s=a.sizeForScreen(i),d=null!==(n=io(a.widget(),s,t,r))&&void 0!==n?n:ZE,c=Sn.fluidLayoutDescriptor.toGridHeight(d);return[...e,null!==(l=null===(o=a.sizeForScreen(i))||void 0===o?void 0:o.gridHeight)&&void 0!==l?l:c]}),[])}(t,n,i,o);return{type:"internal-height-resizer",sectionIndex:e.index(),itemIndexes:t.map((e=>e.index())),initialLayoutDimensions:a,widgetHeights:d,minLimit:l,maxLimit:s}},dragEnd:(e,t)=>{var i;const r=u(),{sectionIndex:o,itemIndexes:l,widgetHeights:s}=e,d=Qn(g,n,p.heightLimit),m=Jn(g,n),h=function(e,t,i,r,a){const n=Math.max(...e),o=Sn.fluidLayoutDescriptor.toGridHeight(t-i);return Math.min(a,Math.max(r,n+o))}(s,(null===(i=t.getDifferenceFromInitialOffset())||void 0===i?void 0:i.y)||0,r.y,d,m);a(Iv(o,l,h)),c()}},[g,n,p.heightLimit]);(0,R.useEffect)((()=>{f&&d("height",m)}),[f]);const v="none"!==l,D="width"===l,y=!h(s)&&!lA(s,m),[E,I]=(0,R.useState)(!1),C=(v||E)&&!D&&!y,w=f?"muted":"active";return R.createElement("div",{className:"dash-height-resizer-container s-dash-height-resizer-container"},p.allowHeightResize?R.createElement("div",{ref:b,className:"s-dash-height-resizer-hotspot dash-height-resizer-hotspot",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},C?R.createElement(sA,{status:w}):null):null)}const cA=({item:e})=>e.index().toString();function uA(e){const{section:t,itemKeyGetter:i=cA,gridRowRenderer:r,itemRenderer:a,widgetRenderer:n,getLayoutDimensions:o,screen:l,items:s,renderMode:d,itemsInRowsByIndex:c}=e,u=oA(),g=(0,R.useMemo)((()=>s.map((e=>R.createElement(YT,{key:i({item:e,screen:l}),item:e,itemRenderer:a,widgetRenderer:n,screen:l})))),[i,a,s,l,n]),m=(0,R.useMemo)((()=>u?g:nA(c).reduce(((e,[i,r])=>function(e,t,i,...r){const a=[];t>0&&a.push(...e.slice(0,t)),a.push(...r);const n=a.length-r.length,o=i<=0?n:n+i;return e[o]&&a.push(...e.slice(o)),a}(e,i+1,0,R.createElement(IT.JX,{xl:12,key:`HeightResizerHotspot-${i}`,style:{minHeight:0}},R.createElement(dA,{key:`HeightResizerHotspot-${i}`,screen:l,getLayoutDimensions:o,section:t,items:r})))),g)),[u,g,c,l,o,t]);return R.createElement(IT.X2,{className:"gd-fluidlayout-row s-gd-fluid-layout-row"},r?r({children:m,screen:l,section:t,items:s,renderMode:d}):m)}const gA=e=>R.createElement(rA,Object.assign({},e)),mA=e=>R.createElement(eA,Object.assign({},e)),pA=({item:e})=>e.index().toString();function hA(e){const{section:t,sectionRenderer:i=gA,sectionHeaderRenderer:r=mA,itemKeyGetter:a=pA,gridRowRenderer:n,itemRenderer:o,widgetRenderer:l,getLayoutDimensions:s,screen:d,renderMode:c}=e,u={section:t,screen:d,renderMode:c},g=(0,R.useMemo)((()=>{if("edit"===c){const e=t.items().asGridRows(d).map((e=>[Aa(e).index(),e])),i=t.items().all();return R.createElement(uA,{screen:d,itemsInRowsByIndex:e,section:t,items:i,gridRowRenderer:n,itemKeyGetter:a,itemRenderer:o,widgetRenderer:l,renderMode:c,getLayoutDimensions:s})}return Oi(t.items().asGridRows(d),((e,i)=>R.createElement($T,{key:i.toString(),screen:d,section:t,items:e,gridRowRenderer:n,itemKeyGetter:a,itemRenderer:o,widgetRenderer:l,renderMode:c,getLayoutDimensions:s})))}),[s,n,a,o,c,d,t,l]);return i(Object.assign(Object.assign({},u),{DefaultSectionRenderer:rA,children:R.createElement(R.Fragment,null,r({section:t,screen:d,DefaultSectionHeaderRenderer:eA}),g,"edit"===c?R.createElement(aA,{section:t}):null)}))}(0,IT.Dg)({maxScreenClass:"xl",defaultScreenClass:void 0,gutterWidth:0,breakpoints:[321,641,1171,1591]});const fA=({section:e})=>e.index().toString();function bA(e){const{layout:t,sectionKeyGetter:i=fA,sectionRenderer:r,sectionHeaderRenderer:a,itemKeyGetter:n,itemRenderer:o,widgetRenderer:l,gridRowRenderer:s,className:d,debug:c,onMouseLeave:u,enableCustomHeight:g,renderMode:m="view"}=e,p=R.useRef(null),{layoutFacade:h,resizedItemPositions:f}=(0,R.useMemo)((()=>{const e=((e,t)=>t?e:mo(e))(t,!!g),i=Nn.for(lo(e)),r=go(t,i.raw());return{layoutFacade:i,resizedItemPositions:r}}),[t,g]),b=(0,R.useCallback)((e=>r?r(Object.assign(Object.assign({},e),{debug:c})):R.createElement(e.DefaultSectionRenderer,Object.assign({},e,{debug:c}))),[c,r]),v=(0,R.useCallback)((function(){return(null==p?void 0:p.current)?p.current.getBoundingClientRect():$E}),[]),D=(0,R.useCallback)((e=>{const t=f.some((t=>Pa(t,[e.item.section().index(),e.item.index()])));return l?l(Object.assign(Object.assign({},e),{isResizedByLayoutSizingStrategy:t,debug:c,getLayoutDimensions:v})):R.createElement(e.DefaultWidgetRenderer,Object.assign({},e,{debug:c,isResizedByLayoutSizingStrategy:t,getLayoutDimensions:v}))}),[c,f,l]);return R.createElement("div",{className:gy("gd-fluidlayout-container","s-fluid-layout-container","gd-dashboards",d),onMouseLeave:u,ref:p},R.createElement(IT.pV,{useOwnWidth:!1},R.createElement(IT.uq,{render:e=>{const t=e;return t?R.createElement(IT.W2,{fluid:!0,className:"gd-fluidlayout-layout s-fluid-layout"},h.sections().map((e=>R.createElement(hA,{key:i({section:e,screen:t}),section:e,sectionRenderer:b,sectionHeaderRenderer:a,itemKeyGetter:n,itemRenderer:o,gridRowRenderer:s,widgetRenderer:D,screen:t,renderMode:m,getLayoutDimensions:v})))):null}})))}const vA=e=>{const{active:t,className:i}=e,r=t?`var(--gd-palette-primary-base, ${pb.GD_COLOR_HIGHLIGHT})`:"#E6E6E6",a=t?pb.GD_COLOR_WHITE:pb.INFO_TEXT_COLOR;return R.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:i},R.createElement("g",{fill:"none",fillRule:"evenodd"},R.createElement("circle",{cx:"10",cy:"10",r:"10",fill:r}),R.createElement("path",{d:"M6.5 9.5H14c.2761424 0 .5.22385763.5.5 0 .2761424-.2238576.5-.5.5H6.5V14c0 .2761424-.22385763.5-.5.5-.27614237 0-.5-.2238576-.5-.5V6c0-.27614237.22385763-.5.5-.5.27614237 0 .5.22385763.5.5v3.5z",fill:a,fillRule:"nonzero"})))},DA=e=>{const{position:t,status:i}=e;return R.createElement("div",{className:gy("gd-fluidlayout-row-separator","s-fluidlayout-row-separator",t,i)},R.createElement(vA,{className:"gd-fluidlayout-row-separator-icon gd-fluidlayout-row-separator-icon-left",active:"active"===e.status}),R.createElement(vA,{className:"gd-fluidlayout-row-separator-icon gd-fluidlayout-row-separator-icon-right",active:"active"===e.status}))},yA=e=>R.createElement(R.Fragment,null,R.createElement(DA,{position:"top",status:e.status}),e.children,R.createElement(DA,{position:"bottom",status:e.status})),EA={height:0,width:0,overflow:"hidden",flex:0},IA={},CA=QD({view:rA,edit:e=>{const{children:t,className:i,debug:r,isHidden:a,section:n}=e,o=a?EA:IA,l=function(e){const t=$f(Bb);return oA()||t===e?"muted":"invisible"}(n.index());return R.createElement("div",{className:gy(["gd-fluidlayout-row","s-fluid-layout-row",i],{"gd-fluidlayout-row-debug":r}),style:o},R.createElement(yA,{status:l},t))}}),SA=[{align:"bl tl"}],wA={"bl tl":[0,7]},TA="bubble-primary";function AA({onEditingStart:e,maxLength:t,value:i,warningLimit:r,onCancel:a,alignTo:n,className:o,maxRows:l,placeholderMessage:s,children:d,onSubmit:c}){const u=(0,vI.Z)(),[g,m]=(0,R.useState)(i),[p,h]=(0,R.useState)(!1),f=t-g.length,b=t,v=u.formatMessage({id:"layout.header.characters.left"},{currentCharactersCount:f,maximumCharactersCount:b}),D=g.length,y=p&&t-D<=r,E=(0,R.useCallback)((()=>{h(!0),null==e||e()}),[e]),I=(0,R.useCallback)((()=>{h(!1),m(i),null==a||a()}),[a,i]),C=(0,R.useCallback)((e=>{h(!1),m(e),c(e)}),[c]),S=(0,R.useCallback)((e=>{m(e)}),[]);return R.createElement(R.Fragment,null,R.createElement(pb.EditableLabel,{className:o,maxRows:l,value:i,maxLength:t,placeholder:s,onEditingStart:E,onCancel:I,onChange:S,onSubmit:C},d),y?R.createElement(pb.Bubble,{alignTo:n,className:TA,alignPoints:SA,arrowOffsets:wA},v):null)}const PA=1024;function kA(e){const t=function(e){return e&&e.length>PA?e.substring(0,PA)+"...":e}(e.description),i=function(e){return e&&e.length>256?e.substring(0,256)+"...":e}(e.title),{index:r}=e,a=(0,vI.Z)(),n=Zf(),o=(0,R.useCallback)((e=>n(dv(r,{title:e},!0))),[n,r]),l=(0,R.useCallback)((e=>n(dv(r,{description:e},!0))),[n,r]),s=(0,R.useCallback)((()=>{n(Ha.setActiveSectionIndex(r))}),[n,r]),d=(0,R.useCallback)((()=>{n(Ha.clearActiveSectionIndex())}),[n]),c=(0,R.useCallback)((e=>{o(e),d()}),[o,d]),u=(0,R.useCallback)((e=>{l(e),d()}),[l,d]);return R.createElement("div",{className:"gd-row-header-edit"},R.createElement("div",{className:"gd-editable-label-container gd-row-header-title-wrapper"},R.createElement(AA,{className:`gd-title-for-${r} s-fluid-layout-row-title-input title gd-heading-2`,maxRows:10,value:i||"",maxLength:256,warningLimit:128,placeholderMessage:a.formatMessage({id:"layout.header.add.title.placeholder"}),alignTo:`.gd-title-for-${r}`,onSubmit:c,onEditingStart:s,onCancel:d})),R.createElement("div",{className:"gd-editable-label-container gd-row-header-description-wrapper"},R.createElement(AA,{className:`gd-description-for-${r} s-fluid-layout-row-description-input description`,alignTo:`.gd-description-for-${r}`,maxRows:15,value:t||"",maxLength:PA,warningLimit:512,placeholderMessage:a.formatMessage({id:"layout.header.add.description.placeholder"}),onSubmit:u,onEditingStart:s,onCancel:d})))}const RA=e=>{const{isOver:t}=e;return R.createElement("div",{className:"new-row-dropzone"},R.createElement(yA,{status:t?"active":"muted"},R.createElement("div",{className:gy("drag-info-placeholder","widget-dropzone-box","s-last-drop-position","type-kpi")},R.createElement("div",{className:gy("drag-info-placeholder-inner","can-drop",{"is-over":t})},R.createElement("div",{className:"drag-info-placeholder-drop-target"},R.createElement("div",{className:"drop-target-inner"},R.createElement(pb.Typography,{tagName:"p",className:"drop-target-message kpi-drop-target"},R.createElement(PE.Z,{id:"dropzone.new.row.desc",values:{b:e=>R.createElement("b",null,e),nbsp:R.createElement(R.Fragment,null,"")}}))))))))},xA=e=>{const{index:t,targetPosition:i}=e,r=Zf(),a=CT(t),n=ST(t),o=wT(t),l=function(e){const t=Zf();return(0,R.useCallback)((i=>t(hv(i.sectionIndex,i.itemIndex,e))),[t,e])}(t),{handleDragHoverEnd:s}=zI(),[{canDrop:d,isOver:c},u]=rE(["insightListItem","kpi-placeholder","insight-placeholder","kpi","insight"],{drop:e=>{Sy(e)&&a(e.insight),Dy(e)&&l(e),Cy(e)&&o(),yy(e)&&l(e),Iy(e)&&n()},canDrop:e=>{if(vy(e)){const i=t===e.sectionIndex||t===e.sectionIndex+1;return!(e.isOnlyItemInSection&&i)}return!0}},[r,t,a,n,o]);if((0,R.useEffect)((()=>{c&&s()}),[s,c]),!d)return null;const g="below"===i,m=py({isOver:c});return R.createElement("div",{className:gy("row-hotspot-container",{last:g&&d,"s-last-drop-position":g&&d,hidden:!d})},R.createElement("div",{className:gy("row-hotspot",{hidden:!d}),style:Object.assign({},m),ref:u},!!c&&R.createElement(RA,{isOver:c})))},LA=QD({view:eA,edit:function(e){const{section:t,screen:i}=e,r=t.header(),a=0===t.index()&&t.items().every((e=>Ld(e.widget()))),n=NT(t),o=$f(tv(n));return R.createElement(WT,{DefaultItemRenderer:WT,item:JT,screen:i},R.createElement(QT,{title:null==r?void 0:r.title,description:null==r?void 0:r.description,renderBeforeHeader:!a&&R.createElement(xA,{index:t.index(),targetPosition:"above"}),renderHeader:a||o?void 0:R.createElement(kA,{title:(null==r?void 0:r.title)||"",description:(null==r?void 0:r.description)||"",index:t.index()})}))}}),OA=QD({view:()=>{const e=(0,vI.Z)(),{ErrorComponent:t}=sy();return R.createElement(t,{className:"s-layout-error",message:e.formatMessage({id:"dashboard.error.empty.heading"}),description:e.formatMessage({id:"dashboard.error.empty.text"})})},edit:AT}),FA=e=>{const t=e.item.widget();return(0,n.isWidget)(t)?(0,n.objRefToString)(t.ref):e.item.index().toString()},MA=e=>{const{onFiltersChange:t,onDrill:i,onError:r}=e,a=$f(qd),o=$f(rc),l=$f(vl),s=$f(yu),d=$f(Xo),c=$f(vc),u=(0,R.useCallback)((e=>s.get(e)),[s]),g=(0,R.useMemo)((()=>(e=>(t,i)=>r=>{const a=r.facade().widget(),o=(0,n.isInsightWidget)(a)&&!!t(a.insight),l=`${qr(r.facade().raw(),{space:0})}__${o}`;if(!e.has(l)){const a=Vr(function(e){return t=>t.widget((t=>{let i=t;if((0,n.isWidget)(i)&&(i=Object.assign(Object.assign({},i),{ref:Object.assign(Object.assign({},i.ref),{uri:(0,n.widgetUri)(i),identifier:(0,n.widgetId)(i)})})),(0,n.isInsightWidget)(i)){const t=e(i.insight);t&&(i=Object.assign(Object.assign({},i),{insight:Object.assign(Object.assign({},i.insight),{uri:(0,n.insightUri)(t),identifier:(0,n.insightId)(t)})}))}return i}))}(t),function(e,t){return i=>{const r=i.facade().widget();if((0,n.isInsightWidget)(r)){const a=e(r.insight);(0,p.kG)(a,"Inconsistent insight store");const n=i.facade().size().xl,{gridWidth:o,gridHeight:l}=n,{validWidth:s,validHeight:d}=po(o,l,"insight",a,{enableKDWidgetCustomHeight:t});if(o!==s||l!==d){const e=o!==s?{gridWidth:s}:{},t=l!==d?{gridHeight:d}:{};return i.size({xl:Object.assign(Object.assign(Object.assign({},n),e),t)})}}return i}}(t,i))(r);e.set(l,a.build())}return r.setItem(e.get(l))})(new OI({max:100}))),[]),m=(0,R.useMemo)((()=>d?function(e){const t=Wn.for(e),i=t.facade().sections().map((e=>({items:e.items().asGridRows("xl"),header:e.header()})));return t.removeSections(),i.forEach((e=>{e.items.forEach(((i,r)=>{const a=i.map((e=>e.size().xl.gridHeight)),n=Qa(a);t.createSection((t=>(i.forEach((i=>{0===r&&t.header(e.header),t.createItem(Object.assign(Object.assign({},i.size().xl),{gridHeight:n}),(e=>e.widget(i.widget())))})),t)))}))})),t.build()}(a):Wn.for(a).modifySections((e=>e.modifyItems(g(u,l)))).build()),[a,d,u,l,g]),h=(0,R.useCallback)((e=>R.createElement(_T,Object.assign({onError:r,onDrill:i,onFiltersChange:t},e))),[r,i,t]);if(o)return R.createElement(OA,null);const f=m.sections.length>1||m.sections[0].items.some((e=>!Ld(e.widget)));return R.createElement(R.Fragment,null,R.createElement(bA,{className:d?"export-mode":"",layout:m,itemKeyGetter:FA,widgetRenderer:h,enableCustomHeight:l,sectionRenderer:CA,sectionHeaderRenderer:LA,renderMode:c}),!!f&&R.createElement(xA,{index:m.sections.length,targetPosition:"below"}))};var NA=i(74806);class _A extends R.PureComponent{constructor(e){super(e),this.handleTitleFocus=e=>{e.target.select()},this.handleTitleBlur=e=>{const t=e.target.value.trim();this.setState({dashboardTitle:""===t?this.getDefaultDashboardTitle():t})},this.handleTitleChange=e=>{this.setState({dashboardTitle:e})},this.onSubmit=()=>{const e=this.state.dashboardTitle.trim();this.canCreateDashboard()&&""!==e&&this.props.onSubmit(e,!0,!this.props.isInEditMode)},this.getNoteText=()=>{const{isKpiWidgetEnabled:e,isScheduleEmailsEnabled:t,intl:i}=this.props,r=Ta(wa([e&&t&&rv.saveAsNewAlertsAndEmailsMessage.id,e&&!t&&rv.saveAsNewAlertsMessage.id,!e&&t&&rv.saveAsNewEmailsMessage.id]));return r?i.formatMessage({id:r}):""};const t=this.getDefaultDashboardTitle();this.state={dashboardTitle:t}}getDefaultDashboardTitle(){return this.props.intl.formatMessage({id:"dialogs.save.as.new.default.title"},{title:this.props.dashboardTitle})}canCreateDashboard(){const{isDashboardLoaded:e,isDashboardSaving:t}=this.props;return e&&!t}render(){const{intl:{formatMessage:e},onCancel:t=K,isDashboardSaving:i}=this.props,{dashboardTitle:r}=this.state,a=this.getNoteText();return R.createElement(pb.ConfirmDialog,{onCancel:t,onSubmit:this.onSubmit,isPositive:!0,className:"s-dialog save-as-new-dialog",headline:e({id:"dialogs.save.as.new.title"}),cancelButtonText:e({id:"cancel"}),submitButtonText:e({id:"create.dashboard"}),isSubmitDisabled:i||""===r.trim()},R.createElement(pb.Typography,{tagName:"p",className:"dashboard-note"},e({id:"dialogs.save.as.new.desc"})),R.createElement("div",{className:"dashboard-title"},R.createElement(pb.Input,{autofocus:!0,maxlength:255,onFocus:this.handleTitleFocus,onBlur:this.handleTitleBlur,value:r,placeholder:this.getDefaultDashboardTitle(),onChange:this.handleTitleChange})),a?R.createElement(pb.Message,{type:"progress"},a):null)}}const HA=(0,NA.ZP)(_A),UA=e=>R.createElement(YE,{locale:e.locale},R.createElement(HA,Object.assign({},e)));function GA(){const{addSuccess:e,addError:t}=(0,pb.useToastMessage)(),i=Zf(),r=(0,R.useCallback)((()=>i(Ha.closeSaveAsDialog())),[i]),a=$f(Eb),n=(0,R.useCallback)((()=>{r(),t(rv.messagesDashboardSaveFailed)}),[r,t]),o=(0,R.useCallback)((()=>{r(),e(rv.messagesDashboardSaveSuccess)}),[r,e]);return{isVisible:a,onCancel:(0,R.useCallback)((()=>{r()}),[r]),onError:n,onSuccess:o}}const jA=e=>{const{onSubmit:t,onCancel:i,onError:r,isVisible:a,onSuccess:n}=e,{locale:o,dashboardTitle:l,isKpiWidgetEnabled:s,isScheduleEmailsEnabled:d,isDashboardSaving:c,isDashboardLoaded:u,handleSaveAs:g,isInEditMode:m}=(e=>{var t;const{onSubmit:i,onSubmitSuccess:r,onSubmitError:a}=e,n=$f(zo),o=$f(Kc),l=$f(rl),s=$f(Eo),d=$f(sD),c=$f(yc),u=Jf({commandCreator:gi,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.COPY_SAVED",onError:e=>{null==a||a(e.payload.error)},onSuccess:e=>{null==r||r(e.payload.dashboard)},onBeforeRun:e=>{null==i||i(e.payload.title,e.payload.switchToCopy)}}),g=(0,R.useCallback)(((e,t=!1,i=!0)=>{u.run(e,t,i)}),[]);return{locale:n,dashboardTitle:o,isScheduleEmailsEnabled:l,isKpiWidgetEnabled:null!==(t=s.supportsKpiWidget)&&void 0!==t&&t,isDashboardLoaded:!0,isDashboardSaving:d,isInEditMode:c,handleSaveAs:g,saveAsStatus:u.status}})({onSubmit:t,onSubmitSuccess:n,onSubmitError:r});return a?R.createElement(UA,{locale:o,dashboardTitle:l,isKpiWidgetEnabled:s,isDashboardLoaded:u,isDashboardSaving:c,isScheduleEmailsEnabled:d,isInEditMode:m,onSubmit:g,onCancel:i}):null};var BA=i(57557),zA=i(91884);const WA="yyyy-MM-dd",VA=[{align:"bl tl"},{align:"tl bl"}],KA=5001,qA={WEEKLY:"weekly",DAILY:"daily",MONTHLY:"monthly",CUSTOM:"custom"},YA="day",ZA="month",$A="week",XA=[YA,$A,ZA],QA={DAY_OF_MONTH:"dayOfMonth",DAY_OF_WEEK:"dayOfWeek"},JA=e=>!h(e)&&"string"==typeof e.email,eP=e=>!h(e)&&"object"==typeof e.user;var tP=i(47960);function iP(e){return e.getDate()}function rP(e){return Ja(e,"eeee")}function aP(e,t){return Qh(e.formatDate(t,{weekday:"long"}))}function nP(e){return 0===(t=e.getDay())?7:t;var t}function oP(e){return Math.ceil(e.getDate()/7)}const lP=["none","yearly","monthly","weekly","daily"],sP=["year","month","week","day","hour","minute","second"];function dP(e,t){for(const i in t)t.hasOwnProperty(i)&&(e[sP.indexOf(i)]=t[i])}function cP(e){var t,i;const{repeatType:r,repeatFrequency:a,repeatPeriod:n,time:o}=e,l=[0,0,0,0,0,0,0],s=function(e,t){return e!==qA.CUSTOM?e:t.hasOwnProperty("day")?qA.DAILY:t.hasOwnProperty("week")?qA.WEEKLY:qA.MONTHLY}(r,a),d=lP.indexOf(s);if(s===qA.MONTHLY){const e=a.month;(null===(t=a.month)||void 0===t?void 0:t.type)===QA.DAY_OF_WEEK?dP(l,{day:e.dayOfWeek.day,week:e.dayOfWeek.week}):(null===(i=a.month)||void 0===i?void 0:i.type)===QA.DAY_OF_MONTH&&dP(l,{day:e.dayOfMonth})}else s===qA.WEEKLY?dP(l,{day:a.week.days.join(",")}):qA.DAILY;return l[d-1]=n,dP(l,o),[l.slice(0,d),l.slice(d,l.length)].map((e=>e.join(":"))).join("*")}function uP(e){e.repeatFrequency={day:!0}}function gP(e,t,i){let r;t===QA.DAY_OF_MONTH?r=iP(i):t===QA.DAY_OF_WEEK&&(r={day:nP(i),week:oP(i)}),e.repeatFrequency={month:{type:t,[t]:r}}}function mP(e,t){e.repeatFrequency={week:{days:[nP(t)]}}}function pP(e){const t=e.replace("*",":").split(":").map((e=>{if(-1!==e.indexOf(","))throw new Error("List items are not supported in recurrence string parsing");return parseInt(e)})),i=function(e){const t=e.findIndex(xn);if(-1===t)throw new Error("Invalid recurrence string");return t}(t),r=t[i];let a=qA.CUSTOM,n={};const o=1!==r;return 1===i&&(0===t[2]?(a=qA.CUSTOM,n={month:{type:QA.DAY_OF_MONTH,dayOfMonth:t[3]}}):(a=o?qA.CUSTOM:qA.MONTHLY,n={month:{type:QA.DAY_OF_WEEK,dayOfWeek:{day:t[3],week:t[2]}}})),2===i&&(a=o?qA.CUSTOM:qA.WEEKLY,n={week:{days:[t[3]]}}),3===i&&(a=o?qA.CUSTOM:qA.DAILY,n={day:!0}),{repeatType:a,repeatFrequency:n,repeatPeriod:r,time:{hour:t[4],minute:t[5],second:t[6]}}}const hP=e=>eP(e)?e.user.login:e.email,fP=e=>eP(e)?e.user.email:e.email,bP=e=>eP(e)?(0,n.userFullName)(e.user):e.email,vP=/[,;\s]/,DP=(e,t)=>e.email.split(t).map((e=>e.trim())).filter((e=>!h(e))).map((e=>({email:e}))),yP=-new Date(2011,0,1,0,0,0,0).getTimezoneOffset(),EP=-new Date(2011,5,1,0,0,0,0).getTimezoneOffset(),IP=[["Pacific/Midway","GMT-11:00 InternationalDateLineWest",-660,-660],["Pacific/Pago_Pago","GMT-11:00 Samoa",-660,-660],["Pacific/Honolulu","GMT-10:00 Hawaii",-600,-600],["America/Juneau","GMT-09:00 Alaska",-540,-480],["America/Los_Angeles","GMT-08:00 PacificTime(US&Canada)",-480,-420],["America/Tijuana","GMT-08:00 Tijuana",-480,-420],["America/Phoenix","GMT-07:00 Arizona",-420,-420],["America/Chihuahua","GMT-07:00 Chihuahua",-420,-360],["America/Mazatlan","GMT-07:00 Mazatlan",-420,-360],["America/Denver","GMT-07:00 MountainTime(US&Canada)",-420,-360],["America/Guatemala","GMT-06:00 CentralAmerica",-360,-360],["America/Chicago","GMT-06:00 CentralTime(US&Canada)",-360,-300],["America/Mexico_City","GMT-06:00 MexicoCity",-360,-300],["America/Monterrey","GMT-06:00 Monterrey",-360,-300],["America/Regina","GMT-06:00 Saskatchewan",-360,-360],["America/Bogota","GMT-05:00 Bogota",-300,-300],["America/New_York","GMT-05:00 EasternTime(US&Canada)",-300,-240],["America/Indiana/Indianapolis","GMT-05:00 Indiana(East)",-300,-240],["America/Lima","GMT-05:00 Lima",-300,-300],["America/Caracas","GMT-04:30 Caracas",-270,-270],["America/Halifax","GMT-04:00 AtlanticTime(Canada)",-240,-180],["America/Guyana","GMT-04:00 Georgetown",-240,-240],["America/La_Paz","GMT-04:00 LaPaz",-240,-240],["America/Santiago","GMT-04:00 Santiago",-180,-240],["America/St_Johns","GMT-03:30 Newfoundland",-210,-150],["America/Sao_Paulo","GMT-03:00 Brasilia",-120,-180],["America/Argentina/Buenos_Aires","GMT-03:00 BuenosAires",-180,-180],["America/Godthab","GMT-03:00 Greenland",-180,-120],["Atlantic/South_Georgia","GMT-02:00 Mid-Atlantic",-120,-120],["Atlantic/Azores","GMT-01:00 Azores",-60,0],["Atlantic/Cape_Verde","GMT-01:00 CapeVerdeIs.",-60,-60],["Africa/Casablanca","GMT+00:00 Casablanca",0,0],["Europe/Dublin","GMT+00:00 Dublin",0,60],["Europe/Lisbon","GMT+00:00 Lisbon",0,60],["Europe/London","GMT+00:00 London",0,60],["Africa/Monrovia","GMT+00:00 Monrovia",0,0],["Etc/UTC","GMT+00:00 UTC",0,0],["Europe/Amsterdam","GMT+01:00 Amsterdam",60,120],["Europe/Belgrade","GMT+01:00 Belgrade",60,120],["Europe/Berlin","GMT+01:00 Berlin",60,120],["Europe/Bratislava","GMT+01:00 Bratislava",60,120],["Europe/Brussels","GMT+01:00 Brussels",60,120],["Europe/Budapest","GMT+01:00 Budapest",60,120],["Europe/Copenhagen","GMT+01:00 Copenhagen",60,120],["Europe/Ljubljana","GMT+01:00 Ljubljana",60,120],["Europe/Madrid","GMT+01:00 Madrid",60,120],["Europe/Paris","GMT+01:00 Paris",60,120],["Europe/Prague","GMT+01:00 Prague",60,120],["Europe/Rome","GMT+01:00 Rome",60,120],["Europe/Sarajevo","GMT+01:00 Sarajevo",60,120],["Europe/Skopje","GMT+01:00 Skopje",60,120],["Europe/Stockholm","GMT+01:00 Stockholm",60,120],["Europe/Vienna","GMT+01:00 Vienna",60,120],["Europe/Warsaw","GMT+01:00 Warsaw",60,120],["Africa/Algiers","GMT+01:00 WestCentralAfrica",60,60],["Europe/Zagreb","GMT+01:00 Zagreb",60,120],["Europe/Athens","GMT+02:00 Athens",120,180],["Europe/Bucharest","GMT+02:00 Bucharest",120,180],["Africa/Cairo","GMT+02:00 Cairo",120,180],["Africa/Harare","GMT+02:00 Harare",120,120],["Europe/Helsinki","GMT+02:00 Helsinki",120,180],["Europe/Istanbul","GMT+02:00 Istanbul",120,180],["Asia/Jerusalem","GMT+02:00 Jerusalem",120,180],["Europe/Kiev","GMT+02:00 Kyiv",120,180],["Europe/Minsk","GMT+02:00 Minsk",120,180],["Africa/Johannesburg","GMT+02:00 Pretoria",120,120],["Europe/Riga","GMT+02:00 Riga",120,180],["Europe/Sofia","GMT+02:00 Sofia",120,180],["Europe/Tallinn","GMT+02:00 Tallinn",120,180],["Europe/Vilnius","GMT+02:00 Vilnius",120,180],["Asia/Baghdad","GMT+03:00 Baghdad",180,180],["Asia/Kuwait","GMT+03:00 Kuwait",180,180],["Europe/Moscow","GMT+03:00 Moscow",180,240],["Africa/Nairobi","GMT+03:00 Nairobi",180,180],["Asia/Riyadh","GMT+03:00 Riyadh",180,180],["Asia/Tehran","GMT+03:30 Tehran",210,270],["Asia/Baku","GMT+04:00 Baku",240,300],["Asia/Muscat","GMT+04:00 Muscat",240,240],["Asia/Tbilisi","GMT+04:00 Tbilisi",240,240],["Asia/Yerevan","GMT+04:00 Yerevan",240,300],["Asia/Kabul","GMT+04:30 Kabul",270,270],["Asia/Yekaterinburg","GMT+05:00 Ekaterinburg",300,360],["Asia/Karachi","GMT+05:00 Karachi",300,300],["Asia/Tashkent","GMT+05:00 Tashkent",300,300],["Asia/Kolkata","GMT+05:30 Kolkata",330,330],["Asia/Colombo","GMT+05:30 SriJayawardenepura",330,330],["Asia/Kathmandu","GMT+05:45 Kathmandu",345,345],["Asia/Almaty","GMT+06:00 Almaty",360,360],["Asia/Dhaka","GMT+06:00 Dhaka",360,360],["Asia/Novosibirsk","GMT+06:00 Novosibirsk",360,420],["Asia/Rangoon","GMT+06:30 Rangoon",390,390],["Asia/Bangkok","GMT+07:00 Bangkok",420,420],["Asia/Jakarta","GMT+07:00 Jakarta",420,420],["Asia/Krasnoyarsk","GMT+07:00 Krasnoyarsk",420,480],["Asia/Shanghai","GMT+08:00 Beijing",480,480],["Asia/Chongqing","GMT+08:00 Chongqing",480,480],["Asia/Hong_Kong","GMT+08:00 HongKong",480,480],["Asia/Irkutsk","GMT+08:00 Irkutsk",480,540],["Asia/Kuala_Lumpur","GMT+08:00 KualaLumpur",480,480],["Australia/Perth","GMT+08:00 Perth",480,480],["Asia/Singapore","GMT+08:00 Singapore",480,480],["Asia/Taipei","GMT+08:00 Taipei",480,480],["Asia/Ulaanbaatar","GMT+08:00 UlaanBataar",480,480],["Asia/Urumqi","GMT+08:00 Urumqi",480,480],["Asia/Seoul","GMT+09:00 Seoul",540,540],["Asia/Tokyo","GMT+09:00 Tokyo",540,540],["Asia/Yakutsk","GMT+09:00 Yakutsk",540,600],["Australia/Adelaide","GMT+09:30 Adelaide",630,570],["Australia/Darwin","GMT+09:30 Darwin",570,570],["Australia/Brisbane","GMT+10:00 Brisbane",600,600],["Pacific/Guam","GMT+10:00 Guam",600,600],["Australia/Hobart","GMT+10:00 Hobart",660,600],["Australia/Melbourne","GMT+10:00 Melbourne",660,600],["Pacific/Port_Moresby","GMT+10:00 PortMoresby",600,600],["Australia/Sydney","GMT+10:00 Sydney",660,600],["Asia/Vladivostok","GMT+10:00 Vladivostok",600,660],["Asia/Kamchatka","GMT+11:00 Kamchatka",660,720],["Asia/Magadan","GMT+11:00 Magadan",660,720],["Pacific/Noumea","GMT+11:00 NewCaledonia",660,660],["Pacific/Auckland","GMT+12:00 Auckland",780,720],["Pacific/Fiji","GMT+12:00 Fiji",780,720],["Pacific/Majuro","GMT+12:00 MarshallIs.",720,720],["Pacific/Tongatapu","GMT+13:00 Nuku'alofa",780,780]].map((e=>({identifier:e[0],title:e[1],januaryOffset:e[2],juneOffset:e[3]}))),CP=IP.find((e=>e.januaryOffset===yP&&e.juneOffset===EP)),SP=wP("Etc/UTC");function wP(e){return IP.find((t=>t.identifier===e))}const TP=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function AP(e){return TP.test(e)}const PP=()=>window.innerWidth<=640;class kP extends R.PureComponent{constructor(e){super(e),this.getTextareaClassNames=()=>{const{hasError:e,hasWarning:t}=this.props;return gy("gd-input-field",{"has-error":e,"has-warning":t})},this.onBlur=e=>{PP()&&this.setState({rows:1})},this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=e=>{PP()&&this.setState({rows:this.props.rows})},this.renderCollapseIndicator=()=>R.createElement("span",{className:"gd-input-component-indicator"},""),this.state={rows:PP()?1:e.rows}}render(){const{className:e,label:t,maxlength:i,placeholder:r,value:a}=this.props,{rows:n}=this.state,o=gy(`gd-input-component gd-textarea-component ${e}`,{"gd-textarea-component-collapsed":1===n});return R.createElement("div",{className:o},R.createElement("label",{className:"gd-label"},t),R.createElement("label",{className:"gd-input"},R.createElement("textarea",{className:this.getTextareaClassNames(),maxLength:i,placeholder:r,value:a,rows:n,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus}),1===n?this.renderCollapseIndicator():null))}}kP.defaultProps={className:"",hasError:!1,hasWarning:!1};const RP=e=>{const{onChange:t,repeatExecuteOn:i,startDate:r}=e,a=(0,vI.Z)(),n=(0,R.useMemo)((()=>[QA.DAY_OF_MONTH,QA.DAY_OF_WEEK].map((e=>{const t=(e=>{switch(e){case QA.DAY_OF_MONTH:return rv.scheduleDialogEmailRepeatsExecuteOn_dayOfMonth;case QA.DAY_OF_WEEK:return rv.scheduleDialogEmailRepeatsExecuteOn_dayOfWeek;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{date:iP(r),day:aP(a,r),week:oP(r)})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,p.kG)(o,"Inconsistent state in RepeatExecuteOnSelect"),R.createElement(pb.Dropdown,{alignPoints:VA,className:"gd-schedule-email-dialog-repeat-execute-on s-gd-schedule-email-dialog-repeat-execute-on",renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(pb.DropdownList,{width:154,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(pb.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),renderButton:({toggleDropdown:e})=>R.createElement(pb.DropdownButton,{value:o.title,onClick:e}),overlayPositionType:"sameAsTarget",overlayZIndex:KA})},xP=e=>{const{onChange:t,repeatFrequency:i,repeatPeriod:r}=e,a=(0,vI.Z)(),n=(0,R.useMemo)((()=>XA.map((e=>{const t=(e=>{switch(e){case YA:return rv.scheduleDialogEmailRepeatsFrequencies_day;case ZA:return rv.scheduleDialogEmailRepeatsFrequencies_month;case $A:return rv.scheduleDialogEmailRepeatsFrequencies_week;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{n:r})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,p.kG)(o,"Inconsistent state in RepeatFrequencySelect"),R.createElement(pb.Dropdown,{alignPoints:VA,className:"gd-schedule-email-dialog-repeat-frequency s-gd-schedule-email-dialog-repeat-frequency",renderButton:({toggleDropdown:e})=>R.createElement(pb.DropdownButton,{value:o.title,onClick:e}),renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(pb.DropdownList,{width:100,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(pb.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),overlayPositionType:"sameAsTarget",overlayZIndex:KA})};class LP extends R.PureComponent{constructor(e){super(e),this.isInvalidValue=(e,t)=>""===e||isNaN(t)||t<=0,this.triggerChangeEvent=e=>{this.state.repeatPeriod!==e&&this.setState({repeatPeriod:e},(()=>this.props.onChange(e)))},this.onBlur=e=>{const t=e.target.value.trim(),i=parseInt(t,10);this.isInvalidValue(t,i)?this.setState({repeatPeriod:this.props.repeatPeriod||1}):this.triggerChangeEvent(i)},this.onChange=e=>{const t=e.target.value.trim(),i=parseInt(t,10);this.isInvalidValue(t,i)?this.setState({repeatPeriod:""}):this.triggerChangeEvent(i)},this.state={repeatPeriod:e.repeatPeriod||1}}render(){return R.createElement("div",{className:"gd-schedule-email-dialog-repeat-period"},R.createElement("input",{className:"gd-input-field",onBlur:this.onBlur,onChange:this.onChange,value:this.state.repeatPeriod}))}}const OP=e=>{const{onChange:t,repeatType:i,startDate:r}=e,a=(0,vI.Z)(),n=(0,R.useMemo)((()=>[qA.DAILY,qA.WEEKLY,qA.MONTHLY,qA.CUSTOM].map((e=>{const t=(e=>{switch(e){case qA.DAILY:return rv.scheduleDialogEmailRepeats_daily;case qA.WEEKLY:return rv.scheduleDialogEmailRepeats_weekly;case qA.MONTHLY:return rv.scheduleDialogEmailRepeats_monthly;case qA.CUSTOM:return rv.scheduleDialogEmailRepeats_custom;default:throw new Error("Invariant: Unexpected localization key.")}})(e);return{id:e,title:a.formatMessage(t,{day:aP(a,r),week:oP(r)})}}))),[a,r]),o=n.find((e=>e.id===i));return(0,p.kG)(o,"Inconsistent state in RepeatTypeSelect"),R.createElement(pb.Dropdown,{alignPoints:VA,className:"gd-schedule-email-dialog-repeat-type s-gd-schedule-email-dialog-repeat-type",renderButton:({toggleDropdown:e})=>R.createElement(pb.DropdownButton,{value:o.title,onClick:e}),renderBody:({closeDropdown:e,isMobile:i})=>R.createElement(pb.DropdownList,{width:199,items:n,isMobile:i,renderItem:({item:i})=>R.createElement(pb.SingleSelectListItem,{title:i.title,onClick:()=>{t(i.id),e()},isSelected:o.id===i.id})}),overlayPositionType:"sameAsTarget",overlayZIndex:KA})};class FP extends R.PureComponent{constructor(e){super(e),this.onChange=()=>this.props.onChange(this.state),this.onRepeatTypeChange=e=>{this.state.repeatType!==e&&this.setState({repeatExecuteOn:QA.DAY_OF_MONTH,repeatFrequency:YA,repeatPeriod:1,repeatType:e},this.onChange)},this.onRepeatPeriodChange=e=>{this.state.repeatPeriod!==e&&this.setState({repeatPeriod:e},this.onChange)},this.onRepeatFrequencyChange=e=>{this.state.repeatFrequency!==e&&this.setState({repeatFrequency:e},this.onChange)},this.renderRepeatExecuteOn=()=>{const{startDate:e}=this.props,{repeatExecuteOn:t,repeatFrequency:i}=this.state;return i!==ZA?null:R.createElement(RP,{repeatExecuteOn:t,startDate:e,onChange:this.onRepeatExecuteOnChange})},this.onRepeatExecuteOnChange=e=>{this.state.repeatExecuteOn!==e&&this.setState({repeatExecuteOn:e},this.onChange)};const{repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}=e;this.state={repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}}render(){const{label:e,startDate:t}=this.props,{repeatType:i}=this.state;return R.createElement("div",{className:"gd-input-component gd-schedule-email-dialog-repeat"},R.createElement("label",{className:"gd-label"},e),R.createElement("div",null,R.createElement(OP,{repeatType:i,startDate:t,onChange:this.onRepeatTypeChange}),this.renderCustomRepeat()))}renderCustomRepeat(){const{intl:e}=this.props,{repeatFrequency:t,repeatPeriod:i,repeatType:r}=this.state;return r!==qA.CUSTOM?null:R.createElement("div",{className:"gd-schedule-email-dialog-repeat-custom"},R.createElement("span",{className:"gd-schedule-email-dialog-repeat-every"},e.formatMessage({id:"dialogs.schedule.email.repeats.every"})),R.createElement(LP,{repeatPeriod:i,onChange:this.onRepeatPeriodChange}),R.createElement(xP,{repeatFrequency:t,repeatPeriod:i,onChange:this.onRepeatFrequencyChange}),R.createElement("div",{className:"break-the-row"}),this.renderRepeatExecuteOn())}}const MP=(0,NA.ZP)(FP),NP=e=>{const{className:t="",label:i,maxlength:r,placeholder:a,value:n,onChange:o}=e,l=`gd-input-component ${t}`;return R.createElement("div",{className:l},R.createElement("label",{className:"gd-label"},i),R.createElement(pb.Input,{hasError:!1,maxlength:r,placeholder:a,value:n,onChange:o}))};class _P extends R.PureComponent{constructor(){super(...arguments),this.timeChange=e=>{this.props.onTimeChange({hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()})}}render(){const{date:e,dateFormat:t,label:i,locale:r,timezone:a,onDateChange:n,weekStart:o}=this.props;return R.createElement("div",{className:"gd-input-component gd-schedule-email-dialog-datetime s-gd-schedule-email-dialog-datetime"},R.createElement("label",{className:"gd-label"},i),R.createElement("div",null,R.createElement(pb.Datepicker,{date:e,dateFormat:t,locale:r,placeholder:t,resetOnInvalidValue:!0,onChange:n,weekStart:o}),R.createElement(pb.Timepicker,{className:"gd-schedule-email-dialog-datetime-time",maxVisibleItemsCount:5,skipNormalizeTime:!0,time:e,onChange:this.timeChange,overlayPositionType:"sameAsTarget",overlayZIndex:KA}),R.createElement("span",{className:"gd-schedule-email-dialog-datetime-timezone s-gd-schedule-email-dialog-datetime-timezone"},a)))}}const HP=[{align:"bc tc",offset:{x:0,y:0}},{align:"tc bc",offset:{x:0,y:0}}],UP=e=>{const{title:t,applyDisabled:i,onApply:r,onCancel:a,iconComponent:n,contentComponent:o,buttonClassName:l,bodyClassName:s,buttonDisabled:d}=e,c=(0,vI.Z)();return R.createElement(pb.Dropdown,{overlayPositionType:"sameAsTarget",alignPoints:VA,overlayZIndex:KA,ignoreClicksOnByClass:[".schedule-dropdown-ignore-click"],renderButton:({toggleDropdown:e})=>R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("a",{className:gy("gd-schedule-dropdown-button",l,{"gd-schedule-dropdown-button-disabled":!!d}),target:"_blank",rel:"noopener noreferrer",onClick:()=>{!d&&e()}},n?R.createElement("div",{className:"gd-schedule-dropdown-button-icon"},n):null,t),d?R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:HP},R.createElement(PE.Z,{id:"dialogs.schedule.email.attachment.select.disabled.message"})):null),renderBody:({closeDropdown:e})=>(e=>R.createElement("div",{className:"gd-dropdown overlay"},R.createElement("div",{className:gy("gd-schedule-dropdown-body",s)},R.createElement("div",{className:"gd-schedule-dropdown-header"},R.createElement("span",null,t)),R.createElement("div",{className:"gd-schedule-dropdown-content"},o),(e=>{const t=c.formatMessage({id:"gs.list.cancel"}),n=c.formatMessage({id:"gs.list.apply"});return R.createElement("div",{className:"gd-schedule-dropdown-footer"},R.createElement(pb.Button,{className:"gd-button-secondary gd-button-small",value:t,onClick:()=>{null==a||a(),e()}}),R.createElement(pb.Button,{className:"gd-button-action gd-button-small",disabled:i,value:n,onClick:()=>{null==r||r(),e()}}))})(e))))(e)})},GP=e=>{var t,i;const{dashboardTitle:r,insightWidgets:a=[],onApply:o}=e,l=(0,vI.Z)(),s=(0,kE.Fg)(),d=null===(i=null===(t=null==s?void 0:s.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c5,c={color:d,height:19,width:26},[u,g]=(0,R.useState)(e.dashboardSelected),[m,p]=(0,R.useState)(e.widgetsSelected),h=(0,R.useCallback)((e=>{const t=(0,n.objRefToString)(e);p(Object.assign(Object.assign({},m),{[t]:!m[t]}))}),[m]),f=(0,R.useCallback)((()=>{o(u,m)}),[o,u,m]),b=(0,R.useCallback)((()=>{g(e.dashboardSelected),p(e.widgetsSelected)}),[e.dashboardSelected,e.widgetsSelected]),v=(u||Object.values(m).some(xn))&&(u!=e.dashboardSelected||JSON.stringify(m)!==JSON.stringify(e.widgetsSelected));return R.createElement(UP,{title:l.formatMessage({id:"dialogs.schedule.email.attachment.select"}),applyDisabled:!v,onApply:f,onCancel:b,buttonClassName:"s-schedule-select-attachments-button",bodyClassName:"s-schedule-select-attachments-body",buttonDisabled:0===a.length,iconComponent:R.createElement(pb.Icon.AttachmentClip,{color:d,width:18,height:18}),contentComponent:R.createElement("div",{className:"gd-attachments-selection-dropdown"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"dialogs.schedule.email.attachment.select.dashboard.header"})),R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label s-schedule-dashboard-attachment-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:u,onChange:e=>g(e.target.checked)}),R.createElement(pb.Icon.Dashboard,Object.assign({},c)),R.createElement("span",{title:r,className:"input-label-text"},r))),R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"dialogs.schedule.email.attachment.select.widgets.header"})),a.map((e=>R.createElement("div",{key:(0,n.objRefToString)(e)},R.createElement("label",{className:"input-checkbox-label s-schedule-widget-attachment-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:m[(0,n.objRefToString)(e)],onChange:()=>h(e)}),R.createElement(pb.InsightIcon,{visualizationUrl:e.visualizationUrl,iconProps:c}),R.createElement("span",{title:e.title,className:"input-label-text"},e.title))))))})},jP=e=>{var t,i;const{onApply:r}=e,a=(0,vI.Z)(),n=(0,kE.Fg)(),o=["csv","xlsx"],[l,s]=(0,R.useState)(e.format),[d,c]=(0,R.useState)(e.mergeHeaders),[u,g]=(0,R.useState)(e.includeFilters),m=l!==e.format||d!==e.mergeHeaders||u!==e.includeFilters,p=(0,R.useCallback)((()=>r({format:l,mergeHeaders:d,includeFilters:u})),[l,d,u,r]),h=(0,R.useCallback)((()=>{s(e.format),c(e.mergeHeaders),g(e.includeFilters)}),[e.format,e.mergeHeaders,e.includeFilters]);return R.createElement(UP,{title:a.formatMessage({id:"dialogs.schedule.email.format.options"}),applyDisabled:!m,onApply:p,onCancel:h,buttonClassName:"s-schedule-format-options-button",bodyClassName:"s-schedule-format-options-body",iconComponent:R.createElement(pb.Icon.SettingsGear,{color:null===(i=null===(t=null==n?void 0:n.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c6,width:18,height:18}),contentComponent:R.createElement("div",{className:"gd-format-options-dropdown"},R.createElement("div",{className:"gd-format-options-dropdown-selector"},R.createElement("span",{className:"input-label-text"},R.createElement(PE.Z,{id:"dialogs.schedule.email.insight.format"})),R.createElement("div",null,R.createElement(pb.Dropdown,{overlayPositionType:"sameAsTarget",className:"s-format-options-dropdown",alignPoints:VA,overlayZIndex:KA,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(pb.DropdownButton,{className:"s-format-options-format-dropdown-button",value:l.toUpperCase(),isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{width:70,items:o,renderItem:({item:t})=>R.createElement(pb.SingleSelectListItem,{className:"s-format-options-dropdown-content schedule-dropdown-ignore-click",title:t.toUpperCase(),onClick:()=>{s(t),e()}})})}))),"xlsx"===l&&R.createElement("div",{className:"gd-format-options-dropdown-xlsx"},R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-attachments-merge-headers",checked:d,onChange:e=>c(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(PE.Z,{id:"dialogs.schedule.email.attribute.merged"})))),R.createElement("div",null,R.createElement("label",{className:"input-checkbox-label s-attachments-include-filters"},R.createElement("input",{type:"checkbox",className:"input-checkbox",checked:u,onChange:e=>g(e.target.checked)}),R.createElement("span",{className:"input-label-text"},R.createElement(PE.Z,{id:"dialogs.schedule.email.show.filters"}))))))})},BP=({format:e,children:t})=>R.createElement("div",{"aria-label":"dashboard-attachment",className:"gd-dashboard-attachment s-gd-dashboard-attachment"},R.createElement("span",{className:"gd-dashboard-attachment-format"},e),R.createElement("span",{className:"gd-dashboard-attachment-name"},t)),zP=e=>{const{dashboardTitle:t,dashboardSelected:i,widgetsSelected:r,insightWidgets:a=[],configuration:o,canExportTabular:l,onAttachmentsSelectionChanged:s,onAttachmentsConfigurationChanged:d}=e,c=Object.values(r).some(xn),u=a.filter((e=>r[(0,n.objRefToString)(e)])).map((e=>e.title));return R.createElement("div",{className:"gd-input-component gd-schedule-email-attachments s-schedule-email-attachments"},R.createElement("label",{className:"gd-label"},R.createElement(PE.Z,{id:"dialogs.schedule.email.attachments.label"})),R.createElement("div",{className:"gd-dashboard-attachment-list"},R.createElement("div",{className:"gd-dashboard-attachment-list-content"},i?R.createElement(BP,{format:"pdf"},R.createElement("span",{className:"shortened-name"},t)):null,0!==u.length?R.createElement(BP,{format:o.format},R.createElement("span",{className:"shortened-name",title:u.join(",\n")},u.join(", ")),u.length>1?R.createElement("span",null,`(${u.length})`):null):null),l?R.createElement("div",{className:"gd-schedule-email-dialog-attachments"},R.createElement(GP,{dashboardTitle:t,dashboardSelected:i,insightWidgets:a,widgetsSelected:r,onApply:s}),c?R.createElement(jP,{format:o.format,mergeHeaders:o.mergeHeaders,includeFilters:o.includeFilters,onApply:d}):null):null))};var WP=i(77082),VP=i(36478),KP=i(65342),qP=i(1413),YP=i(42982),ZP=i(45987),$P=i(18989),XP=i(79481),QP=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],JP=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),r=String(t.getOptionValue(e)).toLowerCase(),a=String(t.getOptionLabel(e)).toLowerCase();return r===i||a===i},ek={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,i,r){return!(!e||t.some((function(t){return JP(e,t,r)}))||i.some((function(t){return JP(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};i(44556),i(73469);var tk=(0,WP.forwardRef)((function(e,t){var i,r,a,n,o,l,s,d,c,u,g,m,p,h,f,b,v,D,y,E,I,C,S,w,T,A,P,k,R=(i=(0,KP.u)(e),r=i.allowCreateWhileLoading,a=void 0!==r&&r,n=i.createOptionPosition,o=void 0===n?"last":n,l=i.formatCreateLabel,s=void 0===l?ek.formatCreateLabel:l,d=i.isValidNewOption,c=void 0===d?ek.isValidNewOption:d,u=i.getNewOptionData,g=void 0===u?ek.getNewOptionData:u,m=i.onCreateOption,p=i.options,h=void 0===p?[]:p,f=i.onChange,b=(0,ZP.Z)(i,QP),v=b.getOptionValue,D=void 0===v?VP.g:v,y=b.getOptionLabel,E=void 0===y?VP.b:y,I=b.inputValue,C=b.isLoading,S=b.isMulti,w=b.value,T=b.name,A=(0,$P.useMemo)((function(){return c(I,(0,XP.H)(w),h,{getOptionValue:D,getOptionLabel:E})?g(I,s(I)):void 0}),[s,g,E,D,I,c,h,w]),P=(0,$P.useMemo)((function(){return!a&&C||!A?h:"first"===o?[A].concat((0,YP.Z)(h)):[].concat((0,YP.Z)(h),[A])}),[a,o,C,A,h]),k=(0,$P.useCallback)((function(e,t){if("select-option"!==t.action)return f(e,t);var i=Array.isArray(e)?e:[e];if(i[i.length-1]!==A)f(e,t);else if(m)m(I);else{var r=g(I,I),a={action:"create-option",name:T,option:r};f((0,XP.D)(S,[].concat((0,YP.Z)((0,XP.H)(w)),[r]),r),a)}}),[g,I,S,T,A,m,f,w]),(0,qP.Z)((0,qP.Z)({},b),{},{options:P,onChange:k}));return WP.createElement(VP.S,(0,G.Z)({ref:t},R))}));const{Menu:ik,Input:rk}=XP.c,ak=[{align:"cr cl"}];class nk extends R.PureComponent{constructor(){super(...arguments),this.recipientRef=R.createRef(),this.renderEmptyContainer=()=>null,this.renderNoOptionsContainer=e=>{const{selectProps:{inputValue:t}}=e;return t?R.createElement(pb.Message,{className:"gd-recipient-existed s-gd-recipient-existed",type:"warning",contrast:!0},R.createElement(PE.Z,{id:"options.menu.schedule.email.recipient.warning.existed"})):this.renderEmptyContainer()},this.renderMenuOptions=e=>{const{isLoading:t,author:i}=this.props,{options:r,getValue:a,selectProps:{inputValue:n}}=e,o=a()||[],l=o.length,s=r.length&&r.every((e=>eP(e)&&Pa(e,i)||this.isRecipientAdded(o,fP(e))));return t?this.renderLoadingIcon(e):!n&&(l>=60||s)?this.renderEmptyContainer():this.renderMenuOptionsContainer(e)},this.renderMenuOptionsContainer=e=>R.createElement(ik,Object.assign({className:"s-gd-recipients-menu-container"},e),e.children),this.renderLoadingIcon=e=>R.createElement(ik,Object.assign({className:"s-gd-recipients-menu-container"},e),R.createElement(pb.LoadingMask,{height:50})),this.renderOwnerValueContainer=(e,t)=>{const{isMulti:i}=this.props,r=i?"multiple-value":"single-value",a=this.currentUserIsAuthor()?e:t;return R.createElement("div",{style:this.getStyle(),className:`gd-recipient-value-item s-gd-recipient-value-item ${r} gd-owner-user`},R.createElement("div",{className:"gd-recipient-label"},a))},this.renderMultiValueItemContainer=(e,t)=>R.createElement("div",{className:"gd-recipient-value-item s-gd-recipient-value-item multiple-value"},R.createElement("div",{style:this.getStyle(),className:"gd-recipient-label"},e),R.createElement("div",{"aria-label":"remove-icon",className:"s-gd-recipient-remove"},t)),this.renderErrorValueContainer=(e,t,i)=>R.createElement("div",{className:"gd-recipient-value-item s-gd-recipient-value-item multiple-value not-valid"},R.createElement(pb.BubbleHoverTrigger,{className:"gd-recipient-not-valid-bubble",showDelay:0,hideDelay:0},R.createElement("div",{className:"recipient-item-not-valid"},R.createElement("div",{style:this.getStyle(),className:"gd-recipient-label"},e),R.createElement("div",{className:"s-gd-recipient-remove"},t)),R.createElement(pb.Bubble,{className:"bubble-negative s-gd-recipient-not-valid-email",alignPoints:ak},R.createElement(PE.Z,{id:i})))),this.renderSingleValueContainer=e=>{const{data:t}=e,i=bP(t),r=fP(t);return this.renderOwnerValueContainer(i,r)},this.renderMultiValueContainer=e=>{const{data:t,children:i}=e,r=i[1];if(eP(t)&&Pa(t,this.props.author)){const e=bP(t),i=fP(t);return this.renderOwnerValueContainer(e,i)}const a=fP(t);return AP(a)?this.currentUserIsAuthor()||!JA(t)||this.isOriginalExternalRecipient(t)?this.renderMultiValueItemContainer(a,r):this.renderErrorValueContainer(a,r,rv.scheduleEmailOptionRecepientExternalNotAllowed.id):this.renderErrorValueContainer(a,r,rv.scheduleEmailOptionRecepientInvalid.id)},this.renderOptionLabel=e=>{const t=fP(e),i=JA(e);return i&&this.props.options.some((e=>fP(e)===t))?null:AP(t)&&i?this.currentUserIsAuthor()?R.createElement("div",{className:"s-gd-recipient-option-item s-recipient-not-in-workspace-warning"},R.createElement(pb.Message,{type:"warning",contrast:!0},R.createElement(PE.Z,{id:"options.menu.schedule.email.recipient.warning.belong.workspace"}))):R.createElement("div",{className:"s-gd-recipient-option-item s-external-recipient-not-allowed"},R.createElement(pb.Message,{type:"error",contrast:!0},R.createElement(PE.Z,{id:"options.menu.schedule.email.recipient.external.not.allowed"}))):R.createElement("div",{className:"gd-recipient-option-item s-gd-recipient-option-item"},R.createElement("span",{className:"gd-recipient-option-label-item s-gd-recipient-option-label-item"},t),this.renderRecipientValue(e))},this.getNewOptionData=e=>({email:e}),this.renderRecipientValue=e=>{const t=JA(e),i=fP(e);return!t&&AP(i)?R.createElement("span",{className:"gd-recipient-option-value-item s-gd-recipient-option-value-item"},bP(e)):this.renderEmptyContainer()},this.renderInputContainer=e=>{const{isMulti:t}=this.props;return t?R.createElement("div",{className:"gd-recipient-input s-gd-recipient-input"},R.createElement(rk,Object.assign({},e))):this.renderEmptyContainer()},this.handleOnChange=(e,t)=>{var i,r,a,n,o,l,s,d;const c=(e=>{const t=[];return e.filter((e=>{const i=hP(e);return!t.includes(i)&&(t.push(i),!0)}))})(Oi(e,(e=>((e,t)=>eP(e)?[e]:DP(e,t))(e,vP)))),{value:u,allowEmptySelection:g}=this.props,{action:m}=t;u.length>=60&&("create-option"===m||"select-option"===m)?null===(r=(i=this.props).onChange)||void 0===r||r.call(i,u):null!==c?null===(d=(s=this.props).onChange)||void 0===d||d.call(s,c):g?null===(n=(a=this.props).onChange)||void 0===n||n.call(a,[]):null===(l=(o=this.props).onChange)||void 0===l||l.call(o,[u[0]])},this.loadUserListItems=e=>{const{options:t,value:i,canListUsersInProject:r,onLoad:a}=this.props,n=this.getMatchedRecipientEmails(t,e).length,o=this.isRecipientAdded(i,e);!r||o||n>0||(this.setState({isLoading:!0}),null==a||a({search:e}))},this.onMenuOpen=()=>{const{onLoad:e,canListUsersInProject:t,options:i}=this.props;!i.length&&t&&(null==e||e())},this.onSearchCore=e=>{this.loadUserListItems(e)},this.onSearch=FS(this.onSearchCore,500),this.isRecipientAdded=(e,t)=>e.some((e=>Pa(hP(e),t)))}componentDidMount(){const{current:e}=this.recipientRef;if(!e)return;const t=e.querySelector(".gd-owner-user"),i=this.getStyle();t&&i&&t.setAttribute("style",`max-width: ${i.maxWidth}px`)}render(){const{isMulti:e,options:t,value:i}=this.props,r=Object.assign(Object.assign({},XP.c),{IndicatorsContainer:this.renderEmptyContainer,Input:this.renderInputContainer,MultiValueContainer:this.renderMultiValueContainer,Menu:this.renderMenuOptions,Placeholder:this.renderEmptyContainer,SingleValue:this.renderSingleValueContainer,NoOptionsMessage:this.renderNoOptionsContainer});return R.createElement("div",{className:"gd-input-component gd-recipients-field s-gd-schedule-email-dialog-recipients"},R.createElement("label",{className:"gd-label"},R.createElement(PE.Z,{id:"dialogs.schedule.email.to.label"})),R.createElement("div",{ref:this.recipientRef,className:"gd-input s-gd-recipients-value"},R.createElement(tk,{className:"gd-recipients-container",classNamePrefix:"gd-recipients",components:r,getNewOptionData:this.getNewOptionData,formatOptionLabel:this.renderOptionLabel,isClearable:!1,isDisabled:!e,isMulti:e,onChange:this.handleOnChange,onInputChange:this.onSearch,onMenuOpen:this.onMenuOpen,options:t,value:i,getOptionValue:hP,getOptionLabel:fP})))}getStyle(){const{current:e}=this.recipientRef,{width:t}=!h(e)&&e.getBoundingClientRect()||{width:void 0};return{maxWidth:t?t-16-21:"100%"}}currentUserIsAuthor(){const{currentUser:e,author:t}=this.props;return eP(t)&&(0,n.areObjRefsEqual)(t.user.ref,e.ref)}isOriginalExternalRecipient(e){return this.props.originalValue.some((t=>JA(t)&&t.email===e.email))}getMatchedRecipientEmails(e,t){return t?e.filter((e=>hr(fP(e),t))):[]}}const ok=e=>{const{backend:t,workspace:i,author:r,currentUser:a,value:n,originalValue:o,onChange:l,onError:s,canListUsersInProject:d,enableKPIDashboardScheduleRecipients:c,allowEmptySelection:u}=e,[g,m]=(0,R.useState)(),{result:p,status:h}=function({search:e,backend:t,workspace:i,onCancel:r,onError:a,onLoading:n,onPending:o,onSuccess:l}){const s=(0,$.useBackendStrict)(t),d=(0,$.useWorkspaceStrict)(i),c=$f(up)?()=>{let t=s.workspace(d).users();return e&&(t=t.withOptions({search:`%${e}`})),t.queryAll()}:()=>Promise.resolve([]);return(0,$.useCancelablePromise)({promise:c,onCancel:r,onError:a,onLoading:n,onPending:o,onSuccess:l},[s,d,e])}({backend:t,workspace:i,search:g,onError:s}),f=(0,R.useMemo)((()=>{var e;return Ow(null!==(e=null==p?void 0:p.map((e=>({user:e}))))&&void 0!==e?e:[],"user.email")}),[p]);return R.createElement(nk,{canListUsersInProject:d,isMulti:c,options:f,value:n,originalValue:o,onChange:l,author:r,currentUser:a,onLoad:e=>{m(null==e?void 0:e.search)},isLoading:"loading"===h||"pending"===h,allowEmptySelection:u})},lk=e=>{var t,i;const{className:r="",fileName:a,label:n}=e,o=(0,vI.Z)(),l=(0,kE.Fg)(),s=`gd-input-component gd-attachment-component ${r}`,d=PP()?"PDF":a,c=o.formatMessage({id:"dialogs.schedule.email.attachment.filter"});return R.createElement("div",{className:s},R.createElement("label",{className:"gd-label"},n),R.createElement("span",{className:"gd-icon-pdf"},R.createElement(pb.Icon.Pdf,{width:11,height:14,color:null===(i=null===(t=null==l?void 0:l.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c8})),R.createElement("span",{className:"s-attachment-name"},`${d} ${c}`))},sk=$s((e=>({user:e})));class dk extends R.PureComponent{constructor(e){super(e),this.onAlign=e=>{e.top<0&&this.setState({alignment:"tc tc"})},this.renderAttachment=()=>{const{intl:e,dashboardTitle:t,dashboardInsightWidgets:i,enableWidgetExportScheduling:r,canExportTabular:a}=this.props,{dashboardSelected:n,widgetsSelected:o,configuration:l}=this.state.attachments,s=`${this.getDefaultAttachment()}.pdf`;return r?R.createElement(zP,{dashboardTitle:t,insightWidgets:i,dashboardSelected:n,widgetsSelected:o,configuration:l,canExportTabular:a,onAttachmentsSelectionChanged:this.onAttachmentsChange,onAttachmentsConfigurationChanged:this.onAttachmentsConfigurationChange}):R.createElement(lk,{className:"s-gd-schedule-email-dialog-attachment",label:e.formatMessage({id:"dialogs.schedule.email.attachment.label"}),fileName:s})},this.renderDateTime=()=>{const{dateFormat:e,intl:t,locale:i,weekStart:r}=this.props,{repeat:{time:a},startDate:n}=this.state,o=new Date(n.getFullYear(),n.getMonth()+1-1,iP(n),a.hour,a.minute);return R.createElement(_P,{date:o,dateFormat:e,label:t.formatMessage({id:"dialogs.schedule.email.time.label"}),locale:i,timezone:this.state.userTimezone.title,onDateChange:this.onDateChange,onTimeChange:this.onTimeChange,weekStart:r})},this.renderMessage=()=>{const{intl:e}=this.props,t=this.getDefaultEmailBody();return R.createElement(kP,{className:"s-gd-schedule-email-dialog-message",label:e.formatMessage({id:"dialogs.schedule.email.message.label"}),maxlength:200,placeholder:t,rows:4,onChange:this.onMessageChange,value:this.state.emailBody})},this.renderFiltersMessage=()=>{const{enableWidgetExportScheduling:e,hasDefaultFilters:t,editSchedule:i}=this.props;return i?R.createElement(pb.Message,{className:"gd-schedule-email-dialog-filters-message ",type:"progress"},R.createElement(PE.Z,{id:"dialogs.schedule.email.filters.not.saved"})):e&&!t?R.createElement(pb.Message,{className:"gd-schedule-email-dialog-filters-message ",type:"progress"},R.createElement(PE.Z,{id:"dialogs.schedule.email.filters"})):void 0},this.renderRecipients=()=>{var e,t;const{selectedRecipients:i}=this.state,{backend:r,workspace:a,canListUsersInProject:n,enableKPIDashboardScheduleRecipients:o,currentUser:l,editSchedule:s}=this.props,d=null===(e=null==s?void 0:s.unsubscribed)||void 0===e?void 0:e.some((e=>{var t;return e===(null===(t=s.createdBy)||void 0===t?void 0:t.email)}));return R.createElement(ok,{author:sk((null==s?void 0:s.createdBy)?null==s?void 0:s.createdBy:l),currentUser:l,canListUsersInProject:n,enableKPIDashboardScheduleRecipients:o,value:i,originalValue:(null===(t=this.originalEditState)||void 0===t?void 0:t.selectedRecipients)||[],onChange:this.onRecipientsChange,onError:this.props.onError,backend:r,workspace:a,allowEmptySelection:d})},this.renderUnsubscribedRecipients=()=>{var e;const{intl:t,editSchedule:i}=this.props,r=void 0===(null===(e=null==i?void 0:i.unsubscribed)||void 0===e?void 0:e.length)?0:i.unsubscribed.length;return 0!==r&&R.createElement("div",{className:"gd-input-component"},R.createElement("span",{className:"gd-schedule-email-dialog-unsubscribed-recipients"},t.formatMessage({id:"dialogs.schedule.email.unsubscribed.recipients"},{n:r})))},this.renderRepeats=()=>{const{intl:e}=this.props,{startDate:t,repeat:i}=this.state;let r=YA,a=QA.DAY_OF_MONTH;return i.repeatFrequency.week?r=$A:i.repeatFrequency.month&&(r=ZA,a=i.repeatFrequency.month.type),R.createElement(MP,{label:e.formatMessage({id:"dialogs.schedule.email.repeats.label"}),repeatExecuteOn:a,repeatFrequency:r,repeatPeriod:i.repeatPeriod,repeatType:i.repeatType,startDate:t,onChange:this.onRepeatsChange})},this.renderSubject=()=>{const{intl:e}=this.props;return R.createElement(NP,{className:"s-gd-schedule-email-dialog-subject",label:e.formatMessage({id:"dialogs.schedule.email.subject.label"}),maxlength:200,placeholder:this.getDefaultSubject(),value:this.state.emailSubject,onChange:this.onSubjectChange})},this.onScheduleDialogSubmit=()=>{var e;const{onSubmit:t,onSave:i,editSchedule:r}=this.props;if(r){if(i){const t=null===(e=null==r?void 0:r.attachments[0])||void 0===e?void 0:e.filterContext;i(this.getScheduleEmailData(),t)}}else t&&t(this.getScheduleEmailData())},this.onDateChange=e=>{const{repeatFrequency:t}=this.state.repeat,i=y(this.state.repeat);t.month?gP(i,t.month.type,e):t.week?mP(i,e):uP(i),this.setState({startDate:e,repeat:i})},this.onTimeChange=e=>{this.setState((t=>({repeat:Object.assign(Object.assign({},t.repeat),{time:e})})))},this.onRecipientsChange=e=>{const{editSchedule:t,currentUser:i}=this.props,r=e.map(fP).every(AP),a=e.filter(JA).map((e=>e.email)),o=!!t&&im(a,t.bcc||[]).length>0,l=sk((null==t?void 0:t.createdBy)?null==t?void 0:t.createdBy:i),s=eP(l)&&(0,n.areObjRefsEqual)(l.user.ref,i.ref);this.setState({selectedRecipients:e,isValidScheduleEmailData:r&&(s||!o)})},this.onMessageChange=e=>{this.setState({emailBody:e})},this.onRepeatsChange=e=>{const{repeatExecuteOn:t,repeatFrequency:i,repeatPeriod:r,repeatType:a}=e,{startDate:n}=this.state,o=y(this.state.repeat);o.repeatType=a,o.repeatPeriod=r,a===qA.CUSTOM?i===ZA?gP(o,t,n):i===$A?mP(o,n):uP(o):a===qA.MONTHLY?gP(o,QA.DAY_OF_WEEK,n):a===qA.WEEKLY?mP(o,n):uP(o),this.setState({repeat:o})},this.onSubjectChange=e=>{this.setState({emailSubject:e})},this.onAttachmentsChange=(e,t)=>{this.setState({attachments:Object.assign(Object.assign({},this.state.attachments),{dashboardSelected:e,widgetsSelected:t})})},this.onAttachmentsConfigurationChange=e=>{this.setState({attachments:Object.assign(Object.assign({},this.state.attachments),{configuration:e})})},this.getDefaultAttachment=()=>{const{dashboardTitle:e,dateFormat:t}=this.props,{startDate:i}=this.state,r=function(e,t){const i={"MM/dd/yyyy":"MM-dd-yyyy","dd/MM/yyyy":"dd-MM-yyyy","M/d/yy":"M-d-yy"}[t]||t;return tP(e)?Ja(e,i):e}(i,t),a=this.getDashboardTitleMaxLength(r);return`${e.length>a?e.substring(0,a):e} - ${r}`},this.getDefaultSubject=()=>{const{dashboardTitle:e}=this.props;return e.length>255?e.substring(0,255):e},this.getDefaultEmailBody=()=>{const{intl:e}=this.props;return e.formatMessage({id:"dialogs.schedule.email.message.placeholder"})},this.getAttachments=e=>{const t=[],{dashboardSelected:i,widgetsSelected:r,configuration:a}=this.state.attachments;i&&t.push({dashboard:e,format:"pdf"});const o="xlsx"===a.format?{mergeHeaders:a.mergeHeaders,includeFilters:a.includeFilters}:void 0,l=this.props.dashboardInsightWidgets.reduce(((e,t)=>(e[(0,n.objRefToString)(t)]=(0,n.uriRef)(t.uri),e)),{});for(const i in r)r[i]&&t.push({widget:l[i],widgetDashboard:e,formats:[a.format],exportOptions:o});return t},this.getScheduleEmailData=()=>{const{editSchedule:e}=this.props,t=this.getTimeSchedule(),{selectedRecipients:i,emailSubject:r,emailBody:a}=this.state,n=i.filter(eP).map((e=>e.user.login)),o=i.filter(JA).map((e=>e.email)),l=r||this.getDefaultSubject(),s=a||this.getDefaultEmailBody(),d=this.getSummaryMessage(),c=this.getAttachments(this.props.dashboard);let u;return e&&(u=im(e.unsubscribed,n.concat(o))),{when:t,to:n,bcc:o,unsubscribed:u,subject:l,body:s,attachments:c,description:d,title:l,unlisted:!0,uri:e?e.uri:void 0}},this.getTimeSchedule=()=>{var e;return{recurrence:cP(this.state.repeat),startDate:(e=this.state.startDate,tP(e)?Ja(e,WA):e),timeZone:this.state.userTimezone.identifier}},this.getSummaryMessage=()=>{const{startDate:e,repeat:t}=this.state;return function(e,t,i){return`${function(e,t,i){var r;const{repeatType:a,repeatPeriod:n,repeatFrequency:o}=t,l=a===qA.CUSTOM,s=rP(i),d=oP(i);if(!l)return e.formatMessage(rv[`scheduleDialogEmailRepeats_${a}`],{day:s,week:d});const c=e.formatMessage({id:"dialogs.schedule.email.repeats.every"}),u=function(e){const t=XA.find((t=>e.hasOwnProperty(t)));return(0,p.kG)(t,"Unknown scheduled email frequency"),t}(o),g=e.formatMessage(rv[`scheduleDialogEmailRepeatsFrequencies_${u}`],{n}),m=u===$A?QA.DAY_OF_WEEK:null===(r=o.month)||void 0===r?void 0:r.type;return`${c} ${n} ${g} ${u!==YA?e.formatMessage(rv[`scheduleDialogEmailRepeatsExecuteOn_${m}`],{date:iP(i),day:rP(i),week:oP(i)}):""}`.trim()}(e,t,i)} ${e.formatMessage({id:"gs.date.at"})} ${function(e){const{hour:t,minute:i}=e,r=function(e){return e>=12?"PM":"AM"}(t),a=function(e){return e<10?"0"+e:""+e}(i);return`${function(e){let t=e>12?e-12:e;return 0===e&&(t=12),t}(t)}:${a} ${r}`}(t.time)}`}(this.props.intl,t,e)},this.state=this.props.editSchedule?this.getEditState(this.props.editSchedule,this.props.users):this.getDefaultState()}getDefaultState(){const e=new Date,t=(0,pb.normalizeTime)(e);return{alignment:"cc cc",startDate:e,userTimezone:CP||SP,emailSubject:"",emailBody:"",repeat:{time:{hour:t.getHours(),minute:t.getMinutes(),second:0},repeatType:qA.DAILY,repeatPeriod:1,repeatFrequency:{[YA]:!0}},selectedRecipients:[sk(this.props.currentUser)],isValidScheduleEmailData:!0,attachments:Object.assign(Object.assign({},this.getDefaultAttachments()),{configuration:{format:"csv",mergeHeaders:!0,includeFilters:!0}})}}getEditState(e,t){var i,r;const a=this.getDefaultState(),o=e.to.concat(e.bcc||[]).map((t=>{var i;return t===(null===(i=e.createdBy)||void 0===i?void 0:i.login)?sk(e.createdBy):{email:t}})),l=o.map((e=>{if(JA(e)){const i=t.find((t=>t.login===e.email));if(i)return{user:i}}return e})),s=e.attachments.filter(n.isDashboardAttachment),d=e.attachments.filter(n.isWidgetAttachment),c=this.props.dashboardInsightWidgets.reduce(((e,t)=>(e[(0,n.objRefToString)(t)]=d.some((e=>(0,n.areObjRefsEqual)(e.widget,t))),e)),{}),u=0===d.length?a.attachments.configuration:{format:d[0].formats[0]||"csv",mergeHeaders:(null===(i=d[0].exportOptions)||void 0===i?void 0:i.mergeHeaders)||!1,includeFilters:(null===(r=d[0].exportOptions)||void 0===r?void 0:r.includeFilters)||!1},g=Object.assign(Object.assign({},a),{emailSubject:e.subject,emailBody:e.body,selectedRecipients:l,userTimezone:wP(e.when.timeZone)||SP,startDate:zA(e.when.startDate,WA,new Date),isValidScheduleEmailData:!0,repeat:pP(e.when.recurrence),attachments:{dashboardSelected:0!==s.length,widgetsSelected:c,configuration:u}});return this.originalEditState=g,g}getDefaultAttachments(){const{enableWidgetExportScheduling:e,defaultAttachment:t,dashboardInsightWidgets:i}=this.props,r=i.some((e=>(0,n.areObjRefsEqual)(e.ref,t)));return e&&t&&r?{dashboardSelected:!1,widgetsSelected:{[(0,n.objRefToString)(t)]:!0}}:{dashboardSelected:!0,widgetsSelected:i.reduce(((e,t)=>(e[(0,n.objRefToString)(t)]=!1,e)),{})}}render(){const{intl:e,onCancel:t,editSchedule:i,enableWidgetExportScheduling:r}=this.props,{alignment:a,isValidScheduleEmailData:n}=this.state,o=[{align:a}],l=!n||i&&Pa(BA(this.originalEditState,"alignment"),BA(this.state,"alignment"));return R.createElement(pb.Overlay,{alignPoints:o,className:"gd-schedule-email-dialog-overlay",isModal:!0,positionType:"fixed",onAlign:this.onAlign},R.createElement(pb.ConfirmDialogBase,{className:"gd-schedule-email-dialog s-gd-schedule-email-dialog",isPositive:!0,headline:r?e.formatMessage({id:"dialogs.schedule.email.heading"}):e.formatMessage({id:"dialogs.schedule.email.headline"}),cancelButtonText:e.formatMessage({id:"cancel"}),submitButtonText:i?e.formatMessage({id:"dialogs.schedule.email.save"}):e.formatMessage({id:"dialogs.schedule.email.submit"}),isSubmitDisabled:l,submitOnEnterKey:!1,onCancel:t,onSubmit:this.onScheduleDialogSubmit},this.renderFiltersMessage(),this.renderRecipients(),this.renderUnsubscribedRecipients(),this.renderSubject(),this.renderMessage(),this.renderAttachment(),R.createElement("div",{className:"hr"}),this.renderDateTime(),this.renderRepeats()))}getDashboardTitleMaxLength(e){return 255-e.trim().length-3}}dk.defaultProps={dateFormat:"MM/dd/yyyy"};const ck=(0,$.withContexts)((0,NA.ZP)(dk)),uk=e=>R.createElement(YE,{locale:e.locale},R.createElement(ck,Object.assign({},e))),gk=e=>e.map((e=>(0,n.isDashboardAttributeFilter)(e)?{attributeFilter:BA(e.attributeFilter,"localIdentifier")}:e)),mk=e=>{const{onSubmit:t,onSuccess:i,onError:r,onSave:a,onSaveSuccess:o,onSaveError:l,onCancel:s,isVisible:d,editSchedule:c,users:u}=e,{currentUser:g,dashboardRef:m,dashboardTitle:h,dashboardInsightWidgets:f,hasDefaultFilters:b,handleCreateScheduledEmail:v,handleSaveScheduledEmail:D,locale:y,canListUsersInWorkspace:E,canExportTabular:C,dateFormat:S,weekStart:w,enableKPIDashboardSchedule:T,enableKPIDashboardScheduleRecipients:A,enableWidgetExportScheduling:P,defaultAttachment:k}=(e=>{const{onSubmit:t,onSubmitSuccess:i,onSubmitError:r,onSave:a,onSaveSuccess:o,onSaveError:l}=e,s=$f(Wc);(0,p.kG)(s,"attempting to schedule email for unsaved dashboard");const d=$f(Kc),c=$f(Zd),u=$f(yu),g=c.filter(n.isInsightWidget).filter((e=>!I(e))).map((e=>{var t;return Object.assign(Object.assign({},e),{visualizationUrl:null===(t=u.get(e.insight))||void 0===t?void 0:t.insight.visualizationUrl})})),m=$f(kg),h=$f(zo),f=$f(nd),b=$f(ed),v=$f(il),D=$f(Yo),y=$f(al),E=$f(up),C=$f(pp),S=$f(rl),w=$f(fl),T=$f(Db),A=(({onBeforeRun:e,onSuccess:t,onError:i}={})=>{const r=Jf({commandCreator:Av,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.SCHEDULED_EMAIL.CREATED",onError:e=>{null==i||i(e.payload.error)},onSuccess:e=>{null==t||t(e.payload.scheduledEmail)},onBeforeRun:t=>{var i;null==e||e(t.payload.scheduledEmail,null===(i=t.payload.filterContext)||void 0===i?void 0:i.filters)}});return{create:(0,R.useCallback)(((e,t)=>{const i=t&&{title:"filterContext",description:"",filters:_g(t)};r.run(e,i)}),[]),creationStatus:r.status}})({onSuccess:i,onError:r,onBeforeRun:t}),P=gk(b),k=gk(f),x=Pa(P,k),L=(0,R.useCallback)(((e,t)=>{const i=x?void 0:f;A.create(e,null!=t?t:i)}),[f,x]),O=A.creationStatus,F=(({onBeforeRun:e,onSuccess:t,onError:i}={})=>{const r=Jf({commandCreator:Pv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.SCHEDULED_EMAIL.SAVED",onError:e=>{null==i||i(e.payload.error)},onSuccess:()=>{null==t||t()},onBeforeRun:t=>{null==e||e(t.payload.scheduledEmail)}});return{save:(0,R.useCallback)(((e,t)=>{r.run(e,t)}),[]),savingStatus:r.status}})({onSuccess:o,onError:l,onBeforeRun:a}),M=(0,R.useCallback)(((e,t)=>{F.save(e,t)}),[]),N=F.savingStatus;return{dashboardRef:s,dashboardTitle:d,dashboardInsightWidgets:g,hasDefaultFilters:x,canListUsersInWorkspace:E,canExportTabular:C,enableKPIDashboardSchedule:S,enableKPIDashboardScheduleRecipients:y,enableWidgetExportScheduling:w,dateFormat:v,weekStart:D,currentUser:m,locale:h,defaultAttachment:T,handleCreateScheduledEmail:L,scheduledEmailCreationStatus:O,handleSaveScheduledEmail:M,scheduledEmailSavingStatus:N}})({onSubmit:t,onSubmitSuccess:i,onSubmitError:r,onSave:a,onSaveSuccess:o,onSaveError:l});return d&&(0,p.kG)(T,"Feature flag enableKPIDashboardSchedule must be enabled to make ScheduledMailDialog work properly."),d?R.createElement(uk,{editSchedule:c,locale:y,canListUsersInProject:E,canExportTabular:C,enableKPIDashboardScheduleRecipients:A,enableWidgetExportScheduling:P,dateFormat:S,currentUser:g,dashboard:m,dashboardTitle:h,dashboardInsightWidgets:f,hasDefaultFilters:b,onSubmit:v,onSave:D,onCancel:s,onError:r,defaultAttachment:k,users:u,weekStart:w}):null},pk=[{align:"cr cl",offset:{x:0,y:0}},{align:"cl cr",offset:{x:0,y:0}}],hk=[{align:"tc bc",offset:{x:0,y:0}},{align:"bc tc",offset:{x:0,y:0}}],fk=e=>{var t,i,r;const a=(0,vI.Z)(),o=(0,kE.Fg)(),{scheduledEmail:l,currentUserEmail:s,onDelete:d,onEdit:c,canManageScheduledMail:u,users:g}=e,{subject:m,to:p,bcc:h,attachments:f}=l,b=((e,t,i)=>{const r=t.length;return 1===r&&t[0]===i?e.formatMessage({id:"dialogs.schedule.management.recipients.onlyYou"}):e.formatMessage({id:"dialogs.schedule.management.recipients"},{n:r})})(a,[...p,...null!=h?h:[]],s),v=(e=>{const t=e.some(n.isDashboardAttachment),i=e.filter(n.isWidgetAttachment),r=i.some((e=>e.formats.includes("csv"))),a=i.some((e=>e.formats.includes("xlsx")));return wa([t&&"PDF",r&&"CSV",a&&"XLSX"]).join(", ")})(f),{AttachmentIcon:D,attachmentLabel:y}=((e,t)=>{const i=t.some(n.isDashboardAttachment),r=t.filter(n.isWidgetAttachment).length;return i&&r?{AttachmentIcon:pb.Icon.Many,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.mixed"},{n:r})}:r?{AttachmentIcon:pb.Icon.Insight,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.widgets"},{n:r})}:{AttachmentIcon:pb.Icon.Dashboard,attachmentLabel:e.formatMessage({id:"dialogs.schedule.management.attachments.dashboard"})}})(a,f),E=`${b}  ${y}  ${v}`,I=(0,R.useCallback)((()=>{u&&c(l,g)}),[l,u,g]);return R.createElement("div",{className:gy("gd-scheduled-email","s-scheduled-email",{editable:u})},R.createElement("div",{className:"gd-scheduled-email-delete"},R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("span",{className:"gd-scheduled-email-delete-icon s-scheduled-email-delete-icon",onClick:()=>d(l)}),R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:pk},R.createElement(PE.Z,{id:"dialogs.schedule.management.delete"})))),R.createElement("div",{className:"gd-scheduled-email-content",onClick:I},R.createElement("div",{className:"gd-scheduled-email-icon"},R.createElement(D,{color:null!==(r=null===(i=null===(t=null==o?void 0:o.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c5)&&void 0!==r?r:"#b0beca",width:18,height:16})),R.createElement("div",{className:"gd-scheduled-email-text-content"},R.createElement("div",{className:"gd-scheduled-email-title"},R.createElement("strong",null,R.createElement(pb.ShortenedText,{className:"gd-scheduled-email-shortened-text",tooltipAlignPoints:hk},m))),R.createElement("div",null,R.createElement("span",{className:"gd-scheduled-email-subtitle"},R.createElement(pb.ShortenedText,{className:"gd-scheduled-email-shortened-text",tooltipAlignPoints:hk},E))))))},bk=e=>{var t,i;const{isLoading:r,scheduledEmails:a,currentUserEmail:n,onDelete:o,onEdit:l,noSchedulesMessageId:s,canManageScheduledMail:d,users:c}=e,u=(0,kE.Fg)();return r?R.createElement("div",{className:"gd-loading-equalizer-wrap"},R.createElement("div",{className:"gd-loading-equalizer gd-loading-equalizer-fade"},R.createElement(pb.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:null===(i=null===(t=null==u?void 0:u.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c9}))):0===a.length?R.createElement("div",{className:"gd-scheduled-emails-message s-no-schedules-message"},R.createElement(PE.Z,{id:s,values:{br:R.createElement("br",null)}})):R.createElement(R.Fragment,null,a.map((e=>R.createElement(fk,{key:e.identifier,scheduledEmail:e,currentUserEmail:n,onDelete:o,onEdit:l,users:c,canManageScheduledMail:d}))))},vk=e=>{const{scheduledEmail:t,onCancel:i,onSuccess:r,onError:a}=e,{ref:n,subject:o}=t,l=(0,$.useBackendStrict)(),s=(0,$.useWorkspaceStrict)(),d=(0,vI.Z)();return R.createElement(pb.ConfirmDialog,{displayCloseButton:!0,isPositive:!1,headline:d.formatMessage({id:"dialogs.schedule.management.delete.dialog"}),cancelButtonText:d.formatMessage({id:"cancel"}),submitButtonText:d.formatMessage({id:"delete"}),onSubmit:async()=>{try{await l.workspace(s).dashboards().deleteScheduledMail(n),null==r||r()}catch(e){null==a||a(e)}},onClose:i,onCancel:i,className:"gd-scheduled-email-delete-dialog s-scheduled-email-delete-dialog",containerClassName:"gd-scheduled-email-delete-dialog-overlay"},R.createElement("span",{className:"s-scheduled-email-delete-dialog-content"},R.createElement(PE.Z,{id:"dialogs.schedule.management.delete.dialog.confirm",values:{b:e=>R.createElement("span",{className:"gd-scheduled-email-delete-dialog-text"},e," ",R.createElement("strong",null,o))}})))},Dk=e=>{const{onAdd:t,onEdit:i,onDeleteSuccess:r,onClose:a,onLoadError:o,onDeleteError:l}=e,[s,d]=(0,R.useState)(null),[c,u]=(0,R.useState)(!0),[g,m]=(0,R.useState)([]),[p,h]=(0,R.useState)([]),[f,b]=(0,R.useState)(rv.scheduleManagementTabUser.id),[v,D]=(0,R.useState)(!0),[y,E]=(0,R.useState)([]),I=$f(Pp),C=$f(kg),S=(0,vI.Z)(),w=(0,R.useCallback)((e=>{const{scheduledEmails:t,users:i}=e,r=t.filter((e=>{var t;return(0,n.areObjRefsEqual)(C.ref,null===(t=e.createdBy)||void 0===t?void 0:t.ref)}));u(!1),h(t),m(I?r:t),E(i),v&&(0===r.length&&I&&b(rv.scheduleManagementTabAll.id),D(!1))}),[]),T=(0,R.useCallback)((e=>{d(e)}),[]),A=(0,R.useCallback)(((e,t)=>{null==i||i(e,t)}),[]),P=(0,R.useCallback)((()=>{null==r||r(),d(null),u(!0)}),[]),k=(0,R.useCallback)((e=>{b(e.id)}),[]);(e=>{const{onError:t,onSuccess:i,loadScheduledMails:r}=e,a=$f(Gc),n=$f(Pp),o=(0,$.useBackendStrict)(),l=(0,$.useWorkspaceStrict)(),s=r?async()=>{const e=await o.workspace(l).dashboards().getScheduledMailsForDashboard(a,{loadUserData:n,createdByCurrentUser:!n}),t=n?await o.workspace(l).users().queryAll():[];return{scheduledEmails:e.reverse(),users:t}}:null;(0,$.useCancelablePromise)({promise:s,onError:t,onSuccess:i},[o,l,n,a,r])})({loadScheduledMails:c,onError:o,onSuccess:w});const x=f===rv.scheduleManagementTabAll.id?rv.scheduleManagementNoSchedules.id:rv.scheduleManagementNoSchedulesByUser.id;return R.createElement(R.Fragment,null,R.createElement(pb.Dialog,{displayCloseButton:!0,onCancel:a,className:"gd-scheduled-email-management-dialog s-scheduled-email-management-dialog"},R.createElement("div",{className:"gd-scheduled-email-management-dialog-title"},R.createElement(pb.Typography,{tagName:"h3",className:"gd-dialog-header"},R.createElement(PE.Z,{id:"dialogs.schedule.management.title"}))),!v&&I?R.createElement(pb.Tabs,{className:"gd-scheduled-email-management-dialog-tabs",tabs:[rv.scheduleManagementTabUser,rv.scheduleManagementTabAll],selectedTabId:f,onTabSelect:k}):null,R.createElement("div",{className:"gd-scheduled-emails-content"},R.createElement(bk,{onDelete:T,onEdit:A,isLoading:c,scheduledEmails:f===rv.scheduleManagementTabAll.id?p:g,currentUserEmail:null==C?void 0:C.email,noSchedulesMessageId:x,canManageScheduledMail:I,users:y})),R.createElement("div",{className:"gd-content-divider"}),R.createElement("div",{className:"gd-buttons"},R.createElement(pb.Button,{onClick:t,className:"gd-button-secondary gd-add-button s-add-button",iconLeft:"gd-icon-plus",value:S.formatMessage({id:"dialogs.schedule.management.addSchedule"})}),R.createElement(pb.Button,{onClick:a,className:"gd-button-secondary s-close-button",value:S.formatMessage({id:"close"})}))),s?R.createElement(vk,{scheduledEmail:s,onCancel:()=>d(null),onSuccess:P,onError:l}):null)},yk=e=>{const{workspace:t,backend:i,isVisible:r,sharedObject:a,currentUser:n,isLockingSupported:o,isCurrentUserWorkspaceManager:l,currentUserPermissions:s,onApply:d,onCancel:c,onError:u,onInteraction:g}=e,m=$f(zo),p=(0,vI.Z)(),h=(0,R.useMemo)((()=>({accessTypeLabel:p.formatMessage({id:"dashboard.shareDialog.lock.label"}),accessRegimeLabel:p.formatMessage({id:"dashboard.shareDialog.underLenientControl.label"}),removeAccessCreatorTooltip:p.formatMessage({id:"dashboard.shareDialog.removeAccessCreatorTooltip"}),removeAccessGranteeTooltip:p.formatMessage({id:"dashboard.shareDialog.removeAccessGranteeTooltip"})})),[p]);return r?R.createElement(pb.ShareDialog,{locale:m,backend:i,workspace:t,sharedObject:a,currentUser:n,onApply:d,onCancel:c,onError:u,isLockingSupported:o,labels:h,isCurrentUserWorkspaceManager:l,currentUserPermissions:s,onInteraction:g}):null};function Ek(){const e=Zf(),t=$f(yc),i=$f(sD),r=$f(gu);return{isVisible:t&&!i,onCancelClick:(0,R.useCallback)((()=>{e(r?Ha.openCancelEditModeDialog():Zs())}),[e,r])}}function Ik({isVisible:e,onCancelClick:t}){const i=(0,vI.Z)();return e?R.createElement(pb.Button,{className:"gd-button-secondary cancel-button s-cancel_button",value:i.formatMessage({id:"cancel"}),onClick:t}):null}const Ck=e=>R.createElement(Ik,Object.assign({},e)),Sk=e=>{const{SaveButtonComponent:t}=sy();return R.createElement(t,Object.assign({},e))},wk=(0,Do.createSelector)(bl,bD,bp,((e,t,i)=>e?t:i)),Tk=(0,Do.createSelector)(bl,vD,gp,wo,((e,t,i,r)=>e?t:i&&!r)),Ak=(0,Do.createSelector)(wk,Tk,Xc,Zo,((e,t,i,r)=>!r&&e&&(!i||t))),Pk=(0,Do.createSelector)(nD,Ak,((e,t)=>!e&&t)),kk=(0,Do.createSelector)(bl,$c,Vc,((e,t,i)=>e&&(i||t)));function Rk(e){return Vc(e)?!rc(e):gu(e)}const xk=(0,Do.createSelector)(Gc,UD,((e,t)=>Boolean(e&&t.has(e)))),Lk=(0,Do.createSelector)(bl,hD,fD,Xc,xk,Zo,yc,kl,((e,t,i,r,a,n,o,l)=>e&&t&&(!r||i)&&a&&!n&&!o&&!l));function Ok(){const e=(0,pb.useMediaQuery)(">=xl"),t=$f(Ak),i=$f(nD),r=$f(yc),a=Zf();return{isVisible:e&&!r&&t,isEnabled:!i,onEditClick:(0,R.useCallback)((()=>a(Ys())),[a])}}function Fk({isVisible:e,isEnabled:t,onEditClick:i}){const r=(0,vI.Z)();return e?R.createElement(pb.Button,{className:"gd-button-action gd-icon-pencil s-edit_button",value:r.formatMessage({id:"controlButtons.edit.value"}),disabled:!t,onClick:i}):null}const Mk=e=>R.createElement(Fk,Object.assign({},e)),Nk=(0,Do.createSelector)(dl,tl,Pk,fp,Xo,Zo,((e,t,i,r,a,n)=>e&&!t&&!i&&!a&&r&&!n));function _k(){const e=Zf();return{isVisible:$f(Nk),onSaveAsNewClick:(0,R.useCallback)((()=>{e(Ha.openSaveAsDialog())}),[e])}}function Hk({isVisible:e,onSaveAsNewClick:t}){const i=(0,vI.Z)();return e?R.createElement(pb.Button,{className:"gd-button-secondary s-save_as_new_button",value:i.formatMessage({id:"save.as.new"}),onClick:t}):null}const Uk=e=>R.createElement(Hk,Object.assign({},e)),Gk=()=>null;function jk(){const e=Zf(),t=(0,R.useCallback)((()=>e(Ha.openShareDialog())),[e]);return{isVisible:$f(Lk),onShareButtonClick:t}}const Bk=({isVisible:e,onShareButtonClick:t})=>{const i=(0,vI.Z)();return e?R.createElement(R.Fragment,null,R.createElement(pb.Button,{onClick:()=>t(),value:i.formatMessage({id:"share.button.text"}),className:"gd-button-secondary dash-header-share-button s-header-share-button gd-button gd-icon-users"})):R.createElement(Gk,null)},zk=e=>R.createElement(Bk,Object.assign({},e)),Wk=e=>{const{children:t,cancelButtonProps:i,saveButtonProps:r,editButtonProps:a,saveAsNewButtonProps:n,shareButtonProps:o,childContentPosition:l="left"}=e;return R.createElement("div",{className:"dash-control-buttons"},"left"===l&&t,R.createElement(Ck,Object.assign({},i)),R.createElement(Sk,Object.assign({},r)),R.createElement(Mk,Object.assign({},a)),R.createElement(Uk,Object.assign({},n)),R.createElement(zk,Object.assign({},o)),"right"===l&&t)},Vk=[{align:"br tr"}],Kk=[{align:"cl tr"}],qk=e=>{const{menuItems:t}=e,[i,r]=(0,R.useState)(!1),a=(0,R.useCallback)((()=>{r((e=>!e))}),[]),n=(0,R.useMemo)((()=>t.filter((e=>!1!==e.visible))),[t]);return n.length?R.createElement(R.Fragment,null,R.createElement(pb.Button,{onClick:a,value:"",className:"gd-button-primary dash-header-options-button s-header-options-button gd-button"}),i?R.createElement(pb.Overlay,{key:"topBarMenuButton",alignTo:".s-header-options-button",alignPoints:Vk,className:"gd-header-menu-overlay",closeOnMouseDrag:!0,closeOnOutsideClick:!0,onClose:a},R.createElement(pb.ItemsWrapper,{smallItemsSpacing:!0},n.map((e=>{if("separator"===e.type)return R.createElement(pb.SingleSelectListItem,{key:e.itemId,type:e.type,className:e.className});if("header"===e.type)return R.createElement(pb.SingleSelectListItem,{key:e.itemId,type:e.type,title:e.itemName,className:e.className});const t=`gd-menu-item-${e.itemId}`,i=R.createElement(pb.SingleSelectListItem,{className:gy("gd-menu-item",e.className,`s-${e.itemId}`,{[t]:e.tooltip,"is-disabled":e.disabled}),key:e.itemId,title:e.itemName,onClick:e.disabled?void 0:()=>{var t;null===(t=e.onClick)||void 0===t||t.call(e),r(!1)}});return e.tooltip?R.createElement(pb.BubbleHoverTrigger,{key:e.itemId},i,R.createElement(pb.Bubble,{alignTo:`.${t}`,alignPoints:Kk},R.createElement("span",null,e.tooltip))):i})))):null):(t.length||console.warn("DefaultMenuButton rendered without menu items. Make sure you are passing some items there."),null)},Yk=e=>{const{ButtonBarComponent:t}=sy();return R.createElement(t,Object.assign({},e))};function Zk(){const e=(0,vI.Z)(),t=$f(Vc),i=!$f(sc),{addSuccess:r,addError:a,addProgress:n,removeMessage:o}=(0,pb.useToastMessage)(),{isScheduledEmailingVisible:l,defaultOnScheduleEmailing:s}=av(),d=Zf(),c=(0,R.useCallback)((()=>d(Ha.openSaveAsDialog())),[d]),u=(0,R.useCallback)((()=>d(Ha.openDeleteDialog())),[d]),g=(0,R.useRef)(""),{run:m}=Jf({commandCreator:bi,successEvent:"GDC.DASH/EVT.EXPORT.PDF.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onBeforeRun:()=>{g.current=n(rv.messagesExportResultStart,{duration:0})},onSuccess:e=>{g.current&&o(g.current),r(rv.messagesExportResultSuccess),kC(e.payload.result)},onError:e=>{g.current&&o(g.current),(0,ur.isProtectedDataError)(e)?a(rv.messagesExportResultRestrictedError):a(rv.messagesExportResultError)}}),p=(0,R.useCallback)((()=>{t||c()}),[t,c]),h=(0,R.useCallback)((()=>{t||m()}),[m,t]),f=$f(Zo),b=$f(Dc),v=$f(yc),D=$f(fp),y=$f(tl),E=$f(Nk),I=$f(hp),C=!!$f(ll),S=!!$f(uD),w=$f(Lb);return(0,R.useMemo)((()=>{var r,a,n;if(t)return[];const o=v&&(null===(r=w.deleteButton)||void 0===r||r),d=!E&&D&&!y&&(null===(a=w.saveAsNewButton)||void 0===a||a),c=i||t||f,g=b&&I&&C&&S&&(null===(n=w.pdfExportButton)||void 0===n||n);return[{type:"button",itemId:"save_as_menu_item",disabled:c,visible:d,itemName:e.formatMessage({id:"options.menu.save.as"}),tooltip:!f&&c?e.formatMessage({id:"options.menu.save.as.tooltip"}):void 0,onClick:p},{type:"separator",itemId:"save-as-separator",visible:d&&(g||l||o)},{type:"button",itemId:"pdf-export-item",itemName:e.formatMessage({id:"options.menu.export.PDF"}),onClick:h,visible:g},{type:"button",itemId:"schedule-email-item",itemName:e.formatMessage({id:"options.menu.schedule.email"}),onClick:s,visible:l},{type:"button",itemId:"delete_dashboard",itemName:e.formatMessage({id:"options.menu.delete"}),onClick:u,visible:o,className:"delete-button"}]}),[D,I,h,p,s,e,i,S,v,b,C,t,f,y,l,E,w.deleteButton,w.pdfExportButton,w.saveAsNewButton,u])}const $k=e=>{const{MenuButtonComponent:t}=sy();return R.createElement(t,Object.assign({},e))},Xk=e=>{const{TitleComponent:t}=sy();return R.createElement(t,Object.assign({},e))},Qk=e=>null,Jk=e=>{var t,i,r;const a=(0,kE.Fg)();return e.isLocked?R.createElement("div",{className:"s-locked-status gd-locked-status"},R.createElement(pb.BubbleHoverTrigger,null,R.createElement(pb.Icon.Lock,{className:"gd-icon-locked",width:25,height:24,color:null!==(r=null===(i=null===(t=null==a?void 0:a.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c6)&&void 0!==r?r:"#94a1ad"}),R.createElement(pb.Bubble,{alignPoints:[{align:"bc tl"}],alignTo:".gd-icon-locked"},R.createElement(PE.Z,{id:"header.lockStatus.tooltip",values:{b:e=>R.createElement("b",null,e)}})))):null},eR=e=>{const t=$f(Bo),i=$f(bp);return t.enableNewAnalyticalDashboardsNavigation&&i?R.createElement(Jk,Object.assign({},e)):null},tR=e=>{const{shareStatus:t,isUnderStrictControl:i}=e;if("private"!==t)return null;const r=i?R.createElement(PE.Z,{id:"header.shareStatus.private.strict.tooltip"}):R.createElement(PE.Z,{id:"header.shareStatus.private.not.strict.tooltip"});return R.createElement("div",{className:"s-share-status gd-share-status"},R.createElement(pb.BubbleHoverTrigger,null,R.createElement("div",{className:"gd-share-indicator"},R.createElement("i",{className:"gd-share-icon gd-icon-invisible"}),R.createElement(PE.Z,{id:"header.shareStatus.private.text"})),R.createElement(pb.Bubble,{alignPoints:[{align:"bc tl"}],alignTo:".gd-share-icon"},r)))},iR=e=>{const t=$f(bl),i=$f(So),r=$f(bp);return t&&i&&r?R.createElement(tR,Object.assign({},e)):null};function rR(){const e=Zf(),t=$f(Kc),i=(0,vI.Z)().formatMessage({id:"untitled"}),[r,a]=(0,R.useState)(!1),n=(0,R.useCallback)((()=>{a(!0),GD(e,ui(t||i)).then((()=>{a(!1)})).catch((()=>{a(!1)}))}),[e,i,t]),o=$f(yc),l=$f(sD),s=$f(bl),d=$f(kk),c=!$f(sc),u=$f(Rk),g=l||r,m=o,p=$f(gu)&&!c&&u,h=s?rv.controlButtonsSaveValue:rv.controlButtonsSaveAndPublishValue;let f=rv.controlButtonsSaveAndPublishTitle;return d&&(f=rv.controlButtonsSaveAsPrivateTitle),u||(f=rv.controlButtonsSaveAndPublishNoChanges),c&&(f=rv.controlButtonsSaveAndPublishEmpty),{isVisible:m,isEnabled:p,isSaving:g,buttonValue:h,buttonTitle:f,onSaveClick:n}}function aR({isVisible:e,isEnabled:t,isSaving:i,buttonTitle:r,buttonValue:a,onSaveClick:n}){const o=(0,vI.Z)();return e?i?R.createElement(pb.Button,{className:"gd-button-action s-saving_button",value:o.formatMessage({id:"controlButtons.saving.value"}),disabled:!0,onClick:K}):R.createElement(pb.BubbleHoverTrigger,null,R.createElement(pb.Button,{className:"gd-button-action save-publish-button s-save_button",value:o.formatMessage(a),onClick:n,disabled:!t}),R.createElement(pb.Bubble,{alignPoints:[{align:"bc tr"}],arrowOffsets:{"bc tr":[10,20]},alignTo:".save-publish-button"},R.createElement(PE.Z,Object.assign({},r)))):null}const nR=()=>{const e=Zf(),t=$f(Kc),i=$f(Zo),r=$f(Qc),a=$f(Nc),n=Zk(),o=jk(),l=Ok(),s=Ek(),d=rR(),c=_k(),u=(0,R.useCallback)((t=>{e(mi(t))}),[e]);return{menuButtonProps:{menuItems:n,DefaultMenuButton:qk},titleProps:{title:t,onTitleChanged:i?void 0:u},buttonBarProps:{shareButtonProps:o,editButtonProps:l,cancelButtonProps:s,saveButtonProps:d,saveAsNewButtonProps:c,DefaultButtonBar:Wk},shareStatusProps:{shareStatus:r.shareStatus,isUnderStrictControl:!a||!!a.isUnderStrictControl},lockedStatusProps:{isLocked:!!r.isLocked},DefaultTopBar:lR}},oR=e=>{const{menuButtonProps:t,titleProps:i,buttonBarProps:r,shareStatusProps:a,lockedStatusProps:n}=e;return R.createElement("div",{className:"dash-header s-top-bar"},R.createElement("div",{className:"dash-header-inner"},R.createElement(eR,Object.assign({},n)),R.createElement(Xk,Object.assign({},i)),R.createElement(iR,Object.assign({},a)),R.createElement(Yk,Object.assign({},r))),R.createElement($k,Object.assign({},t)))};function lR(e){return $f(Xo)?R.createElement(Qk,Object.assign({},e)):R.createElement(oR,Object.assign({},e))}const sR=({children:e})=>R.createElement("div",{className:"dash-title-wrapper"},e),dR=e=>{const{title:t}=e;return R.createElement(sR,null,R.createElement("div",{className:"s-gd-dashboard-title s-dash-title dash-title static"},t))},cR=(0,iv.Em)({id:"untitled"}),uR=e=>{const{title:t,onTitleChanged:i}=e,r=(0,vI.Z)(),a=$f(Kc);return R.createElement(sR,null,R.createElement(pb.EditableLabel,{value:t,onSubmit:i,maxRows:1,maxLength:255,className:"s-gd-dashboard-title s-dash-title dash-title editable",isEditableLabelWidthBasedOnText:!0,autofocus:!a,placeholder:r.formatMessage(cR)},t))},gR=QD({view:dR,edit:uR}),mR=()=>null,pR=e=>{var t,i,r,a,n;const o=y(e);(null===(r=null===(i=null===(t=null==e?void 0:e.dashboards)||void 0===t?void 0:t.content)||void 0===i?void 0:i.kpiWidget)||void 0===r?void 0:r.kpi)&&(o.kpi=Object.assign({},e.dashboards.content.kpiWidget.kpi));const l=[];if((null===(a=null==e?void 0:e.chart)||void 0===a?void 0:a.backgroundColor)&&l.push(`--gd-dashboards-content-widget-chart-backgroundColor: ${e.chart.backgroundColor};`),(null===(n=null==e?void 0:e.table)||void 0===n?void 0:n.backgroundColor)&&l.push(`--gd-dashboards-content-widget-table-backgroundColor: ${e.table.backgroundColor};`),!h(l)){const e=document.createElement("style");e.appendChild(document.createTextNode(`:root{${l.join("")}}`)),document.head.appendChild(e)}return o},hR=e=>{const t=$f(od),i=$f(Ro),r=(0,R.useMemo)((()=>{var i;return null===(i=e.attributeFilter.filterElementsBy)||void 0===i?void 0:i.map((e=>{const i=t.find((t=>t.attributeFilter.localIdentifier===e.filterLocalIdentifier));return(0,p.kG)(i),{filter:i,over:e.over.attributes[0]}}))}),[t,e.attributeFilter.filterElementsBy]);return{parentFilters:(0,R.useMemo)((()=>null==r?void 0:r.map((e=>gg(e.filter)))),[r]),parentFilterOverAttribute:(0,R.useMemo)((()=>{if(r&&i)return(e,t)=>r[t].over}),[r,i])}},fR=e=>R.createElement("div",{className:"configuration-category"},R.createElement(pb.Typography,{tagName:"h3"},e.categoryTitle)),bR=()=>R.createElement("div",{className:"configuration-panel-header"},R.createElement(pb.Typography,{tagName:"h3",className:"configuration-panel-header-title"},R.createElement(PE.Z,{id:"attributesDropdown.configuration"}))),vR=[{align:"bc tl"},{align:"tc bl"}],DR={"bc tl":[-100,10],"tc bl":[-100,-10]},yR=e=>{const{itemLocalId:t,itemTitle:i,hasConnectingAttributes:r}=e,a=$f(md(t||"")),o=$f(_l).find((e=>e.displayForms.some((e=>(0,n.areObjRefsEqual)(e.ref,a))))),l=null==o?void 0:o.attribute.title;(0,p.kG)(i,"The parent filter title could not be fetched.");const s=gy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${FC.gl(i)}`);return R.createElement(pb.BubbleHoverTrigger,{hideDelay:0},R.createElement("div",{className:s},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",readOnly:!0,disabled:!0,checked:!1}),R.createElement("span",{className:"input-label-text"},i))),R.createElement(pb.Bubble,{className:"bubble-primary gd-attribute-filter-dropdown-bubble s-attribute-filter-dropdown-bubble",alignPoints:vR,arrowOffsets:DR},r?R.createElement("div",null,R.createElement(PE.Z,{id:"attributesDropdown.filterConfiguredMessage",values:{childTitle:l,parentTitle:i,strong:e=>R.createElement("strong",null,e)}})):R.createElement("div",null,R.createElement(PE.Z,{id:"attributesDropdown.noConnectionMessage",values:{childTitle:l,parentTitle:i,strong:e=>R.createElement("strong",null,e)}}))))},ER=({title:e,icon:t,selected:i,onClick:r})=>{const a=gy("gd-list-item",`s-${FC.gl(e)}`,{"is-selected":i});return R.createElement("div",{className:a,onClick:e=>{r(),e.preventDefault()}},R.createElement("span",{className:gy("gd-list-icon",t)}),R.createElement("span",null,e))},IR=[{align:"br tr"},{align:"tr br"}],CR=e=>{const{itemLocalId:t,selectedConnectingAttributeRef:i,connectingAttributes:r,onSelect:a}=e,o=r.find((e=>(0,n.areObjRefsEqual)(e.ref,i)));return(0,p.kG)(o,"Cannot find connecting attribute in the catalog attribute items."),R.createElement(pb.Dropdown,{className:"connecting-attributes-dropdown s-connecting-attributes-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!0,closeOnOutsideClick:!0,alignPoints:IR,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(pb.DropdownButton,{value:o.title,iconLeft:"gd-icon-attribute",title:o.title,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"connecting-attributes-dropdown-body s-connecting-attributes-dropdown-body",width:205,items:r,renderItem:({item:r})=>{const o=(0,n.areObjRefsEqual)(r.ref,i);return R.createElement(ER,{title:r.title,icon:"gd-icon-attribute",selected:o,onClick:()=>{e(),o||a(t,r.ref)}})}})})},SR=e=>{const{item:{isSelected:t,localIdentifier:i,selectedConnectingAttribute:r},onClick:a,currentFilterLocalId:n,connectingAttributes:o,onConnectingAttributeSelect:l,title:s,disabled:d}=e,c=$f(pd(n,i))||!o.length,u=t&&o.length>1,g=(0,R.useMemo)((()=>gy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${FC.gl(s)}`,{"is-selected":t})),[t,s]),m=(0,R.useCallback)((()=>{const e=o.map((e=>e.ref));a(i,!t,e)}),[t,i,a,o]);return c?R.createElement(yR,{hasConnectingAttributes:!!o.length,itemTitle:s,itemLocalId:n}):R.createElement(R.Fragment,null,R.createElement("div",{className:g,onClick:()=>!d&&m(),title:s},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",checked:t,disabled:d,readOnly:!0}),R.createElement("span",{className:"input-label-text"},s),u?R.createElement("span",{className:"addon"},"",R.createElement(PE.Z,{id:"attributesDropdown.attributeNameWithData"})):null)),u?R.createElement(CR,{itemLocalId:i,connectingAttributes:o,selectedConnectingAttributeRef:r||o[0].ref,onSelect:l}):null)},wR=e=>{const{item:{isSelected:t,localIdentifier:i},onClick:r,currentFilterLocalId:a,title:n,disabled:o,isValid:l}=e,s=(0,R.useMemo)((()=>gy("gd-list-item attribute-filter-item s-attribute-filter-dropdown-configuration-item",`s-${FC.gl(n)}`,{"is-selected":t})),[t,n]),d=(0,R.useCallback)((()=>{r(i,!t)}),[r,i,t]);return l?R.createElement("div",{className:s,onClick:()=>!o&&d(),title:n},R.createElement("label",{className:"input-checkbox-label configuration-item-title"},R.createElement("input",{type:"checkbox",className:"input-checkbox s-checkbox",checked:t,disabled:o,readOnly:!0}),R.createElement("span",{className:"input-label-text"},n))):R.createElement(yR,{hasConnectingAttributes:!1,itemTitle:n,itemLocalId:a})},TR={"cr cl":[20,0],"cl cr":[-10,0]},AR=[{align:"cr cl"},{align:"cl cr"}],PR=e=>{const{parents:t,currentFilterLocalId:i,setParents:r,onConnectingAttributeChanged:a,connectingAttributes:o,attributes:l,disabled:s,disabledTooltip:d,validParents:c}=e,u=$f(Io),g=$f(Fl),m=$f(Ro);return!u||!g||t.length<1?null:R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("div",{className:"gd-infinite-list"},t.map(((e,t)=>{var d,u;if(m)return R.createElement(SR,{key:e.localIdentifier,currentFilterLocalId:i,item:e,disabled:s,onClick:r,onConnectingAttributeSelect:a,connectingAttributes:o[t],title:null!==(d=e.title)&&void 0!==d?d:l[t].title});{const a=c.some((t=>(0,n.areObjRefsEqual)(t,e.displayForm)));return R.createElement(wR,{key:e.localIdentifier,currentFilterLocalId:i,item:e,disabled:s,onClick:r,title:null!==(u=e.title)&&void 0!==u?u:l[t].title,isValid:a})}}))),Boolean(s)&&R.createElement(pb.Bubble,{arrowOffsets:TR,alignPoints:AR},R.createElement("div",null,d)))},kR=({title:e,isOpened:t,toggleDropdown:i})=>{const r=gy("gd-button-primary","gd-button-small","button-dropdown","dropdown-button","attribute-display-form-button","s-attribute-display-form-button",{"is-active":t}),a=t?"gd-icon-navigateup":"gd-icon-navigatedown";return R.createElement(pb.Button,{className:r,title:e,value:e,onClick:i,iconRight:a})},RR=[{align:"cl cr",offset:{x:-10,y:0}},{align:"cr cl",offset:{x:10,y:0}}],xR=({displayForm:e,onClick:t,selected:i})=>{const{title:r}=e,a=gy("gd-list-item","attribute-display-form-name","s-attribute-display-form-name",`s-attribute-display-form-name-${FC.gl(r)}`,(e=>{switch(e){case"GDC.link":return"gd-icon-hyperlink-warning";case"GDC.geo.pin":case"GDC.geo.pin_latitude":case"GDC.geo.pin_longitude":return"gd-icon-earth";default:return"gd-icon-label-warning"}})(e.displayFormType),{"is-selected":i});return R.createElement("div",{className:a,onClick:()=>{t(e.ref)}},R.createElement(pb.ShortenedText,{tooltipAlignPoints:RR},r))},LR=[{align:"bl tl",offset:{x:0,y:1}},{align:"tl bl",offset:{x:0,y:-1}}],OR=({displayForms:e,selectedDisplayForm:t,onChange:i})=>{const r=e.find((e=>(0,n.areObjRefsEqual)((0,n.idRef)(e.id,"displayForm"),t)||(0,n.areObjRefsEqual)((0,n.uriRef)(e.uri),t))).title;return R.createElement(pb.Dropdown,{alignPoints:LR,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(kR,{title:r,isOpened:e,toggleDropdown:t}),renderBody:({closeDropdown:r})=>R.createElement(pb.DropdownList,{className:"attribute-display-form-dropdown-body s-attribute-display-form-dropdown-body",items:e,itemHeight:23,width:225,renderItem:({item:e})=>{const a=(0,n.areObjRefsEqual)(t,e.ref);return R.createElement(xR,{displayForm:e,selected:a,onClick:e=>{r(),a||i(e)}})}})})};const FR=R.createContext(null);FR.displayName="AttributeFilterParentFiltering";const MR=()=>(0,R.useContext)(FR),NR=e=>{var t,i;const{children:r,filter:a,attributes:o}=e,l=(0,R.useMemo)((()=>gg(a)),[a]),s=(0,R.useMemo)((()=>null!=o?o:[]),[o]),d=(0,R.useMemo)((()=>(0,n.filterObjRef)(l)),[l]),c=$f(gd(d)),u=$f(ts),g=$f(ad).get(a.attributeFilter.displayForm);(0,p.kG)(g);const m=s.find((e=>(0,n.areObjRefsEqual)(e.ref,g.attribute))),h=g.attribute,f=null!==(i=null===(t=u.get(g.attribute))||void 0===t?void 0:t.title)&&void 0!==i?i:null==m?void 0:m.title,{parents:b,configurationChanged:v,onParentSelect:D,onConnectingAttributeChanged:y,onParentFiltersChange:E,onConfigurationClose:I}=function(e,t){const{filterElementsBy:i,localIdentifier:r}=t.attributeFilter;(0,p.kG)(r,"Cannot initialize the attribute filter configuration panel, filter has missing 'localIdentifier' property");const a=lb(jh),n=(0,$.useBackend)(),o=!!(null==n?void 0:n.capabilities.supportsSettingConnectingAttributes),l=function(e,t){return(0,R.useMemo)((()=>e.map((e=>{var i;const r=e.attributeFilter.localIdentifier,a=e.attributeFilter.displayForm,n=e.attributeFilter.title,o=(null==t?void 0:t.some((e=>e.filterLocalIdentifier===r)))||!1,l=null===(i=null==t?void 0:t.find((e=>e.filterLocalIdentifier===r)))||void 0===i?void 0:i.over.attributes;return(0,p.kG)(r,"Cannot initialize the attribute filter configuration panel, neighbor filter has missing 'localIdentifier' property."),{localIdentifier:r,displayForm:a,isSelected:o,overAttributes:l,selectedConnectingAttribute:null==l?void 0:l[0],title:n}}))),[e,t])}(e,i),[s,d]=(0,R.useState)(l),c=(0,R.useMemo)((()=>!Pa(s,l)),[s,l]),u=(0,R.useCallback)((()=>{if(c){const e=[];s.forEach((t=>{var i;if(t.isSelected)if(o){if(null===(i=t.overAttributes)||void 0===i?void 0:i.length){const i=t.selectedConnectingAttribute||t.overAttributes[0];e.push({filterLocalIdentifier:t.localIdentifier,over:{attributes:[i]}})}}else e.push({filterLocalIdentifier:t.localIdentifier,over:{attributes:[]}})})),a(t.attributeFilter.localIdentifier,e)}}),[s,c,t,a,o]),g=(0,R.useCallback)((()=>{d(l)}),[l]);return{parents:s,configurationChanged:c,onParentSelect:function(e,t,i){const r=s.findIndex((t=>t.localIdentifier===e)),a=Object.assign({},s[r]);a.isSelected=t,a.overAttributes=i,t?a.selectedConnectingAttribute=null==i?void 0:i[0]:(a.selectedConnectingAttribute=void 0,a.overAttributes=void 0);const n=[...s];n[r]=a,d(n)},onConnectingAttributeChanged:function(e,t){const i=s.findIndex((t=>t.localIdentifier===e)),r=Object.assign({},s[i]);r.selectedConnectingAttribute=t;const a=[...s];a[i]=r,d(a)},onParentFiltersChange:u,onConfigurationClose:g}}(c,a),{onDisplayFormSelect:C,filterDisplayForms:S,displayFormChanged:w,onDisplayFormChange:T,onConfigurationClose:A,displayFormChangeStatus:P}=function(e,t){const i=$f(_l),{run:r,status:a}=Jf({commandCreator:zh,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.DISPLAY_FORM_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),o=e.attributeFilter.displayForm,[l,s]=(0,R.useState)((()=>{var r,a,o;const l=e.attributeFilter.displayForm,s=null===(r=i.find((e=>e.displayForms.some((e=>(0,n.areObjRefsEqual)(e.ref,l))))))||void 0===r?void 0:r.displayForms,d=null!==(o=null===(a=t.find((e=>e.displayForms.some((e=>(0,n.areObjRefsEqual)(e.ref,l))))))||void 0===a?void 0:a.displayForms)&&void 0!==o?o:[];return{selectedDisplayForm:l,availableDisplayForms:null!=s?s:d}})),d=!(0,n.areObjRefsEqual)(o,l.selectedDisplayForm),c=(0,R.useCallback)((e=>{const t=Object.assign({},l);t.selectedDisplayForm=e,s(t)}),[l]),u=(0,R.useCallback)((()=>{(0,n.areObjRefsEqual)(o,l.selectedDisplayForm)||r(e.attributeFilter.localIdentifier,l.selectedDisplayForm)}),[l,o,e,r]),g=(0,R.useCallback)((()=>{s((e=>Object.assign(Object.assign({},e),{selectedDisplayForm:o})))}),[o]);return{onDisplayFormSelect:c,filterDisplayForms:l,displayFormChanged:d,onDisplayFormChange:u,onConfigurationClose:g,displayFormChangeStatus:a}}(a,s),{title:k,titleChanged:x,titleChangeStatus:L,onTitleUpdate:O,onTitleReset:F,onTitleChange:M,onConfigurationClose:N}=function(e,t){var i;const{run:r,status:a}=Jf({commandCreator:Wh,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.TITLE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),n=ab(),o=null!==(i=e.attributeFilter.title)&&void 0!==i?i:t,[l,s]=(0,R.useState)(o),d=o!==l,c=(0,R.useCallback)((e=>{s(e)}),[]),u=(0,R.useCallback)((()=>{if(l!==o){const i=l!==t?null==l?void 0:l.trim():void 0;r(e.attributeFilter.localIdentifier,i)}}),[l,e,t,r]),g=(0,R.useCallback)((()=>{s(void 0),n.attributeFilterInteraction("attributeFilterTitleResetClicked")}),[n]),m=(0,R.useCallback)((()=>{s(o)}),[o]);return{title:l,titleChanged:d,titleChangeStatus:a,onTitleChange:u,onTitleUpdate:c,onTitleReset:g,onConfigurationClose:m}}(a,f),{selectionMode:_,selectionModeChanged:H,onSelectionModeChange:U,onSelectionModeUpdate:G,onConfigurationClose:j}=(e=>{var t;const{run:i}=Jf({commandCreator:Vh,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_MODE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),{run:r}=Jf({commandCreator:Hh,successEvent:"GDC.DASH/EVT.FILTER_CONTEXT.ATTRIBUTE_FILTER.SELECTION_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),a=null!==(t=e.attributeFilter.selectionMode)&&void 0!==t?t:"multi",[n,o]=(0,R.useState)(a),l=a!==n,s=(0,R.useCallback)((e=>{o(e)}),[]),d=(0,R.useCallback)((()=>{o(a)}),[a]),c=(0,R.useCallback)((()=>{if(n===a)return;const{localIdentifier:t}=e.attributeFilter;"single"===n?(r(t,{uris:[]},"IN"),i(t,n)):(i(t,n),r(t,{uris:[]},"NOT_IN"))}),[a,n,e,i,r]);return{selectionMode:n,selectionModeChanged:l,onSelectionModeChange:c,onSelectionModeUpdate:s,onConfigurationClose:d}})(a),{mode:B,modeChanged:z,onModeChange:W,onModeUpdate:V,onConfigurationClose:K}=function(e,t){var i;const{run:r}=Jf({commandCreator:Di,successEvent:"GDC.DASH/EVT.ATTRIBUTE_FILTER_CONFIG.MODE_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED"}),a=$f(xc).find((t=>t.localIdentifier===e.attributeFilter.localIdentifier)),n=(null==a?void 0:a.localIdentifier)||(null==e?void 0:e.attributeFilter.localIdentifier),o=null!==(i=null==a?void 0:a.mode)&&void 0!==i?i:t,[l,s]=(0,R.useState)(o),d=o!==l,c=(0,R.useCallback)((e=>{s(e)}),[]),u=(0,R.useCallback)((()=>{l!==o&&r(n,l)}),[n,o,r,l]),g=(0,R.useCallback)((()=>{s(o)}),[o]);return{mode:l,modeChanged:d,onModeUpdate:c,onModeChange:u,onConfigurationClose:g}}(a,n.DashboardAttributeFilterConfigModeValues.ACTIVE),q=(0,R.useCallback)((()=>{"single"===_?(E(),U()):(U(),E()),T(),M(),W()}),[_,E,T,M,U,W]),Y=(0,R.useCallback)((()=>{I(),A(),N(),j(),K()}),[I,A,N,j,K]),Z=S.availableDisplayForms.length>1,X=k!==f;return R.createElement(FR.Provider,{value:{parents:b,onParentSelect:D,onConnectingAttributeChanged:y,onParentFiltersChange:E,onDisplayFormSelect:C,filterDisplayForms:S,displayFormChanged:w,onDisplayFormChange:T,onConfigurationSave:q,onConfigurationClose:Y,showDisplayFormPicker:Z,configurationChanged:v,displayFormChangeStatus:P,title:k,defaultAttributeFilterTitle:f,showResetTitle:X,titleChanged:x,titleChangeStatus:L,onTitleChange:M,onTitleUpdate:O,onTitleReset:F,attributeFilterDisplayForm:h,selectionMode:_,selectionModeChanged:H,onSelectionModeChange:U,onSelectionModeUpdate:G,mode:B,modeChanged:z,onModeChange:W,onModeUpdate:V}},r)},_R=e=>{const{categoryTitle:t,resetTitleText:i,showResetTitle:r,attributeTitle:a,onClick:n,onChange:o}=e;return R.createElement("div",null,R.createElement("div",{className:"configuration-category-title"},R.createElement(fR,{categoryTitle:t}),r?R.createElement("a",{className:"gd-button gd-button-link attribute-filter-renaming-title-reset s-attribute-filter-renaming-title-reset",target:"_blank",rel:"noopener noreferrer",onClick:n},i):null),R.createElement(pb.Input,{className:"configuration-attribute-filter-title s-configuration-attribute-filter-title",value:a,onChange:o,isSmall:!0}))},HR={"cr cl":[20,0],"cl cr":[-10,0]},UR=[{align:"cr cl"},{align:"cl cr"}],GR=e=>{const{item:t,itemTitle:i,selected:r,disabled:a,disabledTooltip:n,onClick:o}=e,l=gy("gd-list-item",{"is-selected":r},{"is-disabled":a},"s-selection-mode-dropdown-item",`s-selection-mode-dropdown-item-${t}`);return R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0},R.createElement("div",{className:l,onClick:()=>!a&&o()},i),Boolean(a)&&R.createElement(pb.Bubble,{arrowOffsets:HR,alignPoints:UR},R.createElement("div",null,n)))},jR=e=>{const{title:t,isOpen:i,toggleDropdown:r}=e,a=gy("gd-button-primary","gd-button-small","button-dropdown","dropdown-button","selection-mode-dropdown-button","s-selection-mode-dropdown-button",{"is-active":i}),n=i?"gd-icon-navigateup":"gd-icon-navigatedown";return R.createElement(pb.Button,{className:a,title:t,value:t,onClick:r,iconRight:n})},BR=[{align:"bl tl",offset:{x:0,y:1}},{align:"tl bl",offset:{x:0,y:-1}}],zR=e=>{const{selectionTitleText:t,multiSelectionOptionText:i,singleSelectionOptionText:r,singleSelectionDisabledTooltip:a,selectionMode:n,onSelectionModeChange:o,disabled:l}=e,s={multi:i,single:r},d=["multi","single"];return R.createElement(R.Fragment,null,R.createElement(fR,{categoryTitle:t}),R.createElement("div",{className:"configuration-selection-mode"},R.createElement(pb.Dropdown,{alignPoints:BR,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(jR,{isOpen:e,title:s[n],toggleDropdown:t}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"attribute-display-form-dropdown-body s-selection-mode-dropdown-body",items:d,itemHeight:23,width:225,renderItem:({item:t})=>R.createElement(GR,{item:t,itemTitle:s[t],selected:t===n,disabled:"single"===t&&l,disabledTooltip:a,onClick:()=>{e(),o(t)}})})})))},WR=[{align:"tc bl",offset:{x:0,y:-2}}],VR=e=>{const{checked:t,onChange:i,itemValue:r,itemText:a,itemTooltip:n,className:o}=e;return R.createElement(pb.BubbleHoverTrigger,null,R.createElement("label",{className:"input-radio-label bottom-space"},R.createElement("input",{type:"radio",className:gy("input-radio",o),value:r,checked:t,onChange:i}),R.createElement("span",{className:"input-label-text"},a)),R.createElement(pb.Bubble,{className:"bubble-primary gd-filter-configuration-mode-item-bubble",alignPoints:WR},n))},KR="active",qR="readonly",YR="hidden",ZR=e=>{const{selectedMode:t,onChanged:i,intl:r}=e,a=(0,R.useCallback)((e=>{const t=e.target.value;i(t)}),[i]),n=r.formatMessage(rv.filterConfigurationModeActiveTitle),o=r.formatMessage(rv.filterConfigurationModeReadOnlyTitle),l=r.formatMessage(rv.filterConfigurationModeHiddenTitle),s=r.formatMessage(rv.filterConfigurationModeActiveTooltip),d=r.formatMessage(rv.filterConfigurationModeReadOnlyTooltip),c=r.formatMessage(rv.filterConfigurationModeHiddenTooltip);return R.createElement("div",{className:"configuration-item-mode s-configuration-item-mode"},R.createElement(VR,{className:"config-state-active s-config-state-active",itemText:n,itemValue:KR,onChange:a,checked:t===KR,itemTooltip:s}),R.createElement(VR,{className:"config-state-readonly s-config-state-readonly",itemText:o,itemValue:qR,onChange:a,checked:t===qR,itemTooltip:d}),R.createElement(VR,{className:"config-state-hidden s-config-state-hidden",itemText:l,itemValue:YR,onChange:a,checked:t===YR,itemTooltip:c}))},$R=e=>{var t,i;const{filterRef:r,filterByText:a,displayValuesAsText:o,titleText:l,resetTitleText:s,selectionTitleText:d,multiSelectionOptionText:c,singleSelectionOptionText:u,singleSelectionDisabledTooltip:g,parentFiltersDisabledTooltip:m,closeHandler:h,intl:f,modeCategoryTitleText:b,showConfigModeSection:v}=e,D=(0,kE.Fg)();(0,R.useEffect)((()=>()=>{h()}),[h]);const y=$f(gd(r)),E=$f(Io),I=$f(Fl),C=$f(Mo),S=E&&I,w=(0,R.useMemo)((()=>y.map((e=>e.attributeFilter.displayForm))),[y]),T=$f(od).find((e=>y.every((t=>e.attributeFilter.localIdentifier!==t.attributeFilter.localIdentifier))));(0,p.kG)(T,"Cannot find current filter in the filter context store.");const{title:A,defaultAttributeFilterTitle:P,parents:k,onParentSelect:x,onConnectingAttributeChanged:L,showDisplayFormPicker:O,filterDisplayForms:F,onDisplayFormSelect:M,showResetTitle:N,onTitleUpdate:_,onTitleReset:H,selectionMode:U,onSelectionModeUpdate:G,mode:j,onModeUpdate:B}=MR(),z="single"===U&&!C,{connectingAttributesLoading:W,connectingAttributes:V}=function(e,t){const i=$f(Io),r=$f(Ro),a=i&&r,n=(0,R.useMemo)((()=>t.map((t=>[e,t]))),[t,e]),{run:o,result:l,status:s,error:d}=rb({queryCreator:Jv});(0,R.useEffect)((()=>{a&&o(n)}),[n,o,a]);const c=(0,R.useMemo)((()=>"pending"===s||"running"===s),[s]);return a?{connectingAttributes:l,connectingAttributesLoading:c,connectingAttributesError:d}:{connectingAttributes:[],connectingAttributesError:void 0,connectingAttributesLoading:!1}}(T.attributeFilter.displayForm,w),{validNeighbourAttributesLoading:K,validNeighbourAttributes:q}=((e,t)=>{const i=$f(Fl),r=$f(Io),a=$f(Ro),o=i&&r&&!a,l=$f(ad),{run:s,result:d,status:c,error:u}=rb({queryCreator:eD});(0,R.useEffect)((()=>{o&&s(e)}),[e,s,o]);const g=(0,R.useMemo)((()=>"pending"===c||"running"===c),[c]);if(!o)return{validNeighbourAttributes:[],validNeighbourAttributesLoading:!1,validNeighbourAttributesError:void 0};const m=t.filter((e=>{var t,i;const r=null===(t=l.get(e))||void 0===t?void 0:t.attribute;return null!==(i=null==d?void 0:d.some((e=>(0,n.areObjRefsEqual)(r,e))))&&void 0!==i&&i}));return{validNeighbourAttributes:m,validNeighbourAttributesLoading:g,validNeighbourAttributesError:u}})(F.selectedDisplayForm,w),{attributes:Y,attributesLoading:Z}=aS(w),$=(0,R.useCallback)((()=>!C&&k.filter((e=>e.isSelected)).length>0),[k,C]);return W||Z||K?R.createElement("div",{className:"gd-loading-equalizer-attribute-filter-config-wrap"},R.createElement(pb.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:null===(i=null===(t=null==D?void 0:D.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c9})):r&&V&&q&&Y?R.createElement("div",{className:"s-attribute-filter-dropdown-configuration attribute-filter-dropdown-configuration sdk-edit-mode-on"},R.createElement(bR,null),R.createElement(_R,{categoryTitle:l,resetTitleText:s,onClick:H,onChange:_,showResetTitle:N,attributeTitle:null!=A?A:P}),R.createElement(zR,{selectionTitleText:d,multiSelectionOptionText:c,singleSelectionOptionText:u,singleSelectionDisabledTooltip:g,selectionMode:U,onSelectionModeChange:G,disabled:$()}),S&&k.length>0?R.createElement(fR,{categoryTitle:a}):null,R.createElement(PR,{currentFilterLocalId:T.attributeFilter.localIdentifier,parents:k,setParents:x,onConnectingAttributeChanged:L,connectingAttributes:V,attributes:Y,disabled:z,disabledTooltip:m,validParents:q}),O?R.createElement("div",{className:"s-display-form-configuration"},R.createElement(fR,{categoryTitle:o}),R.createElement("div",{className:"configuration-panel-body"},R.createElement(OR,{displayForms:F.availableDisplayForms,selectedDisplayForm:F.selectedDisplayForm,onChange:M}))):null,v?R.createElement(R.Fragment,null,R.createElement(fR,{categoryTitle:b}),R.createElement(ZR,{intl:f,selectedMode:null!=j?j:n.DashboardAttributeFilterConfigModeValues.ACTIVE,onChanged:e=>{B(e)}})):null):null},XR=({isApplyDisabled:e,onApplyButtonClick:t,onCancelButtonClick:i,onConfigurationButtonClick:r,onDeleteButtonClick:a,cancelText:o,applyText:l,filterDisplayFormRef:s,attributes:d,filterSelectionMode:c})=>{const u=$f(yc),g=$f(Tl),m=function(e,t){const i=$f(yc),r=$f(ad).get(e);(0,p.kG)(r);const a=$f(is);if(!t)return!1;const o=null==t?void 0:t.find((e=>(0,n.areObjRefsEqual)(e.ref,r.attribute))),l=a.get(r.attribute)||o;return(0,p.kG)(l),i}(s,d),h="single"===c;return!u&&h?null:R.createElement("div",{className:"gd-attribute-filter-dropdown-actions__next"},R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-left-content__next"},u&&g?R.createElement(R.Fragment,null,R.createElement(gr.AttributeFilterDeleteButton,{onDelete:a}),R.createElement("div",{className:"gd-button-separator"})):null,m?R.createElement(gr.AttributeFilterConfigurationButton,{onConfiguration:r}):null),h?null:R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-right-content__next"},R.createElement(pb.Button,{className:"gd-attribute-filter-cancel-button__next gd-button-secondary gd-button-small cancel-button s-cancel",onClick:i,value:o,title:o}),R.createElement(pb.Button,{disabled:e,className:"gd-attribute-filter-apply-button__next gd-button-action gd-button-small s-apply",onClick:t,value:l,title:l})))},QR=({isSaveDisabled:e,onSaveButtonClick:t,onCancelButtonClick:i,cancelText:r,saveText:a})=>R.createElement("div",{className:"gd-attribute-filter-dropdown-actions__next"},R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-left-content__next"}),R.createElement("div",{className:"gd-attribute-filter-dropdown-actions-right-content__next"},R.createElement(pb.Button,{className:"gd-attribute-filter-cancel-button__next gd-button-secondary gd-button-small cancel-button s-cancel",onClick:i,value:r,title:r}),R.createElement(pb.Button,{disabled:e,className:"gd-attribute-filter-apply-button__next gd-button-action gd-button-small s-apply",onClick:t,value:a,title:a})));function JR(e,t=!0){const{run:i,result:r,status:a,error:n}=rb({queryCreator:tD});return(0,R.useEffect)((()=>{t&&i(e)}),[e,t,i]),{attributeDataSet:r,attributesDataSetLoading:(0,R.useMemo)((()=>"pending"===a||"running"===a),[a]),attributesDataSetLoadingError:n}}const ex=e=>{const{filter:t,onFilterChanged:i,isDraggable:r,readonly:a,autoOpen:o,onClose:l}=e,{parentFilters:s,parentFilterOverAttribute:d}=hR(t),c=$f(zo),u=$f(yc),g=$f(Eo),m=$f(Lc),p=$f(Ol),h=(0,R.useMemo)((()=>gg(t)),[t]),[f,b]=(0,R.useState)(!1),v=ab(),D=$f(fd(t.attributeFilter.displayForm)),y=(0,R.useMemo)((()=>(0,n.filterObjRef)(h)),[h]),E=Zf(),I=(0,R.useCallback)((()=>E(Mh(t.attributeFilter.localIdentifier))),[t,E]),C=(0,vI.Z)(),S=C.formatMessage({id:"gs.list.cancel"}),w=C.formatMessage({id:"attributesDropdown.save"}),T=C.formatMessage({id:"gs.list.apply"}),A=C.formatMessage({id:"attributesDropdown.displayValuesAs"}),P=C.formatMessage({id:"attributesDropdown.filterBy"}),k=C.formatMessage({id:"attributesDropdown.title"}),x=C.formatMessage({id:"attributesDropdown.title.reset"}),L=C.formatMessage({id:"attributesDropdown.selectionMode"}),O=C.formatMessage({id:"attributesDropdown.selectionMode.multi"}),F=C.formatMessage({id:"attributesDropdown.selectionMode.single"}),M=C.formatMessage({id:"attributesDropdown.selectionMode.disabled.tooltip"}),N=C.formatMessage({id:"attributesDropdown.parentFilter.disabled.tooltip"}),_=C.formatMessage({id:"filter.configuration.mode.title"}),H=(0,R.useCallback)((()=>{l&&l()}),[l]),U=(0,R.useMemo)((()=>[y]),[y]),{attributes:G}=aS(U),j=(0,R.useMemo)((()=>hI(m.get(t.attributeFilter.localIdentifier),u,!!g.supportsHiddenAndLockedFiltersOnUI,C)),[m,t.attributeFilter.localIdentifier,u,g.supportsHiddenAndLockedFiltersOnUI,C]),B=(0,R.useMemo)((()=>function(e){(0,gr.useAutoOpenAttributeFilterDropdownButton)(e,Boolean(o)),(0,gr.useOnCloseAttributeFilterDropdownButton)(e,H);const{isOpen:t,title:i}=e,{defaultAttributeFilterTitle:a,displayFormChangeStatus:n,attributeFilterDisplayForm:l}=MR(),{attributeDataSet:s}=JR(l),d=u&&"running"!==n,c=C.formatMessage({id:"filter.dependency.icon.tooltip"},{filterTitle:i,strong:e=>R.createElement("strong",null,e)}),m=(0,R.useMemo)((()=>{if(d&&s&&t)return function(){return R.createElement(gr.AttributeDatasetInfo,{title:i,defaultAttributeFilterTitle:a,attributeDataSet:s})}}),[d,a,s,t,i]),h=p&&g.supportsKeepingDependentFiltersSelection&&D?R.createElement(gr.AttributeFilterDependencyTooltip,{tooltipContent:c}):null;return R.createElement(gr.AttributeFilterDropdownButton,Object.assign({},e,{isDraggable:r,TooltipContentComponent:m,titleExtension:h}))}),[o,H,u,C,p,g.supportsKeepingDependentFiltersSelection,D,r]),z=(0,R.useMemo)((()=>function(e){const{title:i,configurationChanged:r,displayFormChanged:a,titleChanged:n,onConfigurationSave:o,onConfigurationClose:l,selectionModeChanged:s,modeChanged:d}=MR(),c=!(i&&i.length>0&&(r||a||n||s||d));return R.createElement(R.Fragment,null,f?R.createElement(QR,{isSaveDisabled:c,onSaveButtonClick:()=>{o(),b(!1)},onCancelButtonClick:()=>{b(!1)},cancelText:S,saveText:w}):R.createElement(XR,Object.assign({},e,{filterDisplayFormRef:t.attributeFilter.displayForm,filterSelectionMode:t.attributeFilter.selectionMode,applyText:T,cancelText:S,onConfigurationButtonClick:()=>{b(!0),l(),v.attributeFilterInteraction("attributeFilterConfigurationOpened")},onDeleteButtonClick:()=>{I()},attributes:G})))}),[f,S,w,t.attributeFilter.displayForm,t.attributeFilter.selectionMode,T,G,I]),W=(0,R.useMemo)((()=>function(e){const{displayFormChangeStatus:t}=MR(),i=(0,R.useCallback)((()=>{b(!1)}),[]);return"running"===t?R.createElement(pb.LoadingMask,{height:pb.LOADING_HEIGHT}):R.createElement(R.Fragment,null,f?R.createElement($R,{intl:C,closeHandler:i,filterRef:y,filterByText:P,displayValuesAsText:A,titleText:k,resetTitleText:x,selectionTitleText:L,multiSelectionOptionText:O,singleSelectionOptionText:F,modeCategoryTitleText:_,singleSelectionDisabledTooltip:M,parentFiltersDisabledTooltip:N,showConfigModeSection:!!g.supportsHiddenAndLockedFiltersOnUI}):R.createElement(gr.AttributeFilterElementsSelect,Object.assign({},e)))}),[f,y,P,A,k,x,L,O,F,M,N,_,C,g]),V=(0,R.useMemo)((()=>function(e){const i=!!g.supportsShowingFilteredElements&&p,r=()=>{var t;null===(t=e.onShowFilteredElements)||void 0===t||t.call(e),v.attributeFilterInteraction("attributeFilterShowAllValuesClicked")};return"single"===t.attributeFilter.selectionMode?R.createElement(gr.SingleSelectionAttributeFilterStatusBar,Object.assign({},e,{onShowFilteredElements:r,enableShowingFilteredElements:i})):R.createElement(gr.AttributeFilterStatusBar,Object.assign({},e,{onShowFilteredElements:r,onClearIrrelevantSelection:()=>{var t;null===(t=e.onClearIrrelevantSelection)||void 0===t||t.call(e),v.attributeFilterInteraction("attributeFilterClearIrrelevantValuesClicked")},enableShowingFilteredElements:i}))}),[t.attributeFilter.selectionMode,g.supportsShowingFilteredElements,p,v]);return R.createElement(NR,{filter:t,attributes:G},R.createElement(gr.AttributeFilterButton,{title:t.attributeFilter.title,resetOnParentFilterChange:!1,filter:h,onApply:e=>{i(function(e,t,i){return{attributeFilter:{attributeElements:(0,n.filterAttributeElements)(e),displayForm:(0,n.filterObjRef)(e),negativeSelection:(0,n.isNegativeAttributeFilter)(e),localIdentifier:t,title:i}}}(e,t.attributeFilter.localIdentifier,t.attributeFilter.title))},parentFilters:s,parentFilterOverAttribute:d,locale:c,DropdownButtonComponent:B,DropdownActionsComponent:z,ElementsSelectComponent:W,fullscreenOnMobile:!0,selectionMode:t.attributeFilter.selectionMode,selectFirst:!0,attributeFilterMode:a?n.DashboardAttributeFilterConfigModeValues.READONLY:n.DashboardAttributeFilterConfigModeValues.ACTIVE,customIcon:j,StatusBarComponent:V}))},tx=({isSaveDisabled:e,onSaveButtonClick:t,onCancelButtonClick:i,cancelText:r,saveText:a})=>R.createElement("div",{className:"gd-extended-date-filter-actions"},R.createElement("div",{className:"gd-extended-date-filter-actions-left-content"}),R.createElement("div",{className:"gd-extended-date-filter-actions-right-content s-gd-extended-date-filter-actions-right-content"},R.createElement(pb.Button,{className:"gd-button-secondary gd-button-small s-date-filter-cancel",onClick:i,value:r,title:r}),R.createElement(pb.Button,{disabled:e,className:"gd-button-action gd-button-small s-date-filter-apply",onClick:t,value:a,title:a}))),ix=e=>R.createElement("div",{className:"configuration-category"},R.createElement(pb.Typography,{tagName:"h3"},e.categoryTitle)),rx=e=>R.createElement("div",{className:"configuration-panel-header"},R.createElement(pb.Typography,{tagName:"h3",className:"configuration-panel-header-title"},e.headerText)),ax=e=>{var t;const{onCancelButtonClick:i,onSaveButtonClick:r,intl:a}=e,n=$f(Ic),o=null!==(t=null==n?void 0:n.mode)&&void 0!==t?t:"active",[l,s]=(0,R.useState)(o),d=lb(vi),c=(0,R.useCallback)((()=>{r(),d(l)}),[l]),u=(0,R.useCallback)((e=>{s(e)}),[]),g=a.formatMessage(rv.filterConfigurationModeTitle),m=a.formatMessage(rv.dateFilterDropdownConfigurationHeader),p=a.formatMessage(rv.dateFilterDropdownConfigurationCancelText),h=a.formatMessage(rv.dateFilterDropdownConfigurationSaveText);return R.createElement("div",{className:"gd-extended-date-filter-container"},R.createElement("div",{className:"gd-extended-date-filter-body s-extended-date-filters-body"},R.createElement("div",{className:"s-date-filter-dropdown-configuration date-filter-dropdown-configuration sdk-edit-mode-on"},R.createElement(rx,{headerText:m}),R.createElement("div",null,R.createElement("div",{className:"configuration-category-title"},R.createElement(ix,{categoryTitle:g})),R.createElement(ZR,{intl:a,selectedMode:l,onChanged:u}))),R.createElement(tx,{cancelText:p,saveText:h,onCancelButtonClick:i,onSaveButtonClick:c,isSaveDisabled:l===o})))},nx=e=>{const t=(0,vI.Z)(),i=$f(Bo),r=$f(Eo),a=$f(zo),o=$f(yc),l=$f(Yo),s=$f(Ic),{filter:d,onFilterChanged:c,config:u,readonly:g}=e,[m,p]=(0,R.useState)(""),{dateFilterOption:h,excludeCurrentPeriod:f}=(0,R.useMemo)((()=>function(e,t,i){const r=i?(a=i,sn(t).find((e=>e.localIdentifier===a))):void 0;var a;return e&&("absoluteForm"===(null==r?void 0:r.type)||"relativeForm"===(null==r?void 0:r.type))&&dn(t,e)?cn(t,e):function(e,t){var i;if(!e){const{allTime:e}=t;return e?{dateFilterOption:e,excludeCurrentPeriod:!1}:pn(void 0)}const r=gn(e,t);if(r)return{dateFilterOption:r,excludeCurrentPeriod:!1};if("relative"===e.dateFilter.type&&"-1"===(null===(i=e.dateFilter.to)||void 0===i?void 0:i.toString())){const i=function(e,t,i){return sn(t).filter((e=>"relativePreset"===e.type)).find(mn(e))}({dateFilter:Object.assign(Object.assign({},e.dateFilter),{from:Number.parseInt(e.dateFilter.from.toString(),10)+1,to:0})},t);if(i)return{dateFilterOption:i,excludeCurrentPeriod:!0}}return dn(t,e)?cn(t,e):pn(e)}(e,t)}(d,u.dateFilterOptions,m)),[d,u.dateFilterOptions,m]),b=(0,R.useCallback)(((e,t)=>{p(e.localIdentifier),c(function(e,t){const i=(0,n.idRef)("TEMP"),r=gr.DateFilterHelpers.mapOptionToAfm(e,i,t);if(r){if((0,n.isRelativeDateFilter)(r)){const{from:e,to:t,granularity:i}=(0,n.relativeDateFilterValues)(r);return{dateFilter:{type:"relative",granularity:i,from:e,to:t}}}{const{from:e,to:t}=(0,n.absoluteDateFilterValues)(r);return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e,to:t}}}}}(e,t),e.localIdentifier)}),[c]),v=i.formatLocale?(0,gr.getLocalizedIcuDateFormatPattern)(i.formatLocale):i.responsiveUiDateFormat,D=hI(null==s?void 0:s.mode,o,!!r.supportsHiddenAndLockedFiltersOnUI,t),y=o&&!!r.supportsHiddenAndLockedFiltersOnUI,E=(0,R.useMemo)((()=>function(e){return R.createElement(ax,Object.assign({},e,{intl:t}))}),[]);return R.createElement(gr.DateFilter,{excludeCurrentPeriod:f,selectedFilterOption:h,dateFilterMode:g?n.DashboardDateFilterConfigModeValues.READONLY:n.DashboardDateFilterConfigModeValues.ACTIVE,filterOptions:u.dateFilterOptions,availableGranularities:u.availableGranularities,customFilterName:u.customFilterName,onApply:b,dateFormat:v,locale:a,isTimeForAbsoluteRangeEnabled:!!r.supportsTimeGranularities,isEditMode:o,weekStart:l,customIcon:D,FilterConfigurationComponent:y?E:void 0})},ox=({item:e})=>{var t,i;const r=(0,kE.Fg)(),a=$f((e=>(0,Do.createSelector)(_l,(t=>t.find((t=>t.displayForms.some((t=>function(e,t){return(0,n.areObjRefsEqual)((0,n.idRef)(e.id,e.type),t)||(0,n.areObjRefsEqual)((0,n.uriRef)(e.uri),t)}(t,e.attributeFilter.displayForm))))))))(e.filter));return a?R.createElement("div",{className:"attribute-filter-button is-dragging"},R.createElement(pb.Icon.DragHandle,{width:7,height:26,className:"drag-handle-icon",color:null===(i=null===(t=null==r?void 0:r.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c5}),R.createElement("div",{className:"button-content"},R.createElement("div",{className:"button-title"},R.createElement(pb.ShortenedText,null,a.attribute.title)))):null};function lx({className:e,isOpen:t,title:i}){const r=(0,vI.Z)();i=null!=i?i:r.formatMessage({id:"addPanel.attributeFilter"});const a=gy(e,"is-loaded",{"is-active":t});return R.createElement("div",{className:a},R.createElement("div",{className:"button-content"},R.createElement("div",{className:"button-title"},i)))}function sx(e){const t=(0,vI.Z)(),{elements:i,totalCount:r}=e,a=r-i.length;return R.createElement(R.Fragment,null,i.map(((e,i)=>R.createElement("span",{key:i,className:"gd-attribute-element s-attribute-element"},e.title||`(${t.formatMessage({id:"empty_value"})})`,R.createElement("br",null)))),a>0&&R.createElement("span",{key:i.length,className:"attribute-tooltip-elements-more"},R.createElement(PE.Z,{id:"attributesDropdown.details.shortening_decoration",values:{count:a}})))}const dx=({item:e,attributesDataSetLoading:t,attributesElementsLoading:i,attributeDataSet:r,attributeElements:a})=>R.createElement("div",{className:"gd-attribute-dropdown-list-tooltip-content s-attribute-dropdown-item-list-tooltip-content"},R.createElement("h3",{className:"s-attribute-filter-tooltip-header"},e.attribute.title),R.createElement("h4",null,R.createElement(PE.Z,{id:"attributesDropdown.details.dataset"})),R.createElement("p",{className:"s-attribute-filter-tooltip-item-dataset"},t?R.createElement(PE.Z,{id:"loading"}):null==r?void 0:r.title),R.createElement("h4",null,R.createElement(PE.Z,{id:"attributesDropdown.details.values"})),R.createElement("p",{className:"s-attribute-filter-tooltip-item-elements"},i?R.createElement(PE.Z,{id:"loading"}):R.createElement(sx,{elements:a.elements,totalCount:a.totalCount}))),cx=[{align:"tr tl",offset:{x:0,y:-50}},{align:"tl tr",offset:{x:-170,y:-80}}],ux=({item:e})=>{const[t,i]=(0,R.useState)(!1),{attributeElements:r,attributesElementsLoading:a}=function(e,t,i){const{run:r,result:a,status:n,error:o}=rb({queryCreator:iD});return(0,R.useEffect)((()=>{i&&r(e,5)}),[e,i,5,r]),{attributeElements:a,attributesElementsLoading:(0,R.useMemo)((()=>"pending"===n||"running"===n),[n]),attributeElementsLoadingError:o}}(e.defaultDisplayForm.ref,0,t),{attributeDataSet:n,attributesDataSetLoading:o}=JR(e.attribute.ref,t);return R.createElement("div",null,R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0,eventsOnBubble:!0,className:"gd-attribute-item-tooltip-icon"},R.createElement("span",{onMouseEnter:()=>i(!0),className:"gd-icon-circle-question gd-list-item-tooltip-icon s-attribute-dropdown-list-item-tooltip"}),R.createElement(pb.Bubble,{className:"gd-attribute-dropdown-list-item-details s-attribute-filter-details-bubble",alignPoints:cx,arrowStyle:{display:"none"}},R.createElement(dx,{item:e,attributesDataSetLoading:o,attributesElementsLoading:a,attributeDataSet:n,attributeElements:r}))))},gx=[{align:"cr cl",offset:{x:10,y:0}},{align:"cl cr",offset:{x:-10,y:0}}],mx=({item:e,isLocationIconEnabled:t,onClick:i})=>{const r=(0,R.useMemo)((()=>{const i=t&&!h(null==e?void 0:e.geoPinDisplayForms);return gy(`s-${FC.gl(e.attribute.title)}`,"gd-attribute-list-item",{"gd-list-item":!0,"gd-list-item-shortened":!0,"type-attribute":!i,"type-geo_attribute":i})}),[e,t]);return R.createElement("div",{key:e.attribute.id,className:r,onClick:i},R.createElement(pb.ShortenedText,{tooltipAlignPoints:gx},e.attribute.title),R.createElement(ux,{item:e}))},px=["pushpin"],hx=(e,t)=>e.map((e=>t.get(null==e?void 0:e.insight))).map((e=>e&&(0,n.insightVisualizationType)(e))).some((e=>px.includes(e))),fx=[{align:"bl tl"},{align:"tr tl"},{align:"tr tl",offset:{x:0,y:-100}},{align:"tr tl",offset:{x:0,y:-50}},{align:"br tr",offset:{x:-10,y:0}},{align:"tl tr",offset:{x:0,y:-100}},{align:"tl tr",offset:{x:0,y:-50}}];function bx({className:e,bodyClassName:t,onClose:i,onSelect:r}){const a=(0,vI.Z)(),[n,o]=(0,R.useState)(""),[l,s]=(0,R.useState)(!1);(0,R.useEffect)((()=>{const e=window.setTimeout((()=>s(!0)),500);return()=>{null!==e&&window.clearTimeout(e)}}),[]);const d=$f(_l),c=$f(yu),u=$f(nc),g=(0,R.useMemo)((()=>hx(u,c)),[u,c]),m=(0,R.useCallback)(FS((e=>{o(e)}),250),[]),p=(0,R.useCallback)((e=>{e||i()}),[i]),h=gy(e,"s-attribute_select","attribute-filter-dropdown","add-attribute-filter-dropdown"),f=n?d.filter((e=>e.attribute.title.toLowerCase().includes(n.toLowerCase()))):d;return R.createElement(pb.Dropdown,{className:h,onOpenStateChanged:p,closeOnParentScroll:l,closeOnMouseDrag:!0,closeOnOutsideClick:!0,alignPoints:fx,openOnInit:!0,renderButton:({isOpen:e})=>R.createElement(lx,{className:"attribute-filter-button mobile-dropdown-button",isOpen:e}),renderBody:({closeDropdown:e})=>R.createElement("div",{className:gy(t,"attributes-list")},R.createElement(pb.DropdownList,{items:f,searchFieldSize:"small",showSearch:!0,onSearch:m,searchString:n,searchPlaceholder:a.formatMessage({id:"attributesDropdown.placeholder"}),renderItem:({item:t})=>R.createElement(mx,{item:t,isLocationIconEnabled:g,onClick:()=>{r(t.defaultDisplayForm.ref),e()}})}))})}const vx=e=>{const{Component:t,disabled:i}=e,r=e.WrapCreatePanelItemWithDragComponent;return R.createElement(r,Object.assign({},e),R.createElement(t,{disabled:i}))},Dx={type:"attributeFilter-placeholder"},yx=({CreatePanelItemComponent:e,WrapCreatePanelItemWithDragComponent:t,disabled:i})=>R.createElement(vx,{Component:e,WrapCreatePanelItemWithDragComponent:t,dragItem:Dx,disabled:i,hideDefaultPreview:!1});function Ex({disabled:e}){const t=gy("add-item-placeholder","add-attribute-filter-placeholder","s-add-attribute-filter",{disabled:e});return R.createElement("div",{className:t},R.createElement(PE.Z,{id:"addPanel.attributeFilter"}))}function Ix(e){const{WrapCreatePanelItemWithDragComponent:t}=e,i=$f(Hl),r=$f(hd),a=$f(Qo),n=!i||!r,o=n&&!i?R.createElement("div",null,R.createElement(PE.Z,{id:"addPanel.attributeFilter.tooltip.no_attributes"}),"",a?null:R.createElement("a",{href:"https://help.gooddata.com/display/doc/Attributes+in+Logical+Data+Models",rel:"noopener noreferrer",target:"_blank",className:"s-add-attribute-filter-tooltip-link"},R.createElement(PE.Z,{id:"addPanel.attributeFilter.tooltip.no_attributes.link"}))):void 0;return R.createElement(pb.BubbleHoverTrigger,{eventsOnBubble:!0,className:"s-add-attribute-filter-bubble-trigger"},R.createElement(yx,{CreatePanelItemComponent:Ex,WrapCreatePanelItemWithDragComponent:t,disabled:n}),o?R.createElement(pb.Bubble,{alignPoints:[{align:"cr cl",offset:{x:-20,y:0}}]},o):null)}function Cx(e){return{MainComponentProvider:e,creating:{CreatingPlaceholderComponent:bx,CreatePanelListItemComponent:Ix,type:"attributeFilter-placeholder",priority:10},dragging:{DraggingComponent:ox,type:"attributeFilter"}}}function Sx(e,t){return(t.drillContext.intersection||[]).map((e=>e.header)).filter($.isDrillIntersectionAttributeItem).filter((t=>t.attributeHeader.localIdentifier===e)).map((e=>e.attributeHeaderItem.name))[0]}var wx;!function(e){e.DRILL_TO_DASHBOARD="drill-to-dashboard",e.DRILL_TO_INSIGHT="drill-to-insight",e.DRILL_TO_URL="drill-to-url",e.DRILL_DOWN="drill-down",e.CROSS_FILTERING="cross-filtering"}(wx=wx||(wx={}));const Tx={[wx.DRILL_TO_DASHBOARD]:"DrillToDashboard",[wx.DRILL_TO_INSIGHT]:"DrillToInsight",[wx.DRILL_TO_URL]:"Hyperlink",[wx.DRILL_DOWN]:"DrillDown",[wx.CROSS_FILTERING]:"AttributeFilter"},Ax=e=>{var t,i;const r=(0,kE.Fg)(e.theme),{item:{name:a,type:n,drillDefinition:o,attributeValue:l}}=e,s=gy("gd-drill-modal-picker-list-item","s-gd-drill-modal-picker-item",`s-${n}`),d=pb.Icon[Tx[n]],c=wa([a,l?`(${l})`:""]).join(" ");return R.createElement("a",{onClick:t=>{t.preventDefault(),e.onClick(o)},className:s,title:c},R.createElement("div",{className:"gd-drill-modal-picker-icon-wrapper"},R.createElement(d,{color:null===(i=null===(t=null==r?void 0:r.palette)||void 0===t?void 0:t.complementary)||void 0===i?void 0:i.c5})),a?R.createElement("p",null,a,l?R.createElement("span",null,"(",l,")"):null):R.createElement("div",{className:"gd-drill-to-url-modal-picker s-drill-to-url-modal-picker"},R.createElement("div",{className:"gd-spinner small"})))},Px=e=>{const{items:t}=e,[i,r]=Ti(t,(e=>oh(e.drillDefinition)||(0,n.isCrossFiltering)(e.drillDefinition))),[a,o]=Ti(i,(e=>oh(e.drillDefinition))),l=t=>t.map((t=>R.createElement(Ax,{key:t.id,item:t,onClick:e.onSelect})));return R.createElement("div",{className:"gd-drill-modal-picker-selector-list"},(e=>{if((null==e?void 0:e.length)>0)return R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(PE.Z,{id:"drill_modal_picker.drill-down",tagName:"span"})),l(e))})(a),(e=>{if((null==e?void 0:e.length)>0)return R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(PE.Z,{id:"drill_modal_picker.drill-into",tagName:"span"})),l(e))})(r),(e=>{if((null==e?void 0:e.length)>0)return R.createElement(R.Fragment,null,R.createElement("div",{className:"gd-drill-modal-picker-title"},R.createElement(PE.Z,{id:"drill_modal_picker.cross-filter",tagName:"span"})),l(e))})(o))},kx=e=>{const{items:t,onSelect:i}=e;return R.createElement("div",{className:"gd-drill-modal-picker-dropdown s-drill-item-selector-dropdown",onScroll:e=>{e.stopPropagation()}},R.createElement("div",{className:"gd-drill-modal-picker-body"},R.createElement(Px,{items:t,onSelect:i})))},Rx=e=>{const{isOpen:t,dropDownAnchorClass:i,onClose:r,onSelect:a,drillDefinitions:n,drillEvent:o}=e,l=(0,vI.Z)(),s=$f(Ku),d=$f(Kc),c=$f(yu),u=(0,R.useMemo)((()=>xx(n,o,c,s,d,l)),[n,o,c,s,d,l]);return t?R.createElement("div",{className:"gd-drill-modal-picker-overlay-mask"},R.createElement(pb.Overlay,{closeOnOutsideClick:!0,closeOnEscape:!0,alignTo:`.${i}`,onClose:r},R.createElement(kx,{items:u,onSelect:a}))):null},xx=(e,t,i,r,a,o)=>{const l=e.filter(mS).length;return e.map((e=>{var s;if((0,p.kG)(!(0,n.isDrillToLegacyDashboard)(e),"Drill to pixel perfect dashboards from insight is not supported."),oh(e)){const{title:i}=e,r=Sx(xa(e),t);return{type:wx.DRILL_DOWN,name:null!==(s=null!=i?i:r)&&void 0!==s?s:"NULL",drillDefinition:e,id:qr(e)}}if((0,n.isDrillToInsight)(e)){const t=i.get(e.target),r=t&&(0,n.insightTitle)(t);return{type:wx.DRILL_TO_INSIGHT,name:r,drillDefinition:e,id:qr(e)}}if((0,n.isDrillToDashboard)(e)){const t=e.target?((e,t)=>{const i=t.find((t=>jw(t.identifier,t.ref,e)));return i?i.title:null})(e.target,r):a;return{type:wx.DRILL_TO_DASHBOARD,name:t,drillDefinition:e,id:qr(e)}}if(mS(e)){const i=xa(e),r=(0,n.isDrillFromAttribute)(e.origin)&&l>1?Sx(i,t):void 0;return{type:wx.DRILL_TO_URL,name:o.formatMessage({id:"drill_modal_picker.more.details"}),drillDefinition:e,attributeValue:r,id:qr(e)}}if((0,n.isCrossFiltering)(e))return{name:e.title,type:wx.CROSS_FILTERING,drillDefinition:e,id:qr(e)};const d=e;throw new $.UnexpectedSdkError(`Unhandled drill definition: ${JSON.stringify(d)}`)}))},Lx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:kv,successEvent:"GDC.DASH/EVT.DRILL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Ox=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:Rv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_DOWN.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Fx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:xv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_INSIGHT.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Mx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:Lv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_DASHBOARD.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Nx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:Fv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_ATTRIBUTE_URL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),_x=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:Ov,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_CUSTOM_URL.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Hx=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:Mv,successEvent:"GDC.DASH/EVT.DRILL.DRILL_TO_LEGACY_DASHBOARD.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i}),Ux=({onSuccess:e,onError:t,onBeforeRun:i}={})=>Jf({commandCreator:_v,successEvent:"GDC.DASH/EVT.DRILL.CROSS_FILTERING.RESOLVED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:e,onError:t,onBeforeRun:i});function Gx({widgetRef:e,children:t,insight:i,onDrillDownSuccess:r,onDrillToInsightSuccess:a,onDrillToDashboardSuccess:o,onDrillToAttributeUrlSuccess:l,onDrillToCustomUrlSuccess:s,onError:d}){const{current:c}=(0,R.useRef)((0,J.Z)()),[u,g]=(0,R.useState)(null),[m,p]=(0,R.useState)(!0),h=$f(zo),f=$f(Jo),b=$f(ec(e)),{supportsAttributeHierarchies:v}=$f(Eo),D=function({onDrill:e,onDrillSuccess:t,onDrillError:i,onDrillDown:r,onDrillDownSuccess:a,onDrillDownError:n,onDrillToInsight:o,onDrillToInsightSuccess:l,onDrillToInsightError:s,onDrillToDashboard:d,onDrillToDashboardSuccess:c,onDrillToDashboardError:u,onDrillToAttributeUrl:g,onDrillToAttributeUrlSuccess:m,onDrillToAttributeUrlError:p,onDrillToCustomUrl:h,onDrillToCustomUrlSuccess:f,onDrillToCustomUrlError:b,onDrillToLegacyDashboard:v,onDrillToLegacyDashboardSuccess:D,onDrillToLegacyDashboardError:y,onCrossFiltering:E,onCrossFilteringSuccess:I,onCrossFilteringError:C,onError:S}){return{drill:Lx({onBeforeRun:e,onSuccess:t,onError:null!=i?i:S}),drillDown:Ox({onBeforeRun:r,onSuccess:a,onError:null!=n?n:S}),drillToInsight:Fx({onBeforeRun:o,onSuccess:l,onError:null!=s?s:S}),drillToDashboard:Mx({onBeforeRun:d,onSuccess:c,onError:null!=u?u:S}),drillToAttributeUrl:Nx({onBeforeRun:g,onSuccess:m,onError:null!=p?p:S}),drillToCustomUrl:_x({onBeforeRun:h,onSuccess:f,onError:null!=b?b:S}),drillToLegacyDashboard:Hx({onBeforeRun:v,onSuccess:D,onError:null!=y?y:S}),crossFiltering:Ux({onBeforeRun:E,onSuccess:I,onError:null!=C?C:S})}}({onDrillSuccess:e=>{if(f||0===e.payload.drillEvent.drillDefinitions.length)return;const t=e.payload.drillEvent.drillDefinitions,i=e.payload.drillEvent,r=e.payload.drillContext,a=v?t:function(e,t=[]){const i=bu(e,Pa),r=wa(i.map((e=>{if(!(0,n.isDrillToLegacyDashboard)(e)&&Oa(e,t))return xa(e)})));return i.filter((e=>!(!(0,n.isDrillToLegacyDashboard)(e)&&!(0,n.isCrossFiltering)(e)&&!Oa(e,t)&&r.includes(xa(e)))))}(t,b);1===a.length?y(a[0],i,e.correlationId,r):a.length>1&&(g({drillDefinitions:a,drillEvent:i,drillContext:r,correlationId:e.correlationId}),p(!0))},onDrillDownSuccess:r,onDrillToInsightSuccess:a,onDrillToDashboardSuccess:o,onDrillToAttributeUrlSuccess:l,onDrillToCustomUrlSuccess:s,onError:e=>null==d?void 0:d(e.payload.error)}),y=(0,R.useCallback)(((e,t,r,a)=>{var o;const l=null!=t?t:null==u?void 0:u.drillEvent,s=null!=r?r:null==u?void 0:u.correlationId,d=null!==(o=null==a?void 0:a.insight)&&void 0!==o?o:i;l&&(oh(e)?D.drillDown.run(d,e,l,s):(0,n.isDrillToInsight)(e)?D.drillToInsight.run(e,l,s):(0,n.isDrillToDashboard)(e)?D.drillToDashboard.run(e,l,s):(0,n.isDrillToAttributeUrl)(e)?D.drillToAttributeUrl.run(e,l,s):(0,n.isDrillToCustomUrl)(e)?D.drillToCustomUrl.run(e,l,s):(0,n.isCrossFiltering)(e)&&D.crossFiltering.run(i,e,l,s),g(null),p(!1))}),[u,i]),E=`s-drill-picker-${c}`,I=u?R.createElement(YE,{locale:h},R.createElement(Rx,Object.assign({},u,{dropDownAnchorClass:E,isOpen:m,onClose:()=>{p(!1)},onSelect:y}))):null;return R.createElement("div",{className:gy("gd-drill-modal-wrapper-mask",E)},t({onDrill:D.drill.run}),I)}var jx=i(30236);const Bx=e=>{const{widget:t,insight:i}=e,r=$f(Bo);return(0,R.useMemo)((()=>{var e;if(!i)return i;const a=t.properties;if(!a)return i;const o=Object.assign(Object.assign({},a),{controls:Object.assign(Object.assign({},null==a?void 0:a.controls),{zoomInsight:!(!r.enableKDZooming||!(null===(e=null==a?void 0:a.controls)||void 0===e?void 0:e.zoomInsight))})}),l=(0,n.insightProperties)(i),s=jx({},l,o,((e,t)=>{if(Rn(e))return t}));return(0,n.insightSetProperties)(i,s)}),[i,t.properties,r])},zx=[{align:"bc tc",offset:{x:0,y:0}}],Wx=({className:e,headline:t,text:i})=>R.createElement(pb.BubbleHoverTrigger,null,R.createElement("div",{className:`info-label-icon ${e}`}),R.createElement(pb.Bubble,{alignPoints:zx},R.createElement(PE.Z,{id:t}),R.createElement("br",null),R.createElement(PE.Z,{id:i}))),Vx={height:"100%",width:"100%"},Kx=({children:e})=>R.createElement("div",{className:"gd-visualization-content",style:Vx},R.createElement("div",{className:"info-label"},R.createElement("div",{style:Vx},e))),qx=({fullContent:e})=>R.createElement(Kx,null,e?R.createElement("div",{className:"info-label-icon gd-icon-warning"},R.createElement(pb.Typography,{tagName:"h2"},R.createElement(PE.Z,{id:"visualization.execute_protected_report.headline",tagName:"span"})),R.createElement(pb.Typography,{tagName:"h2"},R.createElement(PE.Z,{id:"visualization.execute_protected_report.text",tagName:"span"}))):R.createElement(Wx,{className:"gd-icon-warning",headline:"visualization.execute_protected_report.headline",text:"visualization.execute_protected_report.text"})),Yx=({fullContent:e})=>R.createElement(Kx,null,e?R.createElement("div",{className:"info-label-icon gd-icon-rain"},R.createElement(pb.Typography,{tagName:"h2"},R.createElement(PE.Z,{id:"visualization.dataTooLarge.headline",tagName:"span"})),R.createElement(pb.Typography,{tagName:"p"},R.createElement(PE.Z,{id:"visualization.dataTooLarge.text",tagName:"span"}))):R.createElement(Wx,{className:"gd-icon-rain",headline:"visualization.dataTooLarge.headline",text:"visualization.dataTooLarge.text"})),Zx=[{align:"bc tc",offset:{x:0,y:0}}],$x=({fullContent:e})=>R.createElement("div",{className:"gd-visualization-content visualization-empty"},R.createElement("div",{className:"info-label info-label-empty"},e?R.createElement(R.Fragment,null,R.createElement("div",{className:"info-label-icon-empty"}),R.createElement(pb.Typography,{tagName:"p"},R.createElement(PE.Z,{id:"visualization.empty.headline",tagName:"span"}))):R.createElement(pb.BubbleHoverTrigger,null,R.createElement("div",{className:"info-label-icon-empty"}),R.createElement(pb.Bubble,{alignPoints:Zx},R.createElement(PE.Z,{id:"visualization.empty.headline",tagName:"span"}))))),Xx=({fullContent:e})=>R.createElement(Kx,null,e?R.createElement("div",{className:"info-label-icon gd-icon-warning"},R.createElement(pb.Typography,{tagName:"h2"},R.createElement(PE.Z,{id:"visualization.error.headline",tagName:"span"})),R.createElement(pb.Typography,{tagName:"p"},R.createElement(PE.Z,{id:"visualization.error.text",tagName:"span"}))):R.createElement(Wx,{className:"gd-icon-warning",headline:"visualization.error.headline",text:"visualization.error.text"})),Qx=({error:e,height:t,width:i,isCustomWidgetHeightEnabled:r,forceFullContent:a})=>{const n=a||!r||((e,t)=>{if(!e||!t)return!1;const i=Math.min(t,e),r=Math.max(t,e);return i>=200&&r>=380})(t,i);return(0,$.isProtectedReport)(e)?R.createElement(qx,{fullContent:n}):(0,$.isDataTooLargeToDisplay)(e)||(0,$.isDataTooLargeToCompute)(e)?R.createElement(Yx,{fullContent:n}):(0,$.isNoDataSdkError)(e)?R.createElement($x,{fullContent:n}):e?R.createElement(Xx,{fullContent:n}):null},Jx=e=>{const{insight:t,widget:i}=e,{InsightBodyComponentProvider:r}=sy(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,Object.assign({},e))},eL=(0,Do.createSelector)([zo,Bo,Vo],((e,t,i)=>({locale:e,settings:t,colorPalette:i}))),tL=(0,Do.createSelector)([qo,Wo,Gd,Xo,yc],((e,t,i,r,a)=>({mapboxToken:e,separators:t,forceDisableDrillOnAxes:!(null==i?void 0:i.length),isExportMode:r,isInEditMode:a}))),iL=e=>{var t;const{insight:i,widget:r,clientHeight:a,clientWidth:o,backend:l,workspace:s,onError:d,onDrill:c,onLoadingChanged:u,onExportReady:g,ErrorComponent:m,LoadingComponent:p}=e,h=(0,n.widgetRef)(r),{ErrorComponent:f,LoadingComponent:b}=sy({ErrorComponent:m,LoadingComponent:p}),v=(0,$.useBackendStrict)(l),D=(0,$.useWorkspaceStrict)(s),y=mb(h),{locale:E,settings:I,colorPalette:C}=$f(eL),{enableKDWidgetCustomHeight:S}=$f(Bo),w=$f(yc),T=$f(tL),[A,P]=(0,R.useState)(!1),[k,x]=(0,R.useState)(),{onRequestAsyncRender:L,onResolveAsyncRender:O}=sb((0,n.objRefToString)(h)),F=(0,R.useCallback)((({isLoading:e})=>{e?(L(),x(void 0)):O(),y.onLoadingChanged({isLoading:e}),P(e),null==u||u({isLoading:e})}),[u,y.onLoadingChanged]),{result:M,status:N,error:_}=fw(r,i),H=(0,R.useMemo)((()=>(0,n.insightSetFilters)(i,M)),[i,qr(M)]),U=Bx({insight:null!=H?H:i,widget:r}),{drillableItems:G,onDrill:j,onPushData:B}=(({widget:e,insight:t,onDrill:i})=>{var r;const a=Zf(),n=$f(Wu(e.ref)),o=$f(pl),l=null===(r=t.insight.properties.controls)||void 0===r?void 0:r.disableDrillDown,s=(0,R.useCallback)((t=>{const i=((e,t)=>e?t?e:Object.assign(Object.assign({},e),{attributes:void 0}):e)(null==t?void 0:t.availableDrillTargets,o);i&&!Pa(null==n?void 0:n.availableDrillTargets,i)&&a(Qv(e.ref,i))}),[n,e.ref,o,a]),d=$f(yc),c=$f(FD(e.ref)),u=(0,R.useMemo)((()=>d?[]:c),[d,c]),g=$f(OD(e.ref)),m=i?r=>{const a=$.DataViewFacade.for(r.dataView),n=g.filter((e=>{var t;return!(l&&"drillDown"===e.drillDefinition.type)&&(null===(t=r.drillContext.intersection)||void 0===t?void 0:t.some((t=>(0,$.isSomeHeaderPredicateMatched)(e.predicates,t.header,a))))})),o=Object.assign(Object.assign({},r),{widgetRef:e.ref,drillDefinitions:n.map((e=>e.drillDefinition))});return"function"==typeof i&&i(o,{insight:t,widget:e})}:void 0;return{drillableItems:u,onPushData:s,onDrill:m}})({widget:r,insight:i,onDrill:c}),z=function(e,t){const i=(0,n.widgetRef)(e),r=Zf(),a=$f(yc),o=(0,n.insightVisualizationType)(t);return(0,R.useCallback)((e=>{a&&function(e){var t;return!!(null===(t=null==e?void 0:e.controls)||void 0===t?void 0:t.columnWidths)}(e.properties)&&"table"===o&&r($m(i,e.properties))}),[r,i,o,a])}(r,i),W=(0,R.useCallback)((e=>{B(e),y.onPushData(e),z(e)}),[B,y.onPushData,z]),V=i&&(0,n.insightVisualizationUrl)(i).includes("headline")&&o&&o<180&&!S,K=(0,R.useCallback)((e=>{x(e),null==d||d(e),y.onError(e)}),[d,y.onError]),q=null!=_?_:k,Y=(0,R.useMemo)((()=>({width:"100%",height:"100%",position:V?"relative":"absolute"})),[V]),Z=(0,R.useMemo)((()=>A||q?{height:0}:void 0),[A,q]),X=(0,n.insightProperties)(U),Q=null===(t=null==X?void 0:X.controls)||void 0===t?void 0:t.zoomInsight;return R.createElement("div",{className:gy("visualization-content",{"in-edit-mode":w})},R.createElement("div",{className:gy("gd-visualization-content",{zoomable:Q}),style:Y},R.createElement(YE,{locale:E},"running"===N||A?R.createElement(b,null):null,q?R.createElement(Qx,{error:q,isCustomWidgetHeightEnabled:!!(null==I?void 0:I.enableKDWidgetCustomHeight),height:a,width:o}):null,"success"===N?R.createElement("div",{className:"insight-view-visualization",style:Z},R.createElement(Jx,{widget:r,insight:U,backend:v,workspace:D,drillableItems:G,onDrill:j,config:T,onLoadingChanged:F,locale:E,settings:I,colorPalette:C,onError:K,pushData:W,ErrorComponent:f,LoadingComponent:b,onExportReady:g})):null)))},rL=e=>{const{widget:t,onDrillDown:i,onDrillToInsight:r,onDrillToAttributeUrl:a,onDrillToCustomUrl:n,onDrillToDashboard:o}=e;return R.createElement(Gx,{widgetRef:t.ref,insight:e.insight,onDrillDownSuccess:i,onDrillToInsightSuccess:r,onDrillToAttributeUrlSuccess:a,onDrillToCustomUrlSuccess:n,onDrillToDashboardSuccess:o},(({onDrill:t})=>R.createElement(iL,Object.assign({},e,{onDrill:t}))))},aL=e=>(e?"https://help.gooddata.com/pages/viewpage.action?pageId=86793763&":"https://gooddata.com/?")+"utm_medium=platform&utm_source=product&utm_content=logo",nL=(0,Do.createSelector)([$o,nl,ol],((e,t,i)=>e&&"free"===t&&i)),oL=({isSmall:e})=>{const t=$f(gp),i=$f(nL),r=ab();return R.createElement(R.Fragment,null,i?R.createElement("div",{className:gy("gd-powered-by-logo-wrapper",{"gd-powered-by-logo-wrapper-small":e,"gd-powered-by-logo-wrapper-large":!e}),onClick:r.poweredByGDLogoClicked},R.createElement("a",{className:gy("gd-powered-by-logo-img",{"gd-powered-by-logo-img-small":e,"gd-powered-by-logo-img-large":!e}),href:aL(t),target:"_blank",rel:"noopener noreferrer","aria-label":"Powered by GoodData"})):null)},lL=[{align:"tc bc",offset:{x:-10,y:-5}}],sL=({showDropdown:e,toggleShowDropdown:t,exportXLSXEnabled:i,onExportXLSX:r,exportCSVEnabled:a,onExportCSV:n})=>e?R.createElement(pb.Overlay,{key:"DrillModalOptionsMenu",alignTo:".export-drilled-insight",alignPoints:lL,className:"gd-header-menu-overlay s-drill-modal-export-options",closeOnOutsideClick:!0,onClose:t},R.createElement(pb.ItemsWrapper,{smallItemsSpacing:!0},i?R.createElement(pb.Item,{onClick:r,className:"options-menu-export-xlsx s-export-drilled-insight-xlsx"},R.createElement(PE.Z,{id:"widget.options.menu.exportToXLSX"})):null,a?R.createElement(pb.Item,{onClick:n,className:"options-menu-export-csv s-export-drilled-insight-csv"},R.createElement(PE.Z,{id:"widget.options.menu.exportToCSV"})):null)):null,dL=[{align:"tc bc"}],cL=({exportAvailable:e,exportXLSXEnabled:t,onExportXLSX:i,exportCSVEnabled:r,onExportCSV:a,isLoading:n})=>{const[o,l]=(0,R.useState)(!1),s=(0,R.useCallback)((()=>l((e=>!e))),[]),d=(0,R.useCallback)((()=>{i(),l(!1)}),[i]),c=(0,R.useCallback)((()=>{a(),l(!1)}),[a]),u=!e||!t&&!r,g=(0,R.useMemo)((()=>R.createElement("button",{onClick:s,className:gy("gd-button-link-dimmed gd-button gd-icon-download export-menu-toggle-button",{disabled:u}),type:"button"},R.createElement("span",{className:"gd-button-text"},R.createElement(PE.Z,{id:"dialogs.export.submit"})))),[u,s]);return R.createElement("div",{className:gy("s-export-drilled-insight export-drilled-insight",{"is-disabled":u})},u&&!n?R.createElement(pb.BubbleHoverTrigger,null,g,R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:dL},R.createElement(PE.Z,{id:"export_unsupported.disabled"}))):R.createElement(R.Fragment,null,g,R.createElement(sL,{showDropdown:o,toggleShowDropdown:s,exportXLSXEnabled:t,exportCSVEnabled:r,onExportXLSX:d,onExportCSV:c})))};function uL(e,t){return wa([e,...t]).join("  ")}const gL=[{align:"cc tc",offset:{x:-20,y:10}}],mL=[{align:"bc tc",offset:{x:-5,y:-5}}],pL=({insightTitle:e,breadcrumbs:t,onCloseDialog:i,onBackButtonClick:r,isBackButtonVisible:a,children:n,exportAvailable:o,exportXLSXEnabled:l,exportCSVEnabled:s,onExportCSV:d,onExportXLSX:c,isLoading:u})=>{const g=$f(Bo),m=$f(pp),p=(null==g?void 0:g.enableDrilledInsightExport)&&m,h=uL(e,t);return R.createElement("div",{className:"gd-dialog gd-drill-modal-dialog s-drill-modal-dialog"},R.createElement("div",{className:"gd-dialog-header gd-dialog-header-with-border gd-drill-modal-dialog-header"},a?R.createElement(pb.BubbleHoverTrigger,null,R.createElement(pb.Button,{className:"gd-button-primary gd-button-icon-only gd-icon-navigateleft s-drill-reset-button gd-drill-reset-button",onClick:r}),R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:mL},R.createElement(PE.Z,{id:"drillModal.backToTop",tagName:"span"}))):null,R.createElement("div",{className:"gd-drill-title s-drill-title"},R.createElement(pb.ShortenedText,{tagName:"div",tooltipAlignPoints:gL,tooltipVisibleOnMouseOver:!1},h)),R.createElement(pb.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross gd-drill-close-button s-drill-close-button",onClick:i})),R.createElement("div",{className:"gd-drill-modal-dialog-content visualization"},R.createElement("div",{className:"gd-drill-modal-dialog-content-base"},n)),p?R.createElement("div",{className:"gd-drill-modal-dialog-footer gd-drill-modal-dialog-footer-with-border s-drill-modal-dialog-footer"},R.createElement(cL,{exportAvailable:o,exportXLSXEnabled:l,exportCSVEnabled:s,onExportXLSX:c,onExportCSV:d,isLoading:u})):null,R.createElement(oL,{isSmall:!0}))},hL={width:"100%",height:"100%",position:"relative",flex:"1 1 auto"},fL=(0,Do.createSelector)([zo,Bo,Vo],((e,t,i)=>({locale:e,settings:t,colorPalette:i}))),bL=(0,Do.createSelector)([qo,Wo,Gd,Xo],((e,t,i,r)=>({mapboxToken:e,separators:t,forceDisableDrillOnAxes:!i.length,isExportMode:r}))),vL=e=>{const{insight:t,widget:i,backend:r,workspace:a,onError:o,onDrill:l,onExportReady:s,onLoadingChanged:d,pushData:c,ErrorComponent:u,LoadingComponent:g}=e,m=(0,$.useBackendStrict)(r),p=(0,$.useWorkspaceStrict)(a),{locale:h,settings:f,colorPalette:b}=$f(fL),v=$f(bL),[D,y]=(0,R.useState)(!1),[E,I]=(0,R.useState)(),C=(0,R.useCallback)((({isLoading:e})=>{y(e),null==d||d({isLoading:e})}),[]),{result:S,status:w,error:T}=fw(i,t),A=(0,R.useMemo)((()=>(0,n.insightSetFilters)(t,S)),[t,S]),P=Bx({insight:null!=A?A:t,widget:i}),{drillableItems:k,onDrill:x,onPushData:L}=(({widget:e,insight:t,onDrill:i})=>{const[r,a]=(0,R.useState)(),n=(0,R.useCallback)((e=>{(null==e?void 0:e.availableDrillTargets)&&!Pa(r,e.availableDrillTargets)&&a(e.availableDrillTargets)}),[r]),o=$f(MD(r,e.ignoredDrillDownHierarchies)),l=$f(ND(r,e.ignoredDrillDownHierarchies)),s=i?r=>{const a=$.DataViewFacade.for(r.dataView),n=o.filter((e=>{var t;return null===(t=r.drillContext.intersection)||void 0===t?void 0:t.some((t=>(0,$.isSomeHeaderPredicateMatched)(e.predicates,t.header,a)))})),l=Object.assign(Object.assign({},r),{widgetRef:e.ref,drillDefinitions:n.map((e=>e.drillDefinition))});return"function"==typeof i&&i(l,{insight:t,widget:e})}:void 0;return{drillableItems:l,onPushData:n,onDrill:s}})({widget:i,insight:null!=A?A:t,onDrill:l}),O=(0,R.useCallback)((e=>{L(e),null==c||c(e)}),[L,c]),F=(0,R.useMemo)((()=>({width:"100%",height:"100%",position:t&&(0,n.insightVisualizationUrl)(t).includes("headline")?"relative":"absolute"})),[t]),M=(0,R.useCallback)((e=>{I(e),null==o||o(e)}),[o]),N=null!=T?T:E,_=(0,R.useMemo)((()=>D||N?{height:0}:void 0),[D,N]);return R.createElement("div",{style:hL},R.createElement("div",{style:F},R.createElement(YE,{locale:h},"running"===w||D?R.createElement(g,null):null,N?R.createElement(Qx,{error:N,forceFullContent:!0}):null,"success"===w?R.createElement("div",{className:"insight-view-visualization",style:_},R.createElement(Jx,{widget:i,insight:P,backend:m,workspace:p,drillableItems:k,onDrill:x,config:v,onLoadingChanged:C,locale:h,settings:f,colorPalette:b,onError:M,onExportReady:s,pushData:O,ErrorComponent:u,LoadingComponent:g})):null)))},DL=()=>{var e,t;const i=(0,kE.Fg)();return R.createElement("div",{className:"gd-loading-equalizer-wrap"},R.createElement("div",{className:"gd-loading-equalizer gd-loading-equalizer-fade"},R.createElement(pb.LoadingSpinner,{className:"large gd-loading-equalizer-spinner",color:null===(t=null===(e=null==i?void 0:i.palette)||void 0===e?void 0:e.complementary)||void 0===t?void 0:t.c9}),R.createElement(PE.Z,{id:"loading"})))},yL=pb.OverlayController.getInstance(UC),EL=[".s-sort-direction-arrow",".gd-export-dialog",".options-menu-export-xlsx",".options-menu-export-csv",`#${PC}`],IL=(0,n.idRef)("@@GDC_DRILL_MODAL"),CL=e=>{const{widget:t,locale:i,breadcrumbs:r,insight:a,onClose:o,onBackButtonClick:l,onDrillDown:s}=e,d=(0,pb.useMediaQuery)("mobileDevice"),[c,u]=(0,R.useState)(!1),g=mb(IL),{ErrorComponent:m,LoadingComponent:p}=sy({LoadingComponent:DL}),h=(0,R.useCallback)((({isLoading:e})=>{u(e),g.onLoadingChanged({isLoading:e})}),[]),f=(0,n.insightTitle)(a),{exportCSVEnabled:b,exportXLSXEnabled:v,onExportCSV:D,onExportXLSX:y}=RC({title:uL(f,r),widgetRef:IL,insight:a}),E=d?pb.FullScreenOverlay:pb.Overlay;return R.createElement(pb.OverlayControllerProvider,{overlayController:yL},R.createElement(E,{className:"gd-drill-modal-overlay",isModal:!0,closeOnEscape:!0,closeOnOutsideClick:!0,ignoreClicksOnByClass:EL,onClose:o,positionType:"fixed"},R.createElement(YE,{locale:i},R.createElement(pL,{insightTitle:f,isBackButtonVisible:r.length>1,onBackButtonClick:l,onCloseDialog:o,breadcrumbs:r,exportAvailable:v||b,exportXLSXEnabled:v,exportCSVEnabled:b,onExportXLSX:y,onExportCSV:D,isLoading:c},R.createElement(Gx,{widgetRef:t.ref,insight:e.insight,onDrillDownSuccess:s},(({onDrill:t})=>R.createElement(vL,Object.assign({},e,{onDrill:t,onLoadingChanged:h,onError:g.onError,pushData:g.onPushData,ErrorComponent:m,LoadingComponent:p}))))))))},SL=e=>{const[t,i]=(0,R.useState)([]),r=Aa(t),a=null==r?void 0:r.insight,n=e.widget,o=(0,R.useMemo)((()=>t.filter((e=>oh(e.drillDefinition))).map((e=>{var t;return null!==(t=Sx(xa(e.drillDefinition),e.drillEvent))&&void 0!==t?t:"NULL"}))),[t]),l=$f(zo),s=(0,R.useCallback)((e=>{i((t=>[...t,e]))}),[]),d=(0,R.useCallback)((()=>i((([e])=>[e]))),[]),c=(0,R.useCallback)((()=>i([])),[]),u=(0,R.useCallback)((e=>s(e.payload)),[s]),g=(0,R.useCallback)((e=>s(e.payload)),[s]);return R.createElement(R.Fragment,null,R.createElement(rL,Object.assign({},e,{onDrillDown:u,onDrillToInsight:g})),r?R.createElement(CL,{locale:l,breadcrumbs:o,widget:n,insight:a,onDrillDown:u,onBackButtonClick:d,onClose:c}):null)},wL=QD({view:e=>R.createElement(SL,Object.assign({},e)),edit:e=>R.createElement(iL,Object.assign({},e))}),TL=e=>R.createElement(Sn.InsightRenderer,Object.assign({},e)),AL=e=>{const{isOpen:t,items:i,widget:r,onClick:a}=e,o=(0,R.useCallback)((()=>{a()}),[a]);if(!i.length)return null;const l=(0,n.objRefToString)((0,n.widgetRef)(r)),s=gy("dash-item-action-options","dash-item-action-widget-options","s-dash-item-action-widget-options",`dash-item-action-widget-options-${FC.gl(l)}`,`s-dash-item-action-widget-options-${FC.gl(l)}`,{"dash-item-action-widget-options-active":t});return R.createElement("div",{className:"dash-item-action-placeholder s-dash-item-action-placeholder",onClick:o},R.createElement("div",{className:s}))},PL=e=>R.createElement(AL,Object.assign({},e)),kL=["headline","xirr"],RL=[{align:"tc bc"},{align:"tc br"}],xL=QD({view:({onClick:e,widget:t,insight:i,isOpen:r})=>{const a=(0,vI.Z)(),o=(0,R.useCallback)((()=>{e()}),[e]),l=$f(Bo),s=$f(pp),d=l.enableKPIDashboardExport,c=s,u=(g=(0,n.insightVisualizationType)(i),!kL.includes(g));var g;if(!(d&&c&&u))return null;const m=(0,n.widgetRef)(t),p=m?(0,n.objRefToString)(m):"",h=gy("dash-item-action-options","s-dash-item-action-options",`dash-item-action-options-${FC.gl(p)}`,`s-dash-item-action-options-${FC.gl(p)}`,"gd-icon-download",{"dash-item-action-options-active":r});return R.createElement("div",{className:"dash-item-action-placeholder s-dash-item-action-placeholder",onClick:o},R.createElement(pb.BubbleHoverTrigger,{className:h,showDelay:500,hideDelay:0,tagName:"div"},R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:RL},R.createElement("span",null,a.formatMessage({id:"options.button.bubble"})))))},edit:PL}),LL=e=>{const{insight:t,widget:i}=e,{InsightMenuTitleComponentProvider:r}=sy(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,Object.assign({},e))},OL={width:"100%"},FL=e=>R.createElement("div",{className:"insight-configuration"},R.createElement("div",{className:"insight-configuration-panel-header"},R.createElement(LL,{widget:e.widget,insight:e.insight,renderMode:e.renderMode}),R.createElement(pb.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:e.onClose})),R.createElement(pb.ItemsWrapper,{smallItemsSpacing:!0,style:OL},e.children)),ML=[{align:"cl cr"}],NL=e=>{const{itemId:t,itemName:i,disabled:r,icon:a,onClick:n,tooltip:o,className:l,submenu:s=!1}=e;return function(e,t,i,r){return r&&i?R.createElement(pb.BubbleHoverTrigger,{className:"s-gd-bubble-trigger-options-menu-item"},e,R.createElement(pb.Bubble,{className:`bubble-primary bubble-primary-${t} s-bubble-primary-${t}`,alignPoints:ML},r)):e}(R.createElement(pb.Item,{className:l,onClick:r?void 0:n,disabled:r,subMenu:s},R.createElement("span",{className:gy({"gd-icon-wrapper":a&&"string"!=typeof a})},a?"string"==typeof a?R.createElement("i",{className:a}):a:null,i)),t,r,o)},_L=({title:e,onHeaderClick:t})=>R.createElement(pb.Typography,{tagName:"h3",className:"configuration-panel-header-title clickable",onClick:t},R.createElement("i",{className:"gd-icon-navigateleft"}),e),HL={width:"100%"},UL=e=>R.createElement("div",{className:"configuration-panel"},R.createElement("div",{className:"configuration-panel-header"},R.createElement(_L,{title:e.title,onHeaderClick:e.onBack}),R.createElement(pb.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:e.onClose})),R.createElement("div",{className:"configuration-panel-screen",style:HL},e.children)),GL=[{align:"tr tl"},{align:"br bl"},{align:"tl tr"},{align:"tr tr"},{align:"br br"}],jL={"tr tr":"right","br br":"right"},BL={"tr tl":[20,0],"tl tr":[-20,0]},zL=e=>{const{onClose:t,isSubmenu:i,widget:r,children:a}=e,o=(0,n.objRefToString)((0,n.widgetRef)(r));return R.createElement(pb.Bubble,{alignTo:`.dash-item-action-widget-options-${FC.gl(o)}`,alignPoints:GL,arrowDirections:jL,arrowOffsets:BL,className:gy("bubble-light","gd-configuration-bubble","edit-insight-config","s-edit-insight-config","edit-insight-config-title-1-line",i?"edit-insight-config-arrow-submenu-color":"edit-insight-config-arrow-color"),closeOnOutsideClick:!0,onClose:t,overlayClassName:"gd-configuration-bubble-wrapper sdk-edit-mode-on"},a)},WL=[{align:"tr tl"},{align:"br bl"},{align:"tl tr"},{align:"tr tr"},{align:"br br"}],VL={"tr tl":[7,28],"br bl":[7,-28],"tl tr":[-7,28],"tr tr":[-76,28],"br br":[-76,-28]},KL={"tr tr":"right","br br":"right"},qL=".s-dash-item.is-selected",YL=[qL],ZL=e=>{const{children:t,classNames:i,onClose:r}=e;return R.createElement(pb.Bubble,{className:gy("bubble-light gd-configuration-bubble s-gd-configuration-bubble",i),overlayClassName:"gd-configuration-bubble-wrapper sdk-edit-mode-on",alignTo:qL,alignPoints:WL,arrowOffsets:VL,arrowDirections:KL,closeOnOutsideClick:!0,closeOnParentScroll:!1,ignoreClicksOnByClass:YL,onClose:r},t)},$L=e=>{const{children:t,onClose:i,isSubmenu:r}=e;return R.createElement(ZL,{classNames:gy("edit-insight-config","s-edit-insight-config","edit-insight-config-title-1-line",r?"edit-insight-config-arrow-submenu-color":"edit-insight-config-arrow-color"),onClose:i},t)},XL=e=>{const{items:t,widget:i,insight:r,submenu:a,setSubmenu:n,onClose:o,renderMode:l}=e;return a?R.createElement(UL,{onClose:o,title:a.itemName,onBack:()=>n(null)},R.createElement(a.SubmenuComponent,{widget:i})):R.createElement(FL,{onClose:o,widget:i,insight:r,renderMode:l},R.createElement(JL,{items:t,setSubmenu:n}))},QL=e=>{const{widget:t,onClose:i}=e,r=$f(vc),[a,n]=(0,R.useState)(null);return"edit"===r?R.createElement($L,{onClose:i,isSubmenu:!!a},R.createElement(XL,Object.assign({},e,{submenu:a,setSubmenu:n,renderMode:r}))):R.createElement(zL,{onClose:i,widget:t,isSubmenu:!!a},R.createElement(XL,Object.assign({},e,{submenu:a,setSubmenu:n,renderMode:r})))},JL=({items:e,setSubmenu:t})=>R.createElement(R.Fragment,null,e.map((e=>"separator"===e.type?R.createElement(pb.Separator,{key:e.itemId}):"submenu"===e.type?R.createElement(NL,Object.assign({key:e.itemId},e,{onClick:()=>t(e),submenu:!0})):R.createElement(NL,Object.assign({key:e.itemId},e))))),eO=e=>R.createElement(QL,Object.assign({},e)),tO=[{align:"cl cr"}],iO=({bubbleId:e,className:t,isDisabled:i,onClick:r,title:a,bubbleMessage:n=""})=>{const o=gy("gd-list-item","gd-menu-item",t,{"is-disabled":i});if(i){const t=R.createElement(pb.Item,{className:o},a);return n?R.createElement(pb.BubbleHoverTrigger,{className:"s-gd-bubble-trigger-options-menu-item"},t,R.createElement(pb.Bubble,{className:`bubble-primary bubble-primary-${e} s-bubble-primary-${e}`,alignPoints:tO},n)):t}return R.createElement(pb.Item,{className:o,onClick:r},a)},rO=[{align:"bc tr",offset:{x:2,y:0}}],aO=[`#${PC}`],nO=QD({view:({widget:e,items:t,onClose:i})=>{const r=(0,n.widgetRef)(e),a=(0,n.objRefToString)(r);return R.createElement(pb.Bubble,{alignTo:`.s-dash-item-action-options-${FC.gl(a)}`,alignPoints:rO,className:"bubble-light options-menu-bubble s-options-menu-bubble",closeOnOutsideClick:!0,ignoreClicksOnByClass:aO,onClose:i},R.createElement(pb.ItemsWrapper,{smallItemsSpacing:!0},t.map((e=>"button"!==e.type?null:R.createElement(iO,{key:e.itemId,bubbleId:e.itemId,bubbleMessage:e.tooltip,className:e.className,isDisabled:e.disabled,title:e.itemName,onClick:e.onClick})))))},edit:eO}),oO=e=>{const{title:t}=e;return R.createElement(pb.Typography,{tagName:"p",className:"insight-title s-insight-title "},R.createElement("span",{title:t,className:"original-insight-title"},t))},lO=e=>{const{widget:t,insight:i,renderMode:r}=e,a=(0,n.widgetTitle)(t),o=(0,n.insightTitle)(i),l=a!==o,s=a?R.createElement("span",{title:e.widget.title,className:"insight-title s-insight-title s-insight-title-simple"},e.widget.title):null;return R.createElement(R.Fragment,null,R.createElement(pb.Typography,{tagName:"h3",className:"widget-title s-widget-title"},s),"edit"===r&&l?R.createElement(oO,{title:o}):null)};var sO=i(31683);function dO(e){var t,i,r,a;return(0,n.isRelativeDateFilter)(e)?Object.assign(Object.assign({},(0,n.relativeDateFilterValues)(e)),{type:"relative"}):(0,n.isAbsoluteDateFilter)(e)?Object.assign(Object.assign({},(0,n.absoluteDateFilterValues)(e)),{type:"absolute"}):"relative"===e.dateFilter.type?{type:"relative",from:Number.parseInt(null!==(i=null===(t=e.dateFilter.from)||void 0===t?void 0:t.toString())&&void 0!==i?i:"0",10),to:Number.parseInt(null!==(a=null===(r=e.dateFilter.to)||void 0===r?void 0:r.toString())&&void 0!==a?a:"0",10),granularity:e.dateFilter.granularity}:{type:"absolute",from:e.dateFilter.from.toString(),to:e.dateFilter.to.toString()}}function cO(e,t,i){const r=dO(e);return"absolute"===r.type?gr.DateFilterHelpers.formatAbsoluteDateRange(r.from,r.to,i):gr.DateFilterHelpers.formatRelativeDateRange(r.from,r.to,r.granularity,t)}function uO(e){const t=dO(e);if("absolute"===t.type)return rv.alertMessageRelativePresetInPeriod.id;const i=0===t.from||0===t.to,r=-1===t.from&&-1===t.to,a=1===t.from&&1===t.to;return i||r||a?rv.alertMessageRelativePreset.id:rv.alertMessageRelativePresetInPeriod.id}const gO=({filter:e,dateFormat:t})=>{var i,r;const a=(0,vI.Z)(),o=(0,kE.Fg)(),l=function(e,t,i){return!e||(0,n.isAllTimeDateFilter)(e)?null:{intlIdRoot:uO(e),rangeText:sO(cO(e,t,i))}}(e,a,t);if(!l)return null;const{intlIdRoot:s,rangeText:d}=l;return R.createElement(PE.Z,{id:s,values:{calendarIcon:R.createElement(pb.Icon.Date,{className:"gd-icon-calendar-kpi",color:null===(r=null===(i=null==o?void 0:o.palette)||void 0===i?void 0:i.complementary)||void 0===r?void 0:r.c6}),range:R.createElement("strong",null,d)}})},mO=[{align:"tr tl",offset:{x:18,y:0}},{align:"tl tr",offset:{x:-18,y:0}},{align:"bc tc",offset:{x:0,y:18}},{align:"tc cr",offset:{x:-100,y:90}},{align:"tc cl",offset:{x:100,y:90}},{align:"tc cr",offset:{x:-50,y:90}},{align:"tc cl",offset:{x:50,y:90}}],pO=[{align:"bc tc",offset:{x:0,y:18}},{align:"bl tl",offset:{x:0,y:18}},{align:"br tr",offset:{x:0,y:18}},{align:"tc bc",offset:{x:0,y:-18}},{align:"tl bl",offset:{x:0,y:-18}},{align:"tr br",offset:{x:0,y:-18}},{align:"cc tc",offset:{x:0,y:0}},{align:"cl tl",offset:{x:0,y:0}},{align:"cr tr",offset:{x:0,y:0}}],hO=({filters:e,type:t})=>{if(!e.length)return null;const i=gy("filter-section-content",{"more-items":e.length>5});return R.createElement("div",{className:"filter-section"},R.createElement("div",{className:"filter-section-headline"},"deleted"===t?R.createElement(PE.Z,{id:"kpiAlertDialog.removedFilters"}):R.createElement(PE.Z,{id:"kpiAlertDialog.ignoredFilters"})),R.createElement("div",{className:i},e.map((e=>{const t="attribute"===(null==(r=i=e)?void 0:r.type)?{isAllSelected:i.isAllSelected,isDate:!1,selection:i.selection,selectionSize:i.selectionSize,title:i.title}:{isAllSelected:!1,isDate:!0,selection:i.dateFilterTitle,selectionSize:void 0,title:i.title};var i,r;return R.createElement("div",{className:"attribute-filter-label",key:e.title},R.createElement(pb.FilterLabel,Object.assign({},t)))}))))},fO=({brokenFilters:e})=>{const[t,i]=(0,R.useMemo)((()=>Ti(e,(e=>"deleted"===e.brokenType))),[e]);return R.createElement(R.Fragment,null,R.createElement(hO,{filters:t,type:"deleted"}),R.createElement(hO,{filters:i,type:"ignored"}))};function bO(e){const t=`${e}`.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function vO(e){return isNaN(e)?0:e}function DO(e,t,i){const r=vO(e),a=vO(t);switch(i){case"aboveThreshold":return r>a;case"underThreshold":return r<a;default:return!1}}const yO=({intl:e,onWhenTriggeredChange:t,whenTriggered:i})=>{const r=(0,R.useMemo)((()=>[{title:e.formatMessage({id:"kpiAlertDialog.threshold.above"}),id:"aboveThreshold"},{title:e.formatMessage({id:"kpiAlertDialog.threshold.below"}),id:"underThreshold"}]),[e]),a=r.find((e=>e.id===i));return R.createElement(pb.Dropdown,{className:"alert-select s-alert_select",renderButton:({toggleDropdown:e})=>R.createElement(pb.DropdownButton,{className:"dropdown-button",value:null==a?void 0:a.title,onClick:e}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"s-alert-list",width:256,items:r,itemsCount:r.length,renderItem:({item:i})=>R.createElement("div",{className:gy("gd-list-item","gd-list-item-shortened",`s-${FC.gl(i.title)}`),onClick:r=>{r.preventDefault(),t(i.id),e()}},R.createElement(pb.ShortenedText,null,i.title))})})},EO="aboveThreshold",IO=({children:e})=>e((0,pb.useMediaQuery)("mobileDevice"));class CO extends R.Component{constructor(e){var t,i;super(e),this.threshold=R.createRef(),this.saveButton=R.createRef(),this.onCloseClick=e=>{e.stopPropagation(),this.closeDialog()},this.onCancelClick=e=>{e.stopPropagation(),this.closeDialog()},this.closeDialog=()=>{this.props.onAlertDialogCloseClick()},this.onSelect=e=>{this.setState({alertType:e})},this.onChange=e=>{this.setState({threshold:e.toString()})},this.saveKpiAlert=()=>{const e=this.state.alertType;let t=parseFloat(this.state.threshold);t=this.isThresholdRepresentingPercent()?function(e){const t=bO(e),i=Math.max(t+2,0);return Tn(e)||isNaN(e)?e:An(e/100,i)}(t):t,this.isAlertValid()&&!this.isAlertEmpty()&&this.props.onAlertDialogSaveClick(t,e)},this.deleteKpiAlert=()=>{this.props.onAlertDialogDeleteClick()},this.applyAlertFilterSetting=()=>{setTimeout((()=>{var e,t;null===(t=(e=this.props).onApplyAlertFiltersClick)||void 0===t||t.call(e)}),0)},this.state={alertType:null!==(i=null===(t=e.alert)||void 0===t?void 0:t.whenTriggered)&&void 0!==i?i:EO,threshold:`${this.getVisualThreshold()}`}}componentDidMount(){this.focusThresholdInput()}componentDidUpdate(e){e.isAlertLoading&&this.focusThresholdInput()}UNSAFE_componentWillReceiveProps(e){var t,i;!this.props.isAlertLoading&&Pa(this.props.alert,e.alert)||this.setState({alertType:null!==(i=null===(t=e.alert)||void 0===t?void 0:t.whenTriggered)&&void 0!==i?i:EO,threshold:`${this.getVisualThreshold(e)}`}),this.props.isKpiFormatLoading&&this.setState({threshold:`${this.getVisualThreshold(e)}`})}render(){return R.createElement(IO,null,(e=>R.createElement(pb.Overlay,{alignTo:".is-alert-dialog.dash-item-content",alignPoints:e?pO:mO,closeOnOutsideClick:!e,onClose:this.closeDialog,className:"kpi-alert-dialog-overlay"},this.renderDialogBox())))}renderAttributeFiltersInfo(){var e;const{alert:t,filters:i}=this.props,r=t?null===(e=t.filterContext)||void 0===e?void 0:e.filters.filter(n.isDashboardAttributeFilter).length:i.filter(n.isAttributeFilter).length;return!!r&&R.createElement("div",{className:"kpi-alert-dialog-text text-info"},R.createElement(PE.Z,{id:"kpiAlertDialog.withAttributeFilters",values:{numFilters:r}}))}getVisualThreshold(e=this.props){var t,i,r;const a=null!=(null===(t=e.alert)||void 0===t?void 0:t.threshold)&&this.isThresholdRepresentingPercent(e)?function(e){const t=bO(e),i=Math.max(t-2,0);return Tn(e)||isNaN(e)?e:An(100*e,i)}(null===(i=e.alert)||void 0===i?void 0:i.threshold):null===(r=e.alert)||void 0===r?void 0:r.threshold;return null!=a?a:""}renderDialogBox(){return R.createElement("div",{className:"kpi-alert-dialog"},R.createElement("div",{className:"action-close gd-icon-cross",onClick:this.onCloseClick}),this.renderDialogContent())}renderDeleteLink(){const{alert:e,alertDeletingStatus:t,intl:i}=this.props;if(e){const e="inProgress"===t,r=e?i.formatMessage({id:"kpiAlertDialog.deleting"}):i.formatMessage({id:"kpiAlertDialog.delete"});return R.createElement(pb.Button,{key:"delete-button",className:"s-delete_button gd-button-link-dimmed delete-link",value:r,onClick:this.deleteKpiAlert,disabled:e})}return!1}renderUpdateButton(){const{alert:e,alertUpdatingStatus:t,intl:i,onAlertDialogUpdateClick:r}=this.props;if(e){const e="inProgress"===t,a=e?i.formatMessage({id:"kpiAlertDialog.updatingTitle"}):i.formatMessage({id:"kpiAlertDialog.updateBrokenTitle"});return R.createElement(pb.Button,{key:"update-button",className:"s-update-button gd-button-action save-button",value:a,onClick:r,disabled:e})}return!1}renderBrokenAlert(){return R.createElement("div",{className:"alert-broken"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"kpiAlertDialog.brokenAlert"})),R.createElement(fO,{brokenFilters:this.props.brokenAlertFilters}),R.createElement("div",{className:"info"},R.createElement(PE.Z,{id:"kpiAlertDialog.brokenAlertAppeal"})),this.renderUpdatingErrorMessage(),this.renderDeletingErrorMessage(),R.createElement("div",{className:"buttons"},this.renderUpdateButton(),this.renderDeleteLink()))}renderDialogContent(){const{isAlertDialogOpening:e,isAlertLoading:t,thresholdPlaceholder:i,isKpiFormatLoading:r,intl:a,brokenAlertFilters:n,userEmail:o}=this.props,{threshold:l,alertType:s}=this.state;if(e||t||r)return R.createElement("div",{className:"kpi-alert-dialog-content"},R.createElement(pb.Spinner,{className:"gd-dot-spinner-centered"}));if(null==n?void 0:n.length)return R.createElement("div",{className:"kpi-alert-dialog-content"},this.renderBrokenAlert());const d=this.isThresholdRepresentingPercent()?"%":"",c=!this.isAlertValid()&&!this.isAlertEmpty(),u=R.createElement("span",{className:"underline-dotted",title:o},R.createElement(PE.Z,{id:"kpiAlertDialog.emailMe"}));return R.createElement("div",{className:"kpi-alert-dialog-content"},R.createElement("div",{className:"kpi-alert-dialog-text kpi-alert-dialog-text-on-top"},R.createElement(PE.Z,{id:"kpiAlertDialog.emailMeWhen",values:{emailMe:u}})),R.createElement(yO,{whenTriggered:s,intl:a,onWhenTriggeredChange:this.onSelect}),R.createElement("div",{className:"input-container"},R.createElement(pb.Input,{className:"s-threshold-input",hasError:c,isSmall:!0,maxlength:16,onChange:this.onChange,onEscKeyPress:this.closeDialog,onEnterKeyPress:this.saveKpiAlert,placeholder:i,ref:this.threshold,suffix:d,value:l})),this.renderFiltersMessage(),this.renderFiltersDifferMessage(),this.renderValidationMessage(),this.renderSavingErrorMessage(),this.renderDeletingErrorMessage(),R.createElement("div",{className:"buttons"},R.createElement(pb.Button,{ref:this.saveButton,className:"gd-button-action save-button s-save_button",value:this.getSaveButtonTitle(),onClick:this.saveKpiAlert,disabled:!this.isSavingEnabled()}),R.createElement(pb.Button,{className:"gd-button-secondary cancel-button s-cancel_button",value:a.formatMessage({id:"cancel"}),onClick:this.onCancelClick}),this.renderDeleteLink()))}renderDateFilterInfo(){var e,t;if(this.props.isDateFilterIgnored)return!1;const{dateFormat:i,filters:r,alert:a}=this.props,o=a?null!==(t=null===(e=a.filterContext)||void 0===e?void 0:e.filters.filter(n.isDashboardDateFilter))&&void 0!==t?t:[]:r.filter(n.isDateFilter),l=Aa(o);return R.createElement(gO,{filter:l,dateFormat:i})}renderFiltersMessage(){const{intl:e,userEmail:t}=this.props,i=e.formatMessage({id:"kpiAlertDialog.emailInfo"},{userEmail:t});return R.createElement("div",null,R.createElement("div",null,R.createElement("div",{className:"kpi-alert-dialog-text text-info"},this.renderDateFilterInfo(),this.renderAttributeFiltersInfo()),R.createElement("div",{className:"kpi-alert-dialog-text email-info"},i)))}renderFiltersDifferMessage(){const e=(t=this.props.alert,i=this.props.filters,!(t&&function(e,t){var i,r,a;const o=null===(i=null==e?void 0:e.filterContext)||void 0===i?void 0:i.filters.find(n.isDashboardDateFilter),l=Aa(t.filter(n.isDateFilter));if(!o)return!l||(0,n.isAllTimeDateFilter)(l);if(!l||(0,n.isAllTimeDateFilter)(l))return!1;if((0,n.isRelativeDateFilter)(l)){const{from:e,granularity:t,to:i}=(0,n.relativeDateFilterValues)(l);return["relative"===o.dateFilter.type,(null===(r=o.dateFilter.from)||void 0===r?void 0:r.toString())===e.toString(),(null===(a=o.dateFilter.to)||void 0===a?void 0:a.toString())===i.toString(),o.dateFilter.granularity===t].every(Boolean)}{const{from:e,to:t}=(0,n.absoluteDateFilterValues)(l);return["absolute"===o.dateFilter.type,o.dateFilter.from===e,o.dateFilter.to===t].every(Boolean)}}(t,i)&&function(e,t){var i,r;const a=null!==(r=null===(i=e.filterContext)||void 0===i?void 0:i.filters.filter(n.isDashboardAttributeFilter))&&void 0!==r?r:[],o=t.filter(n.isAttributeFilter),l=a.filter((e=>!(e.attributeFilter.negativeSelection&&(0,n.attributeElementsIsEmpty)(e.attributeFilter.attributeElements)))),s=o.filter((e=>!((0,n.isNegativeAttributeFilter)(e)&&(0,n.filterIsEmpty)(e))));return s.length===l.length&&s.every((e=>{const t=(0,n.filterObjRef)(e),i=l.find((e=>(0,n.areObjRefsEqual)(e.attributeFilter.displayForm,t)));if(!i)return!1;const r=i.attributeFilter.negativeSelection===(0,n.isNegativeAttributeFilter)(e),a=(0,n.filterAttributeElements)(e),o=(0,n.isAttributeElementsByRef)(a)&&(0,n.isAttributeElementsByRef)(i.attributeFilter.attributeElements)&&Pa(Ow(i.attributeFilter.attributeElements.uris),Ow(a.uris));return r&&o}))}(t,i)));var t,i;return!(!this.props.alert||!e)&&R.createElement(pb.Message,{type:"warning"},R.createElement(PE.Z,{id:"kpiAlertDialog.filtersDiffer"}),!!this.props.onApplyAlertFiltersClick&&R.createElement(R.Fragment,null," ",R.createElement("a",{className:"s-apply-alert-filters",onClick:this.applyAlertFilterSetting},R.createElement(PE.Z,{id:"kpiAlertDialog.filtersApply"}))))}renderValidationMessage(){return!this.isAlertValid()&&!this.isAlertEmpty()&&R.createElement(pb.Message,{type:"error"},R.createElement(PE.Z,{id:"kpiAlertDialog.invalidNumber",values:{strong:e=>R.createElement("strong",null,e),br:R.createElement("br",null)}}))}renderSavingErrorMessage(){return"error"===this.props.alertSavingStatus&&R.createElement(pb.Message,{type:"error"},R.createElement(PE.Z,{id:"kpiAlertDialog.savingFailed"}))}renderUpdatingErrorMessage(){return"error"===this.props.alertUpdatingStatus&&R.createElement(pb.Message,{type:"error"},R.createElement(PE.Z,{id:"kpiAlertDialog.updateBrokenFailed"}))}renderDeletingErrorMessage(){return"error"===this.props.alertDeletingStatus&&R.createElement(pb.Message,{type:"error"},R.createElement(PE.Z,{id:"kpiAlertDialog.deleteingFailed"}))}getSaveButtonTitle(){return"inProgress"===this.props.alertSavingStatus?this.getUpdatingOrSavingTitle():this.getUpdateOrSetTitle()}getUpdateOrSetTitle(){const{alert:e,intl:t}=this.props;return e?t.formatMessage({id:"kpiAlertDialog.updateTitle"}):t.formatMessage({id:"kpiAlertDialog.setTitle"})}getUpdatingOrSavingTitle(){const{alert:e,intl:t}=this.props;return e?t.formatMessage({id:"kpiAlertDialog.updatingTitle"}):t.formatMessage({id:"kpiAlertDialog.settingTitle"})}isThresholdRepresentingPercent(e=this.props){return!!e.isThresholdRepresentingPercent}isSavingEnabled(){return this.isAlertValid()&&!this.isAlertEmpty()&&"inProgress"!==this.props.alertSavingStatus}isAlertValid(){return!isNaN(this.state.threshold)}isAlertEmpty(){return void 0===this.state.threshold||""===this.state.threshold}focusThresholdInput(){setTimeout((()=>{var e,t,i;if(null===(i=null===(t=null===(e=this.threshold)||void 0===e?void 0:e.current)||void 0===t?void 0:t.inputNodeRef)||void 0===i?void 0:i.inputNodeRef){const e=this.threshold.current.inputNodeRef.inputNodeRef;e.focus(),e.select()}}),100)}}CO.defaultProps={isAlertLoading:!1,isKpiFormatLoading:!1,thresholdPlaceholder:"",isDateFilterIgnored:!1,isThresholdRepresentingPercent:!1,filters:[],isAlertDialogOpening:!1,alertDeletingStatus:"idle",alertSavingStatus:"idle",alertUpdatingStatus:"idle"};const SO=(0,NA.ZP)(CO),wO=e=>{const{brokenAlertFiltersBasicInfo:t,backend:i,workspace:r}=e,a=(0,Ir._T)(e,["brokenAlertFiltersBasicInfo","backend","workspace"]),o=(0,vI.Z)(),l=$f(Wl),{result:s,status:d}=function({backend:e,brokenAlertFilters:t,dateDatasets:i,workspace:r,onCancel:a,onError:o,onLoading:l,onPending:s,onSuccess:d}){const c=(0,$.useBackendStrict)(e,"useBrokenAlertFiltersMeta"),u=(0,$.useWorkspaceStrict)(r,"useBrokenAlertFiltersMeta"),g=t?async()=>{const e=t.filter(k),r=Promise.all(e.map((async e=>{const{attributeFilter:t}=e.alertFilter;if(!(0,n.isAttributeElementsByRef)(t.attributeElements))throw new ur.NotSupported("Only URI attribute filters are supported in useBrokenAlertFiltersMeta");const i=t.displayForm,r=c.workspace(u).attributes(),a={elements:t.negativeSelection?void 0:c.capabilities.supportsElementUris?{uris:t.attributeElements.uris}:{primaryValues:t.attributeElements.uris},includeTotalCountWithoutFilters:!0},[o,l]=await Promise.all([r.elements().forDisplayForm(i).withLimit(20).withOptions(a).query(),r.getAttributeDisplayForm(i)]);return{elements:o,displayForm:i,title:(await r.getAttribute(l.attribute)).title}})));return{attributeFiltersMeta:(await r).reduce(((e,t)=>(e[(0,n.objRefToString)(t.displayForm)]={title:t.title,totalElementsCount:t.elements.totalCount,validElements:t.elements.items},e)),{}),dateDatasets:i.map((e=>e.dataSet))}}:null;return(0,$.useCancelablePromise)({promise:g,onCancel:a,onError:o,onLoading:l,onPending:s,onSuccess:d},[c,u,t])}({dateDatasets:l,backend:i,workspace:r,brokenAlertFilters:t}),c=(0,R.useMemo)((()=>s?function(e,t,i,r,a){return e.map((e=>{if(k(e))return function(e,t){const{alertFilter:i,brokenType:r}=e,a=t[(0,n.objRefToString)(i.attributeFilter.displayForm)],o=i.attributeFilter.negativeSelection,l=a.totalElementsCount,s=a.validElements.filter((e=>((0,n.isAttributeElementsByRef)(i.attributeFilter.attributeElements)?i.attributeFilter.attributeElements.uris.some((t=>t===e.uri)):i.attributeFilter.attributeElements.values.some((t=>t===e.title)))!==o)).map((e=>e.title)).join(", "),d=a.title,c=(0,n.attributeElementsCount)(i.attributeFilter.attributeElements);return{type:"attribute",brokenType:r,isAllSelected:o&&(0,n.attributeElementsIsEmpty)(i.attributeFilter.attributeElements),selection:s,selectionSize:o?l-c:c,title:d}}(e,a);if(P(e))return function(e,t,i,r){var a;const{alertFilter:o,brokenType:l}=e,s=cO(o,t,i),d=r.find((e=>(0,n.areObjRefsEqual)(e,o.dateFilter.dataSet)));return{type:"date",brokenType:l,dateFilterTitle:s,title:null!==(a=null==d?void 0:d.title)&&void 0!==a?a:t.formatMessage({id:"kpiAlertDialog.brokenAlertDefaultDateLabel"})}}(e,t,i,r);throw new ur.UnexpectedError("Unknown broken alert filter type.")}))}(t,o,a.dateFormat,s.dateDatasets,s.attributeFiltersMeta):null),[t,s,o,a.dateFormat]);return R.createElement(SO,Object.assign({},a,{isAlertDialogOpening:"loading"===d,brokenAlertFilters:c}))};function TO(e,t){const[i,r]=(0,R.useState)("idle"),a=Zf();return[i,(0,R.useCallback)(((...i)=>{r("inProgress"),GD(a,e(...i)).then((()=>{r("idle"),t()})).catch((()=>r("error")))}),[t])]}const AO=e=>{var{visualizationClassName:t}=e,i=(0,Ir._T)(e,["visualizationClassName"]);return R.createElement(mC,Object.assign({},i,{visualizationClassName:gy("kpi",t)}))},PO=e=>{var t,i,r,a,o,l,s;const{kpi:d}=e,c=null===(r=null===(i=null===(t=d.configuration)||void 0===t?void 0:t.description)||void 0===i?void 0:i.visible)||void 0===r||r,u=$f(Gl),g="kpi"===(null===(o=null===(a=d.configuration)||void 0===a?void 0:a.description)||void 0===o?void 0:o.source)?d.description:((e,t)=>{var i;return null===(i=e.find((e=>(0,n.areObjRefsEqual)(e.measure.ref,t))))||void 0===i?void 0:i.measure.description})(u,d.kpi.metric),m=null==g?void 0:g.trim(),p=d.ref?(0,n.objRefToString)(d.ref):"",h=ab(),f={from:"kpi",type:"kpi"===(null===(s=null===(l=d.configuration)||void 0===l?void 0:l.description)||void 0===s?void 0:s.source)?"custom":"inherit",description:m};return c&&m&&""!==m?R.createElement(NC,{className:`kpi-description-${FC.gl(p)}`,description:m,onOpen:()=>h.descriptionTooltipOpened(f)}):null},kO=[{align:"cr cl"},{align:"cl cr"}],RO=[{align:"tc bc"},{align:"tc br"}];class xO extends R.Component{constructor(){super(...arguments),this.timeouts={},this.isScrolledToHighlightedAlert=!1,this.node=R.createRef(),this.state={isKpiAlertAfterSaving:!1,isKpiAlertAfterDeleting:!1,isAlertHighlighted:!1},this.renderAlertBox=()=>{const e=function(e,t,i){if(!e.dateDataSet)return!1;const r=Aa(t.filter(n.isDateFilter));if(!r||(0,n.isAllTimeDateFilter)(r))return!1;if(null==i?void 0:i["kpi.alerting.useAfmExecutor"])return(0,n.isAbsoluteDateFilter)(r);{if(!(0,n.isRelativeDateFilter)(r))return!0;const{from:e,to:t}=(0,n.relativeDateFilterValues)(r);return-1===t&&e!==t}}(this.props.kpi,this.props.filters,this.props.userWorkspaceSettings),t=gy("dash-item-action","dash-item-action-alert","s-dash-item-action-alert","gd-icon-bell",{"alert-set":this.state.isKpiAlertAfterSaving,"alert-deleted":this.state.isKpiAlertAfterDeleting});return this.props.isReadOnlyMode||!this.props.canSetAlert||e&&!this.props.alert?R.createElement(pb.BubbleHoverTrigger,{showDelay:0,hideDelay:0,tagName:"div",className:gy(t,"disabled")},R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:kO},this.getBubbleMessage(e))):R.createElement("div",{onClick:this.onAlertDialogOpenClick},R.createElement(pb.BubbleHoverTrigger,{className:t,showDelay:500,hideDelay:0,tagName:"div"},R.createElement(pb.Bubble,{className:"bubble-primary",alignPoints:RO},R.createElement(PE.Z,{id:"kpi.alertBox.title"}))))},this.onAlertDialogOpenClick=()=>{this.props.onAlertDialogOpenClick()}}componentDidMount(){this.props.isAlertHighlighted&&this.updateStatePropertyForTime("isAlertHighlighted",5e3)}UNSAFE_componentWillReceiveProps(e){this.isKpiAlertSaved(e)&&this.updateStatePropertyForTime("isKpiAlertAfterSaving",1e3),this.isKpiAlertDeleted(e)&&this.updateStatePropertyForTime("isKpiAlertAfterDeleting",1e3),!this.props.isAlertHighlighted&&e.isAlertHighlighted&&this.updateStatePropertyForTime("isAlertHighlighted",5e3)}componentDidUpdate(){if(this.props.isAlertHighlighted&&!this.isScrolledToHighlightedAlert){this.isScrolledToHighlightedAlert=!0;const e=this.node.current;e&&window.scrollTo(0,function(e){var t;if(!e.getClientRects().length)return 0;const i=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;return i.top+(null!==(t=null==r?void 0:r.pageYOffset)&&void 0!==t?t:0)}(e))}}componentWillUnmount(){this.clearUpdatingTimeout()}updateStatePropertyForTime(e,t){const{isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a}=this.state;this.clearUpdatingTimeout(e),this.setState({isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a,[e]:!0}),this.timeouts[e]=setTimeout((()=>{this.setState({isKpiAlertAfterSaving:i,isKpiAlertAfterDeleting:r,isAlertHighlighted:a,[e]:!1})}),t)}clearUpdatingTimeout(e){e&&this.timeouts[e]?(clearTimeout(this.timeouts[e]),delete this.timeouts[e]):(Object.keys(this.timeouts).forEach((e=>clearTimeout(this.timeouts[e]))),this.timeouts={})}isKpiAlertSaved(e){return!this.state.isKpiAlertAfterSaving&&"inProgress"===this.props.alertSavingStatus&&"idle"===e.alertSavingStatus}isKpiAlertDeleted(e){return!this.state.isKpiAlertAfterDeleting&&"inProgress"===this.props.alertDeletingStatus&&"idle"===e.alertDeletingStatus}getClassNames(){var e;const{kpiAlertResult:t}=this.props,i=(0,$.isNoDataSdkError)(this.props.alertExecutionError)||void 0!==(null==t?void 0:t.measureResult);return{content:gy(this.props.contentClassName,{"is-alert-dialog":this.props.isAlertDialogOpen,"has-set-alert":!!this.props.alert,"is-alert-triggered":i&&(null===(e=this.props.alert)||void 0===e?void 0:e.isTriggered)&&!this.props.suppressAlertTriggered,"is-alert-broken":i&&this.props.isAlertBroken,"is-alert-highlighted":this.state.isAlertHighlighted,"is-alert-evaluating":this.props.isAlertExecutionLoading}),kpi:gy(this.props.kpiClassName,"s-dashboard-kpi-component","widget-loaded","visualization",{"kpi-with-pop":"none"!==this.props.kpi.kpi.comparisonType,"content-loading":this.props.isLoading,"content-loaded":!this.props.isLoading})}}getBubbleMessage(e){const{isReadOnlyMode:t}=this.props;return t?R.createElement(PE.Z,{id:"kpi.alertBox.disabledInReadOnly"}):e?R.createElement(PE.Z,{id:"visualization.alert_not_supported"}):R.createElement(PE.Z,{id:"kpi.alertBox.unverifiedEmail"})}render(){const e=this.getClassNames();return R.createElement(AO,{contentClassName:e.content,visualizationClassName:e.kpi,contentRef:this.node,renderAfterContent:()=>this.props.isAlertDialogOpen&&this.props.renderAlertDialog(),renderBeforeVisualization:()=>{var e;return!this.props.suppressDescriptionTrigger&&(null===(e=this.props.userWorkspaceSettings)||void 0===e?void 0:e.enableDescriptions)?R.createElement(PO,{kpi:this.props.kpi}):null},renderHeadline:e=>R.createElement(R.Fragment,null,this.renderAlertBox(),this.props.renderHeadline(e)),isSelectable:this.props.isSelectable,isSelected:this.props.isSelected,onSelected:this.props.onSelected},this.props.children)}}function LO(e){const{primaryMeasure:t,backend:i,effectiveFilters:r,secondaryMeasure:a,workspace:n,shouldLoad:o}=e,l=(0,$.useExecutionDataView)({backend:i,workspace:n,execution:o?{seriesBy:wa([t,a]),filters:r}:void 0});return(0,R.useMemo)((()=>"error"===l.status&&(0,$.isNoDataSdkError)(l.error)&&(0,ur.isNoDataError)(l.error.cause)&&l.error.cause.dataView?{result:$.DataViewFacade.for(l.error.cause.dataView),error:void 0,status:"success"}:l),[l])}xO.defaultProps={isAlertHighlighted:!1,filters:[],alertDeletingStatus:"idle",alertSavingStatus:"idle",alertUpdatingStatus:"idle",suppressAlertTriggered:!1,suppressDescriptionTrigger:!1,isReadOnlyMode:!1};var OO=i(81763);function FO(e){if(!e)return null;const t=e.dataPoints()[0].rawValue;return Tn(t)?null:OO(t)?t:Number.parseFloat(t)}function MO(e,t,i,r){return(null==e?void 0:e.dataView.totalCount[0])?function(e,t,i,r){const a=null==e?void 0:e.data({valueFormatter:(0,$.createNumberJsFormatter)(r)}).series(),n=null==a?void 0:a.firstForMeasure(t);if(i&&2!==(null==e?void 0:e.meta().measureDescriptors().length))return;const o=i?null==a?void 0:a.firstForMeasure(i):void 0;return n?{measureDescriptor:n.descriptor.measureDescriptor,measureFormat:n.measureFormat(),measureResult:FO(n),measureForComparisonResult:FO(o)}:void 0}(e,t,i,r):function(e,t){var i,r;if(e)return{measureDescriptor:e.meta().measureDescriptor((0,n.measureLocalId)(t)),measureFormat:null===(r=null===(i=e.meta().measureDescriptor((0,n.measureLocalId)(t)))||void 0===i?void 0:i.measureHeaderItem)||void 0===r?void 0:r.format,measureResult:void 0,measureForComparisonResult:void 0}}(e,t)}function NO(e){if((0,n.isAttributeFilter)(e)){const t=(0,n.filterAttributeElements)(e);if(!(0,n.isAttributeElementsByRef)(t))throw new ur.NotSupported("Attribute filter with text values is not supported. Please provide element uris instead.");return{attributeFilter:{negativeSelection:(0,n.isNegativeAttributeFilter)(e),displayForm:(0,n.filterObjRef)(e),attributeElements:t}}}if((0,n.isAbsoluteDateFilter)(e))return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:e.absoluteDateFilter.from,to:e.absoluteDateFilter.to,dataSet:e.absoluteDateFilter.dataSet}};if((0,n.isRelativeDateFilter)(e)){if(!(0,n.isDateFilterGranularity)(e.relativeDateFilter.granularity))throw new ur.NotSupported("Unsupported date filter granularity! Please provide valid date filter granularity. (Check DateFilterGranularity type)");return{dateFilter:{type:"relative",granularity:e.relativeDateFilter.granularity,from:e.relativeDateFilter.from,to:e.relativeDateFilter.to,dataSet:e.relativeDateFilter.dataSet}}}throw new ur.NotSupported("Unsupported filter type! Please provide valid dashboard filter.")}function _O(e){if(!(0,n.isDashboardDateFilter)(e))return e;const t=e.dateFilter,{dataSet:i}=t;return{dateFilter:(0,Ir._T)(t,["dataSet"])}}var HO=i(94537),UO=i(19670),GO=i(46431),jO=i(61305),BO=i(45220);const zO="";function WO(e,t,i){const r=jO.X.convertValue(e),{formattedValue:a}=jO.X.formatValue(r,t,i);return a}function VO(e,t){const i=jO.X.convertValue(e),{nullConditionFormatter:r}=jO.X.formatValue(i,t);return BO(e)&&!r}const KO=zO;class qO extends R.PureComponent{getKpiValueClassNames(){return gy("kpi-value",{"is-smallest-height":this.props.enableCompactSize&&this.props.clientHeight&&this.props.clientHeight<54,"is-error-value":!this.props.isLoading&&!!this.props.error,"is-empty-value":!this.props.isLoading&&this.isValueUnhandledNull()})}getKpiCustomHeightStyles(){if(this.props.enableCompactSize){const{height:e}=(0,GO.r6)(this.props.hasComparison,this.props.clientHeight);return{height:`${e}px`,lineHeight:`${e}px`}}}render(){return this.props.enableCompactSize&&!this.props.clientHeight?null:R.createElement(HO.Z,{style:this.getKpiCustomHeightStyles(),className:this.getKpiValueClassNames()},R.createElement(UO.Z,{classNames:"kpi-animation",timeout:300,title:this.getTitle()},this.renderValue()))}renderValue(){const{isLoading:e,error:t,disableKpiDrillUnderline:i,enableCompactSize:r,clientHeight:a,intl:n}=this.props;if(e)return R.createElement(pb.LoadingDots,{className:"kpi-value-loading gd-loading-dots-centered"});const o=t?n.formatMessage({id:"error"}):this.renderFormattedValue(),l=gy("kpi-value-value","s-kpi-value",{"kpi-link-style-underline":!i});if(r){if(!a)return R.createElement(pb.LoadingDots,{className:"kpi-value-loading gd-loading-dots-centered"});const{fontSize:e}=(0,GO.r6)(this.props.hasComparison,a);return R.createElement("div",{style:{fontSize:`${e}px`}},R.createElement(pb.ResponsiveText,null,R.createElement("span",{className:l},o)))}return R.createElement(pb.ResponsiveText,null,R.createElement("span",{className:l},o))}renderFormattedValue(){return this.isValueUnhandledNull()?KO:WO(this.props.value,this.props.format,this.props.separators)}isValueUnhandledNull(){var e;return VO(this.props.value,null!==(e=this.props.format)&&void 0!==e?e:"")}getTitle(){const{intl:e}=this.props;return this.props.isLoading?"":this.props.error&&this.props.errorHelp?this.props.errorHelp:this.isValueUnhandledNull()?e.formatMessage({id:"kpi.noData"}):""}}qO.defaultProps={error:null,value:"",isLoading:!1,disableKpiDrillUnderline:!1};const YO=(0,NA.ZP)(qO),ZO=999;function $O(e,t){if(BO(e)&&BO(t))return zO;const i=function(e,t){const i=e||0,r=t||0;if(0===i&&r>0)return Number.POSITIVE_INFINITY;if(0===i&&r<0)return Number.NEGATIVE_INFINITY;if(0===i&&0===r)return 0;const a=Math.abs(i/100),n=r-i;return Math.round(n/a)}(e,t);return i>ZO?">999%":i<-999?"<-999%":`${i}%`}var XO=i(60968),QO=i(78258);const JO=zO;class eF extends R.PureComponent{constructor(){super(...arguments),this.kpiSectionItemNode=R.createRef(),this.renderPercentage=()=>{const e=this.props.disabled||this.props.error?{trend:"neutral",meaning:"neutral",percentage:zO}:function(e,t,i){const r=function(e,t){const i=e||0,r=t||0;return i===r?"neutral":i<r?"up":"down"}(e,t),a=function(e,t){return"neutral"===e?"neutral":function(e,t){return"up"===e&&"growIsGood"===t||"down"===e&&"growIsBad"===t}(e,t)?"positive":function(e,t){return"up"===e&&"growIsBad"===t||"down"===e&&"growIsGood"===t}(e,t)?"negative":"neutral"}(r,i);return{trend:r,meaning:a,percentage:$O(e,t)}}(this.props.previousPeriodValue,this.props.currentPeriodValue,this.props.meaning),t=this.props.isLoading?"":e.percentage;return R.createElement("dl",{className:"gd-flex-item kpi-pop-section-item kpi-pop-change headline-compare-section-item headline-tertiary-item"},R.createElement("div",{className:"headline-value-wrapper s-headline-value-wrapper"},R.createElement(pb.ResponsiveText,{title:t,tagClassName:`is-kpi-${e.meaning}`,tagName:"dt"},this.renderPercentageValue(e))),R.createElement("dd",null,R.createElement(PE.Z,{id:"kpiPop.change"})))},this.renderPreviousPeriod=()=>R.createElement("dl",{className:"gd-flex-item kpi-pop-section-item kpi-pop-period headline-compare-section-item headline-secondary-item",title:this.renderFormattedValue()},R.createElement(pb.ResponsiveText,{tagName:"dt"},this.renderPreviousPeriodValue()),this.renderPreviousPeriodName())}render(){const{enableCompactSize:e,clientHeight:t,clientWidth:i}=this.props;return(0,GO.vW)(e,i,t)?R.createElement("div",{className:"gd-flex-container headline-compare-section headline-paginated-compare-section"},R.createElement(XO.u,{renderSecondaryItem:this.renderPreviousPeriod,renderTertiaryItem:this.renderPercentage})):R.createElement("div",{className:this.getKpiSectionClassName()},this.renderPercentage(),this.renderPreviousPeriod())}renderPercentageValue(e){return!this.props.isLoading&&R.createElement(R.Fragment,null,R.createElement("span",{className:gy(`gd-icon-trend-${e.trend}`,"gd-kpi-trend-icon")}),R.createElement("span",null,e.percentage))}renderPreviousPeriodName(){return!!this.props.previousPeriodName&&R.createElement("dd",{className:"headline-title-wrapper",ref:this.kpiSectionItemNode,title:this.props.previousPeriodName},this.props.previousPeriodName)}renderPreviousPeriodValue(){return this.props.isLoading?"":this.props.error?this.formatMessage("error"):this.renderFormattedValue()}renderFormattedValue(){var e;const t=this.props.previousPeriodValue;return this.props.disabled||VO(t,null!==(e=this.props.format)&&void 0!==e?e:"")?JO:WO(t,this.props.format,this.props.separators)}getKpiSectionClassName(){const{clientWidth:e}=this.props,t=this.kpiSectionItemNode.current,i="gd-flex-container headline-compare-section",r=(0,QO.A)(e);return t&&r?`${i} ${r}`:i}formatMessage(e){return this.props.intl.formatMessage({id:e})}}eF.defaultProps={error:null,disabled:!1,isLoading:!1,previousPeriodName:"",clientWidth:0,clientHeight:0,enableCompactSize:!1};const tF=(0,NA.ZP)(eF),iF=(0,jf.b)(LE.Z);class rF extends R.Component{renderPeriodOverPeriod(e,t){var i,r;if("none"===this.props.kpi.kpi.comparisonType)return!1;const{kpiResult:a,enableCompactSize:o}=this.props,l=function(e){const t=e.dateDataSet,i=!!t&&function(e,t){return e.ignoreDashboardFilters.some((e=>(0,n.isDashboardDateFilterReference)(e)&&(0,n.areObjRefsEqual)(e.dataSet,t)))}(e,t);return!t||i}(this.props.kpi),s=this.props.filters.every((e=>!(0,n.isDateFilter)(e)||(0,n.isAllTimeDateFilter)(e))),d=((e,t,i)=>"lastYear"===t?i.formatMessage({id:"filters.allTime.lastYear"}):(0,n.isRelativeDateFilter)(e)&&!(0,n.isAllTimeDateFilter)(e)?((e,t)=>{const{from:i,to:r,granularity:a}=(0,n.relativeDateFilterValues)(e),o=Math.abs(r-i)+1;switch(a){case"GDC.time.minute":return t.formatMessage({id:"filters.minute.previousPeriod"},{n:o});case"GDC.time.hour":return t.formatMessage({id:"filters.hour.previousPeriod"},{n:o});case"GDC.time.date":return t.formatMessage({id:"filters.day.previousPeriod"},{n:o});case"GDC.time.week_us":return t.formatMessage({id:"filters.week.previousPeriod"},{n:o});case"GDC.time.month":return t.formatMessage({id:"filters.month.previousPeriod"},{n:o});case"GDC.time.quarter":return t.formatMessage({id:"filters.quarter.previousPeriod"},{n:o});case"GDC.time.year":return t.formatMessage({id:"filters.year.previousPeriod"},{n:o});default:return""}})(e,i):(e=>e.formatMessage({id:"filters.allTime.previousPeriod"}))(i))(this.props.filters.find(n.isDateFilter),this.props.kpi.kpi.comparisonType,this.props.intl),c=s||l,u=(0,$.isGoodDataSdkError)(this.props.error)&&this.props.error.message===$.ErrorCodes.NO_DATA,g=(0,n.isKpiWithComparison)(this.props.kpi.kpi)?this.props.kpi.kpi.comparisonDirection:void 0;return R.createElement(tF,{disabled:c,isLoading:this.props.isLoading,currentPeriodValue:null!==(i=null==a?void 0:a.measureResult)&&void 0!==i?i:null,previousPeriodValue:null!==(r=null==a?void 0:a.measureForComparisonResult)&&void 0!==r?r:null,previousPeriodName:d,format:null==a?void 0:a.measureFormat,error:u?void 0:this.props.error,separators:this.props.separators,meaning:g,enableCompactSize:o,clientWidth:e,clientHeight:t})}renderValue(e){var t;const{kpiResult:i,isKpiValueClickDisabled:r,onKpiValueClick:a,enableCompactSize:n,kpi:o}=this.props,l=(0,$.isGoodDataSdkError)(this.props.error)&&this.props.error.message===$.ErrorCodes.NO_DATA,s="none"!==o.kpi.comparisonType,d=R.createElement(YO,{isLoading:this.props.isLoading,error:l?void 0:this.props.error,errorHelp:this.props.errorHelp,value:null!==(t=null==i?void 0:i.measureResult)&&void 0!==t?t:null,format:null==i?void 0:i.measureFormat,separators:this.props.separators,disableKpiDrillUnderline:this.props.isKpiUnderlineHiddenWhenClickable,enableCompactSize:n,clientHeight:e,hasComparison:s});return a?r?R.createElement("span",{className:"kpi-link s-kpi-link-nonclickable"},d):R.createElement("a",{className:"kpi-link s-kpi-link-clickable",onClick:this.props.onKpiValueClick},d):d}render(){return R.createElement("div",{className:"gd-kpi-widget-content"},R.createElement("div",{className:gy("visualization-content",{"in-edit-mode":this.props.isInEditMode})},R.createElement(iF,{client:!0},(({measureRef:e,contentRect:t})=>{var i,r,a;return R.createElement("div",{className:"gd-visualization-content",ref:e},R.createElement("div",{className:"headline"},this.renderValue(null===(i=t.client)||void 0===i?void 0:i.height),this.renderPeriodOverPeriod(null===(r=t.client)||void 0===r?void 0:r.width,null===(a=t.client)||void 0===a?void 0:a.height)))}))))}}rF.defaultProps={isKpiValueClickDisabled:!1,filters:[],isKpiUnderlineHiddenWhenClickable:!1};const aF=(0,NA.ZP)(rF),nF=({disableDrillUnderline:e,onDrill:t,isDrillable:i,isKpiValueClickDisabled:r,kpi:a,kpiResult:n,filters:o,separators:l,enableCompactSize:s,error:d,errorHelp:c,isLoading:u})=>{const g=$f(yc),m=(0,R.useCallback)((()=>{var e;if(i&&t)return t({type:"headline",element:"primaryValue",value:null===(e=null==n?void 0:n.measureResult)||void 0===e?void 0:e.toString(),intersection:(null==n?void 0:n.measureDescriptor)?[{header:n.measureDescriptor}]:[]})}),[null==n?void 0:n.measureResult,null==n?void 0:n.measureDescriptor,i,t]);return R.createElement(aF,{isLoading:!!u,kpi:a,kpiResult:n,isKpiUnderlineHiddenWhenClickable:e,onKpiValueClick:i&&t?m:void 0,isKpiValueClickDisabled:r,filters:o,separators:l,enableCompactSize:s,error:d,errorHelp:c,isInEditMode:g})},oF=pb.OverlayController.getInstance(6e3),lF=(0,R.memo)((e=>{const{dashboardRef:t,kpiWidget:i,backend:r,workspace:a,primaryMeasure:o,secondaryMeasure:l,effectiveFilters:s,alert:d,separators:c,disableDrillUnderline:u,isReadOnly:g,onDrill:m,onError:h,onFiltersChange:f}=e,b=(0,vI.Z)(),v=(0,n.widgetRef)(i),{error:D,result:y,status:E}=LO({backend:r,workspace:a,primaryMeasure:o,secondaryMeasure:l,effectiveFilters:s,shouldLoad:!0}),I="loading"===E||"pending"===E,C=$f(kg),S=$f(Dp),w=$f(Bo),T=$f(vl),A=$f(il),P=$f(Gd),k=$f(PD(v)),x=$f(Rb(v)),L=$f(xb(v)),O=Zf(),F=(0,R.useCallback)((()=>{O(Ha.openKpiAlertDialog(v))}),[v,O]),M=(0,R.useCallback)((()=>{O(Ha.closeKpiAlertDialog())}),[O]),{result:N}=((e,t)=>{const i=$f(nd),{run:r,result:a,status:n,error:o}=rb({queryCreator:ag}),l=a;return(0,R.useEffect)((()=>{e.ref&&r(e.ref)}),[t,e,i]),{result:l,status:n,error:o}})(i,d),_=!!(null==N?void 0:N.length),H=mb((0,n.widgetRef)(i));(0,R.useEffect)((()=>{D&&(null==h||h(D)),D&&H.onError(D)}),[D]),(0,R.useEffect)((()=>{y&&(y.rawData().isEmpty()?H.onError(new $.NoDataSdkError):H.onSuccess(y.result(),y.warnings()))}),[y]);const U=(0,R.useCallback)((e=>!!m&&m({dataView:null==y?void 0:y.dataView,drillContext:e,drillDefinitions:i.drills,widgetRef:(0,n.widgetRef)(i)})),[m,y,i]),G=(e=>{const[t,i]=TO(Sv,e),[r,a]=TO(wv,e),[n,o]=TO(Tv,e);return{onCreateAlert:i,creatingStatus:t,onUpdateAlert:a,updatingStatus:r,onRemoveAlert:(0,R.useCallback)((e=>{o([e.ref])}),[o]),removingStatus:n}})(M),j=S,{onRequestAsyncRender:B,onResolveAsyncRender:z}=sb((0,n.objRefToString)((0,n.widgetRef)(i)));(0,R.useEffect)((()=>{I?B():z(),H.onLoadingChanged({isLoading:!!I})}),[I,B,z]);const{kpiAlertDialogClosed:W,kpiAlertDialogOpened:V}=ab(),K=MO(y,o,l,c),q=function(e,t,i){const r=null==e?void 0:e.data({valueFormatter:(0,$.createNumberJsFormatter)(i)}).series();return r?{measureFormat:r.count?r.firstForMeasure(t).measureFormat():void 0,measureResult:r.count?FO(r.firstForMeasure(t)):0}:void 0}(y,o,c),Y=I,Z=D,{isThresholdRepresentingPercent:X,thresholdPlaceholder:Q}=(0,R.useMemo)((()=>function(e,t){const i=!!(null==e?void 0:e.measureFormat)&&(0,n.isMeasureFormatInPercent)(e.measureFormat),r=An((null==e?void 0:e.measureResult)||0,2);return{isThresholdRepresentingPercent:i,thresholdPlaceholder:i?`${t.formatMessage({id:"kpi.alertBox.example"})} ${100*r}`:`${t.formatMessage({id:"kpi.alertBox.example"})} ${r}`}}(K,b)),[K,b]),J=(0,$.convertDrillableItemsToPredicates)(P),ee=(null==K?void 0:K.measureDescriptor)&&y&&(0,$.isSomeHeaderPredicateMatched)(J,K.measureDescriptor,y)||k.length>0,te="inProgress"===G.creatingStatus||"inProgress"===G.updatingStatus?"inProgress":"error"===G.creatingStatus||"error"===G.updatingStatus?"error":"idle",{isSelectable:ie,isSelected:re,onSelected:ae}=nv(v),ne=m&&U;return R.createElement(pb.OverlayControllerProvider,{overlayController:oF},R.createElement(xO,{kpi:i,alert:d,filters:s,userWorkspaceSettings:w,kpiResult:K,renderHeadline:e=>R.createElement(TC,{title:i.title,clientHeight:e}),kpiAlertResult:q,canSetAlert:j,isReadOnlyMode:g,alertExecutionError:null!=Z?Z:_?new $.NoDataSdkError:void 0,isLoading:I,isAlertLoading:!1,isAlertExecutionLoading:Y,isAlertBroken:_,isAlertDialogOpen:x,isAlertHighlighted:L,onAlertDialogOpenClick:()=>{V(!!d),F()},renderAlertDialog:()=>R.createElement(wO,{alert:d,dateFormat:A,userEmail:C.email,onAlertDialogCloseClick:()=>{W(),M()},onAlertDialogDeleteClick:()=>{G.onRemoveAlert(d)},onAlertDialogSaveClick:(e,i)=>{var r,a;return d?G.onUpdateAlert(Object.assign(Object.assign({},d),{threshold:e,whenTriggered:i,isTriggered:DO(q.measureResult,e,i)})):((0,p.kG)(t,"attempting to create alert of an unsaved dashboard"),G.onCreateAlert({dashboard:t,widget:v,threshold:e,whenTriggered:i,isTriggered:DO(null!==(r=null==K?void 0:K.measureResult)&&void 0!==r?r:0,e,i),filterContext:{title:"filterContext",description:"",filters:null!==(a=null==s?void 0:s.map(NO).map(_O))&&void 0!==a?a:[]},description:"",title:""}))},onAlertDialogUpdateClick:()=>{var e,t;return G.onUpdateAlert(Object.assign(Object.assign({},d),{isTriggered:DO(null!==(e=null==K?void 0:K.measureResult)&&void 0!==e?e:0,d.threshold,d.whenTriggered),filterContext:Object.assign(Object.assign({},d.filterContext),{filters:null!==(t=null==s?void 0:s.map(NO).map(_O))&&void 0!==t?t:[]})}))},onApplyAlertFiltersClick:f?()=>{var e,t;return f(Id(null!==(t=null===(e=null==d?void 0:d.filterContext)||void 0===e?void 0:e.filters)&&void 0!==t?t:[],i),!0)}:void 0,isAlertLoading:Y,alertDeletingStatus:G.removingStatus,alertSavingStatus:te,alertUpdatingStatus:te,filters:s,isThresholdRepresentingPercent:X,thresholdPlaceholder:Q,brokenAlertFiltersBasicInfo:N,backend:r,workspace:a}),alertDeletingStatus:G.removingStatus,alertSavingStatus:te,isSelectable:ie,isSelected:re,onSelected:ae},(()=>R.createElement(nF,{kpi:i,kpiResult:K,filters:null!=s?s:[],disableDrillUnderline:u,isDrillable:ee,onDrill:ne,separators:c,enableCompactSize:T,error:D,errorHelp:b.formatMessage({id:"kpi.error.view"}),isLoading:I}))))}));function sF({kpiWidget:e,dashboardFilters:t}){const{status:i,result:r,error:a}=fw(e),o=r,l=$f(es);if(!e||"pending"===i)return{status:"pending",error:void 0,result:void 0};if("error"===i)return{status:"error",error:a,result:void 0};if("rejected"===i)return{status:"error",error:new $.UnexpectedSdkError("Getting filter settings for a KPI widget failed."),result:void 0};if("running"===i)return{status:"loading",error:void 0,result:void 0};const s=Id(t,e),d=(0,n.newMeasure)(e.kpi.metric),c=function(e,t,i,r){const a=e.kpi.comparisonType,o=!(null==i?void 0:i.some((e=>(0,n.isDateFilter)(e)&&!(0,n.isAllTimeDateFilter)(e))));if("none"!==a&&!o&&e.dateDataSet){if("previousPeriod"===a)return(0,n.newPreviousPeriodMeasure)(t,[{dataSet:e.dateDataSet,periodsAgo:1}]);if("lastYear"===a){const i=r.get(e.dateDataSet);(0,p.kG)(i,"Cannot find relevant date dataset in useKpiData");const a=i.dateAttributes.find((e=>"GDC.time.year"===e.granularity));return(0,p.kG)(a,"Cannot find yearAttribute in useKpiData"),(0,n.newPopMeasure)(t,a.attribute.ref)}(0,p.kG)(!1,`Unknown comparison ${a}`)}}(e,d,o,l);return{status:"success",error:void 0,result:{primaryMeasure:d,secondaryMeasure:c,effectiveFilters:o,allFilters:s}}}const dF=e=>{const{kpiWidget:t,alert:i,onFiltersChange:r,onDrill:a,onError:n,backend:o,workspace:l,ErrorComponent:s,LoadingComponent:d}=e;(0,p.kG)(t.kpi,"The provided widget is not a KPI widget.");const{ErrorComponent:c,LoadingComponent:u}=sy({ErrorComponent:s,LoadingComponent:d}),g=(0,$.useBackendStrict)(o),m=(0,$.useWorkspaceStrict)(l),h=$f(Gc),f=$f(nd),b=$f(Il),v=$f(Wo),D=$f(Zo),y=sF({kpiWidget:t,dashboardFilters:f});return"loading"===y.status||"pending"===y.status?R.createElement(u,null):"error"===y.status?R.createElement(c,{message:y.error.message}):R.createElement(lF,{dashboardRef:h,kpiWidget:t,primaryMeasure:y.result.primaryMeasure,secondaryMeasure:y.result.secondaryMeasure,alert:i,allFilters:y.result.allFilters,effectiveFilters:y.result.effectiveFilters,onFiltersChange:r,onDrill:a,onError:n,separators:v,disableDrillUnderline:b,backend:g,workspace:m,LoadingComponent:u,isReadOnly:D})};function cF(e){const t=$f(Jo),{run:i}=Hx(),{run:r}=Lx({onSuccess:e=>{!t&&e.payload.drillEvent.drillDefinitions[0]&&i(e.payload.drillEvent.drillDefinitions[0],e.payload.drillEvent,e.correlationId)}});return(0,R.useCallback)((t=>{r(t,{widget:e})}),[r,e])}const uF=e=>{const{kpiWidget:t}=e,i=cF(t);return R.createElement(dF,Object.assign({},e,{onDrill:i}))},gF=({title:e,onTitleChange:t,onTitleEditingEnd:i,onTitleEditingStart:r,clientHeight:a})=>{const n=Math.max(e.length,35);return R.createElement(SC,{clientHeight:a},R.createElement(bT,{text:e,originalTitle:e,maxLength:n,onTitleChange:t,onTitleEditingStart:r,onTitleEditingCancel:i}))},mF=QD({view:e=>R.createElement(uF,Object.assign({},e)),edit:e=>{const{kpiWidget:t,backend:i,workspace:r,ErrorComponent:a,LoadingComponent:o,onError:l}=e,s=(0,vI.Z)(),{ErrorComponent:d,LoadingComponent:c,KpiWidgetComponentSet:u}=sy({ErrorComponent:a,LoadingComponent:o}),g=u.configuration.WidgetConfigPanelComponent,{isChangingMeasure:m,titleToShow:p}=function(e){const[t,i]=(0,R.useState)(),r=$f(rs),a=r.get(e.kpi.metric),o=t&&r.get(t),{registerHandler:l,unregisterHandler:s}=Y();(0,R.useEffect)((()=>{const t={eval:t=>be(t)&&"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE"===t.payload.command.type&&(0,n.areObjRefsEqual)(t.payload.command.payload.ref,e.ref),handler:e=>{i(e.payload.command.payload.measureRef)}},r={eval:t=>Qe(t)&&(0,n.areObjRefsEqual)(t.payload.ref,e.ref)||De(t)&&"GDC.DASH/CMD.KPI_WIDGET.CHANGE_MEASURE"===t.payload.command.type&&(0,n.areObjRefsEqual)(t.payload.command.payload.ref,e.ref),handler:()=>{i(void 0)}};return l(t),l(r),()=>{s(t),s(r)}}),[e.ref,l,s]);const d=!!t;return{isChangingMeasure:d,titleToShow:d&&e.title===(null==a?void 0:a.measure.title)&&o?o.measure.title:e.title}}(t),h=(0,$.useBackendStrict)(i),f=(0,$.useWorkspaceStrict)(r),b=$f(nd),{error:v,result:D,status:y}=sF({kpiWidget:t,dashboardFilters:b}),{primaryMeasure:E,secondaryMeasure:I,effectiveFilters:C}=null!=D?D:{},S=$f(vl),w=$f(Wo),T=$f(Il),A=t.drills.length>0,P=!$f(sD),k=Zf(),x=$f(dc((0,n.widgetRef)(t))),L=(0,R.useCallback)((()=>{k(Ha.openKpiDeleteDialog(x))}),[k,x]),O=$f(rs).get(t.kpi.metric),F=(0,R.useCallback)((e=>{e?k(Hv(t.ref,{title:e})):O&&k(Hv(t.ref,{title:O.measure.title}))}),[O,k,t.ref]),{error:M,result:N,status:_}=LO({backend:h,workspace:f,primaryMeasure:E,secondaryMeasure:I,effectiveFilters:C,shouldLoad:"success"===y}),H=m||"loading"===_||"pending"===_||"loading"===y||"pending"===y,U=mb((0,n.widgetRef)(t)),{isSelectable:G,isSelected:j,onSelected:B,hasConfigPanelOpen:z}=nv((0,n.widgetRef)(t)),W=$f($o),V=$f(Jo),K=j&&!W&&!V,q=cF(t),Z=(0,R.useCallback)((e=>q({dataView:null==N?void 0:N.dataView,drillContext:e,drillDefinitions:t.drills,widgetRef:(0,n.widgetRef)(t)})),[q,N,t]),X=(0,R.useCallback)((()=>k(Ha.setConfigurationPanelOpened(!1))),[k]),Q=(0,R.useMemo)((()=>{if(g&&j&&z)return function(){return R.createElement(ZL,{onClose:X},R.createElement(g,{widget:t}))}}),[g,z,j,t,X]);(0,R.useEffect)((()=>{M&&(null==l||l(M),U.onError(M))}),[M,U,l]),(0,R.useEffect)((()=>{N&&(N.rawData().isEmpty()?U.onError(new $.NoDataSdkError):U.onSuccess(N.result(),N.warnings()))}),[N,U]);const J=(0,R.useMemo)((()=>MO(N,E,I,w)),[E,N,I,w]);return R.createElement(AO,{visualizationClassName:gy("s-dashboard-kpi-component","widget-loaded","visualization",{"kpi-with-pop":"none"!==t.kpi.comparisonType,"content-loading":H,"content-loaded":!H,"is-editable":P}),contentClassName:gy({"is-editable":P}),renderBeforeContent:Q,renderAfterContent:()=>j?R.createElement("div",{className:"dash-item-action dash-item-action-delete gd-icon-trash",onClick:L}):null,renderHeadline:e=>R.createElement(gF,{title:p,clientHeight:e,onTitleChange:F}),isSelectable:G,isSelected:j,onSelected:B},(()=>{var e;return"loading"===y||"pending"===y?R.createElement(c,null):"error"===y?R.createElement(d,{message:v.message}):R.createElement(nF,{kpi:t,kpiResult:J,filters:null!==(e=null==D?void 0:D.effectiveFilters)&&void 0!==e?e:[],separators:w,enableCompactSize:S,error:M,errorHelp:s.formatMessage({id:"kpi.error.view"}),isLoading:H,onDrill:Z,isDrillable:A,isKpiValueClickDisabled:!K,disableDrillUnderline:T})}))}});function pF(e){const{ListItemComponent:t,listItemComponentProps:i,insight:r}=e,a=e.WrapInsightListItemWithDragComponent;return R.createElement(a,{insight:r},R.createElement(t,Object.assign({},i)))}const hF=e=>{const{className:t}=e;return R.createElement("div",{className:t},R.createElement(pb.InsightListItem,Object.assign({},e)))},fF=e=>{const{WrapInsightListItemWithDragComponent:t,className:i,isLocked:r,title:a,description:n,showDescriptionPanel:o,type:l,updated:s,insight:d,onDescriptionPanelOpen:c,metadataTimeZone:u}=e;return R.createElement(pF,{WrapInsightListItemWithDragComponent:t,ListItemComponent:hF,listItemComponentProps:{className:i,isLocked:r,title:a,description:n,type:l,updated:s,showDescriptionPanel:o,onDescriptionPanelOpen:c,metadataTimeZone:u},insight:d})};function bF({item:e}){var t;const i=e.insight,r=(0,n.insightVisualizationType)(i);return R.createElement(hF,{className:"move-insight-placeholder",type:r,title:(0,n.insightTitle)(i),updated:null!==(t=(0,n.insightUpdated)(i))&&void 0!==t?t:(0,n.insightCreated)(i),isLocked:(0,n.insightIsLocked)(i)})}function vF(e){return{MainComponentProvider:e,dragging:{DraggingComponent:bF,type:"insight"},configuration:{WidgetConfigPanelComponent:()=>null}}}function DF({item:e}){return R.createElement("div",{className:"move-kpi-placeholder"},R.createElement(pb.ShortenedText,null,e.title))}const yF=[{align:"bl tl"},{align:"tl bl"}],EF={lastYear:(0,iv.Em)({id:"configurationPanel.comparisonTypeItems.samePeriodInPreviousYear"}),none:(0,iv.Em)({id:"configurationPanel.comparisonTypeItems.noComparison"}),previousPeriod:(0,iv.Em)({id:"configurationPanel.comparisonTypeItems.previousPeriod"})},IF=(0,iv.Em)({id:"configurationPanel.selectComparisonPlaceholder"}),CF=["previousPeriod","lastYear","none"],SF=e=>{const{comparisonType:t,onComparisonTypeChanged:i}=e,r=(0,vI.Z)(),a=t?r.formatMessage(EF[t]):r.formatMessage(IF);return R.createElement(pb.Dropdown,{alignPoints:yF,closeOnParentScroll:!0,closeOnMouseDrag:!0,className:"s-compare_with_select",renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(pb.DropdownButton,{title:a,value:a,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"configuration-dropdown comparison-list",width:204,items:CF,renderItem:({item:a})=>{const n=t===a;return R.createElement(pb.SingleSelectListItem,{title:r.formatMessage(EF[a]),isSelected:n,onClick:()=>{i(a),e()}})}})})},wF=[{align:"bl tl"},{align:"tl bl"}],TF={growIsBad:(0,iv.Em)({id:"configurationPanel.comparisonDirectionItems.red"}),growIsGood:(0,iv.Em)({id:"configurationPanel.comparisonDirectionItems.green"})},AF=(0,iv.Em)({id:"configurationPanel.selectComparisonDirectionPlaceholder"}),PF=["growIsGood","growIsBad"],kF=e=>{const{comparisonDirection:t,onComparisonDirectionChanged:i}=e,r=(0,vI.Z)(),a=t?r.formatMessage(TF[t]):r.formatMessage(AF);return R.createElement("div",null,R.createElement(PE.Z,{id:"configurationPanel.increasingNumberIs",tagName:"label"}),R.createElement(pb.Dropdown,{alignPoints:wF,className:"s-growing_number_is",renderButton:({isOpen:e,toggleDropdown:i})=>R.createElement(pb.DropdownButton,{title:a,value:a,className:t?`type-${t}`:"",isOpen:e,onClick:i}),closeOnParentScroll:!0,closeOnMouseDrag:!0,renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{className:"configuration-dropdown growing-number-is-list",width:204,items:PF,renderItem:({item:a})=>{const n=t===a;return R.createElement(pb.SingleSelectListItem,{title:r.formatMessage(TF[a]),isSelected:n,onClick:()=>{i(a),e()}})}})}))},RF=e=>{const{widget:t}=e,i=(0,n.widgetRef)(t),r=t.kpi.comparisonDirection,a=t.kpi.comparisonType,o=Zf(),l=(0,R.useCallback)((e=>{o(Yv(i,{comparisonDirection:r,comparisonType:e}))}),[o,i,r]),s=(0,R.useCallback)((e=>{o(Yv(i,{comparisonType:a,comparisonDirection:e}))}),[o,i,a]);return R.createElement("div",null,R.createElement(PE.Z,{id:"configurationPanel.compareWith",tagName:"label"}),R.createElement(SF,{comparisonType:a,onComparisonTypeChanged:l}),!!r&&R.createElement(kF,{comparisonDirection:r,onComparisonDirectionChanged:s}))},xF=e=>{const{widget:t}=e,i=(0,n.widgetRef)(t),{status:r,run:a,result:o}=rb({queryCreator:mm});(0,R.useEffect)((()=>{a(t.kpi.metric)}),[a,t.kpi.metric]);const l=$f(Mb),s=$f(Hb(i)),d=Zf(),{run:c}=Jf({commandCreator:zv,successEvent:"GDC.DASH/EVT.KPI_WIDGET.FILTER_SETTINGS_CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onError:()=>{d(Ha.setWidgetLoadingAdditionalDataStopped(i)),d(Ha.setWidgetDateDatasetAutoSelect(!1))},onSuccess:()=>{d(Ha.setWidgetLoadingAdditionalDataStopped(i))}});(0,R.useEffect)((()=>{l&&c(i,"default")}),[l,iC(i),c]);const{handleDateDatasetChanged:u,shouldOpenDateDatasetPicker:g}=JC(null==o?void 0:o.dateDatasets);return R.createElement("div",{className:"gd-kpi-date-dataset-dropdown"},R.createElement(QC,{widget:t,dateFilterCheckboxDisabled:!1,isDatasetsLoading:"running"===r||"pending"===r||s,relatedDateDatasets:null==o?void 0:o.dateDatasetsOrdered,shouldPickDateDataset:l,shouldOpenDateDatasetPicker:g,isLoadingAdditionalData:s,onDateDatasetChanged:u}))},LF=[{align:"cl cr",offset:{x:-10,y:0}}],OF=({item:e,isSelected:t,unlistedTitle:i,unlistedIconTitle:r,isMobile:a,onClick:n})=>{if(!e)return null;const o=!!(null==e?void 0:e.unlisted)&&R.createElement("span",{title:r,className:"gd-icon-16 gd-icon-unlisted"}),l=(null==e?void 0:e.unlisted)?i:e.title,s=gy(`s-${FC.gl(l)}`,{"gd-list-item":!0,"gd-list-item-shortened":!0,"is-selected":t}),d=a?l:R.createElement(pb.ShortenedText,{tooltipAlignPoints:LF},l);return R.createElement("div",{key:e.id,className:s,onClick:n},d,o)},FF=[{align:"bl tl"}],MF=e=>{var t,i;const{onSelect:r,bodyClassName:a,selectedItems:o,openOnInit:l}=e,s=(0,vI.Z)(),d=(0,R.useRef)(null),[c,u]=(0,R.useState)(""),g=$f(Gl),m=$f(yl),p=(0,R.useRef)(FS((e=>{u(e)}),250)),[h]=o,f=h?g.find((e=>(0,n.areObjRefsEqual)(e.measure.ref,o[0]))):void 0,b=null!==(i=null===(t=null==f?void 0:f.measure)||void 0===t?void 0:t.title)&&void 0!==i?i:s.formatMessage({id:"configurationPanel.selectMeasurePlaceholder"}),v=(0,R.useCallback)((e=>{e&&c&&u("")}),[c]),D=(0,R.useMemo)((()=>c?g.filter((e=>e.measure.title.toLowerCase().includes(c.toLowerCase()))):g),[g,c]),y=(e=>{const t=window.innerHeight,i=d.current?d.current.getBoundingClientRect().bottom:0,r=Math.min(t-i-58,294,28*e);return Math.max(28,r)})(D.length)||294;return R.createElement(pb.Dropdown,{alignPoints:FF,className:"s-metric_select",closeOnMouseDrag:!0,closeOnParentScroll:!0,openOnInit:l,ignoreClicksOnByClass:[".dash-content"],onOpenStateChanged:v,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement("div",{ref:d},R.createElement(pb.DropdownButton,{className:m?"type-metric":"type-measure",isSmall:!0,value:b,isOpen:e,onClick:t})),renderBody:({closeDropdown:e})=>R.createElement("div",{className:gy(a,"metrics-dropdown")},R.createElement(pb.DropdownList,{items:D,searchFieldSize:"small",showSearch:!0,onSearch:p.current,searchString:c,height:y,width:204,disableAutofocus:!0,renderItem:({item:t})=>R.createElement(OF,{item:t.measure,isSelected:!!h&&(0,n.areObjRefsEqual)(h,t.measure.ref),unlistedTitle:s.formatMessage({id:"configurationPanel.unlistedMetric"}),unlistedIconTitle:s.formatMessage({id:"configurationPanel.unlistedMetricIconTitle"}),onClick:()=>{r(t.measure),e()}})}))})},NF=e=>{const{widget:t,onMeasureChange:i}=e,r=(0,$.useWorkspaceStrict)(),a=null==t?void 0:t.kpi.metric,[n,o]=(0,R.useState)(a),l=(0,R.useMemo)((()=>n?[n]:[]),[n]),s=(0,R.useCallback)((e=>{i(e.ref),o(e.ref)}),[i]);return(0,R.useEffect)((()=>{o(a)}),[iC(a)]),R.createElement(MF,{workspace:r,openOnInit:!a,bodyClassName:"configuration-dropdown metrics-list s-metrics-list",selectedItems:l,onSelect:s})},_F=e=>{const{onCloseButtonClick:t}=e;return R.createElement("div",{className:"configuration-panel-header"},R.createElement(pb.Typography,{tagName:"h3",className:"configuration-panel-header-title"},R.createElement(PE.Z,{id:"configurationPanel.title"})),R.createElement(pb.Button,{className:"gd-button-link gd-button-icon-only gd-icon-cross configuration-panel-header-close-button s-configuration-panel-header-close-button",onClick:t}))},HF=e=>{const{numberOfAlerts:t}=e;return t?R.createElement("div",{className:"warning s-alert-edit-warning"},R.createElement(pb.Message,{type:"warning"},R.createElement(PE.Z,{id:"configurationPanel.breakAlertWarning",values:{numAlerts:t}}))):null},UF=[{align:"bl tl"},{align:"tl bl"}],GF=e=>{const{isDisabled:t=!1,isOpen:i=!1,value:r="",selection:a,title:n="",onClick:o}=e;let l;if(a)l=R.createElement(pb.DropdownButton,{title:n,value:r,onClick:o,isOpen:i});else{const e=gy("gd-button-secondary","gd-button-small","gd-icon-add",{"is-focus":i});l=R.createElement(pb.Button,{onClick:o,title:n,className:e,value:r,disabled:t})}return R.createElement("div",{className:"s-drill_to_select"},l)},jF=e=>{var t,i;const{widget:r}=e,a=(0,vI.Z)(),o=Zf(),l=(0,R.useCallback)((e=>{o($v((0,n.widgetRef)(r),e.dashboardRef,e.identifier))}),[o,r]),s=(0,R.useCallback)((()=>{o(Xv((0,n.widgetRef)(r)))}),[o,r]),d=$f(Ah),c=null===(i=null===(t=r.drills)||void 0===t?void 0:t[0])||void 0===i?void 0:i.tab,u={title:a.formatMessage({id:"configurationPanel.unlistedDashboardTab"})},g=(0,R.useMemo)((()=>{if(!d)return[];const e=Ow(d,(e=>e.title));return Oi(e,(e=>[{title:e.title,identifier:e.identifier,dashboardRef:e.ref,type:"header"},...e.tabs.map((t=>({title:t.title,identifier:t.identifier,dashboardRef:e.ref,type:void 0})))]))}),[d]),m=null==g?void 0:g.find((e=>e.identifier===c)),p=c?m||u:null,h=p?p.title:a.formatMessage({id:"configurationPanel.selectDashboard"});return R.createElement("div",{className:"drill-to-dropdown-container"},R.createElement(pb.Dropdown,{className:"drill-to-dropdown s-drill-to-dropdown",closeOnParentScroll:!0,closeOnMouseDrag:!0,alignPoints:UF,renderButton:({isOpen:e,toggleDropdown:t})=>R.createElement(GF,{title:h,value:h,selection:p,isOpen:e,onClick:t}),renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{isLoading:!d,renderNoData:({hasNoMatchingData:e})=>R.createElement(pb.NoData,{hasNoMatchingData:e,noDataLabel:a.formatMessage({id:"configurationPanel.noLinkableDashboards"})}),className:"configuration-dropdown s-drill-to-list",width:181,items:g,renderItem:({item:t})=>{const i=p&&p.title===t.title;return R.createElement(pb.SingleSelectListItem,{title:t.title,isSelected:!!i,type:t.type,onClick:()=>{l(t),e()}})}})}),c?R.createElement(pb.Button,{className:"gd-button-link-dimmed gd-button-icon-only gd-icon-cross button-remove-drill-to s-button-remove-drill-to",onClick:s}):null)},BF=e=>$f(El)?null:R.createElement(jF,Object.assign({},e)),zF=(e,t,i)=>{if(!e.visible)return{config:"none",description:""};const r="metric"===e.source;return{config:e.source,description:r?i:t}};function WF(e){var t,i;const{descriptionConfig:r,kpi:a,metrics:o,setDescriptionConfiguration:l,isKpiDescriptionEnabled:s,setKpiDescription:d}=e,c=(0,vI.Z)(),u=(0,R.useMemo)((()=>[{id:"metric",title:c.formatMessage({id:"configurationPanel.visualprops.inheritDescription"}),info:c.formatMessage({id:"configurationPanel.visualprops.inheritKpiDescriptionHelp"})},{id:"kpi",title:c.formatMessage({id:"configurationPanel.visualprops.customDescription"}),info:c.formatMessage({id:"configurationPanel.visualprops.customKpiDescriptionHelp"})},{id:"none",title:c.formatMessage({id:"configurationPanel.visualprops.noneDescription"})}]),[c]),g=null!==(t=((e,t)=>{var i;return null===(i=e.find((e=>(0,n.areObjRefsEqual)(e.measure.ref,t))))||void 0===i?void 0:i.measure.description})(o,a.kpi.metric))&&void 0!==t?t:"",[m,p]=(0,R.useState)(zF(r,a.description,g)),[h,f]=(0,R.useState)(a.description),b=(0,R.useCallback)((e=>{d(a,e),p((t=>Object.assign(Object.assign({},t),{description:e}))),f(e)}),[a,d,p]),v=(0,R.useCallback)((e=>{let t;"none"===e?(t={visible:!1,source:"metric"},p(zF(t,"",""))):(t={visible:!0,source:e},p(zF(t,"kpi"===e?h:"",g))),l(a,t),"kpi"===e&&d(a,null!=h?h:""),"none"!==e&&"metric"!==e||d(a,"")}),[a,g,l,d,h]);return R.createElement(R.Fragment,null,s?R.createElement("div",{className:"configuration-category s-description-configuration description-configuration-section"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"configurationPanel.visualprops.sectionDescription"})),R.createElement(pb.Dropdown,{closeOnParentScroll:!0,renderBody:({closeDropdown:e})=>R.createElement(pb.DropdownList,{items:u,renderItem:({item:t})=>R.createElement(pb.SingleSelectListItem,{title:t.title,info:t.info,isSelected:t.id===m.config,onClick:()=>{v(t.id),e()}})}),renderButton:({openDropdown:e,isOpen:t})=>{var i;return R.createElement(pb.DropdownButton,{value:null===(i=u.find((e=>e.id===m.config)))||void 0===i?void 0:i.title,isOpen:t,onClick:e,className:"description-config-dropdown-button s-description-config-dropdown-button"})}}),"kpi"===m.config||"metric"===m.config?R.createElement(sS,{description:null!==(i=m.description)&&void 0!==i?i:"",setDescription:b,readOnly:"metric"===m.config}):null):null)}const VF=e=>{var t;const{widget:i,onMeasureChange:r,onClose:a}=e,o=i&&(0,n.widgetRef)(i),l=null==i?void 0:i.kpi.metric,{run:s,result:d,status:c}=rb({queryCreator:ng});(0,R.useEffect)((()=>{o&&s(o)}),[iC(o)]);const u=gy("configuration-category",{"s-widget-alerts-information-loaded":"success"===c}),g=gy("configuration-panel","configuration-panel-kpi","s-configuration-scrollable-panel"),m=gy({"is-disabled":!l}),p=$f(Bo),h=$f(Gl),f=$f($o),b=$f(hl),v=Zf();return R.createElement(R.Fragment,null,R.createElement(_F,{onCloseButtonClick:a}),R.createElement(pb.ScrollablePanel,{className:g},R.createElement("div",{className:u},R.createElement(HF,{numberOfAlerts:d}),R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"configurationPanel.measure"})),R.createElement(NF,{widget:i,onMeasureChange:r}),!!i&&R.createElement(WF,{kpi:i,metrics:h,isKpiDescriptionEnabled:p.enableDescriptions||!1,descriptionConfig:(null===(t=i.configuration)||void 0===t?void 0:t.description)||{source:"metric",visible:!0},setDescriptionConfiguration:(e,t)=>{v(Gv(e.ref,Object.assign(Object.assign({},e.configuration),{description:t})))},setKpiDescription:(e,t)=>{v(Uv(e.ref,{description:t}))}}),R.createElement(pb.Typography,{tagName:"h3",className:m},R.createElement(PE.Z,{id:"configurationPanel.filterBy"})),!!i&&R.createElement(R.Fragment,null,R.createElement(xF,{widget:i}),R.createElement(nS,{widget:i})),R.createElement(pb.Typography,{tagName:"h3",className:m},R.createElement(PE.Z,{id:"configurationPanel.comparison"})),!!i&&R.createElement(RF,{widget:i}),f&&b?null:R.createElement(R.Fragment,null,R.createElement(pb.Typography,{tagName:"h3",className:m},R.createElement(PE.Z,{id:"configurationPanel.drillIntoDashboard"})),!!i&&R.createElement(BF,{widget:i})))))},KF=e=>{const{widget:t,onClose:i}=e,r=Zf(),a=$f(Bo),n=$f(rs),{itemIndex:o,sectionIndex:l}=$f(dc(t.ref)),s=Jf({commandCreator:uv,errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",successEvent:"GDC.DASH/EVT.FLUID_LAYOUT.ITEM_REPLACED",onSuccess:e=>{const t=e.payload.items[0].widget.ref;r(Ha.selectWidget(t)),r(Ha.setConfigurationPanelOpened(!0))}}),d=(0,R.useCallback)((e=>{const t=n.get(e);(0,p.kG)(t,"Invalid measure when creating a KPI");const i=qn(a,"kpi");s.run(l,o,{type:"IDashboardLayoutItem",size:{xl:{gridHeight:i.height.default,gridWidth:i.width.default}},widget:{type:"kpi",description:"",drills:[],ignoreDashboardFilters:[],kpi:{comparisonType:"previousPeriod",metric:e,comparisonDirection:"growIsGood"},title:t.measure.title,dateDataSet:void 0}})}),[n,a,s,l,o]);return R.createElement(VF,{onMeasureChange:d,onClose:i})},qF=e=>{const{widget:t,screen:i}=e;(0,p.kG)(wd(t));const r=Zf(),{itemIndex:a,sectionIndex:n}=$f(dc(t.ref)),{isSelectable:o,isSelected:l}=nv(t.ref),s=(0,R.useRef)(l);(0,R.useEffect)((()=>{l&&(s.current=!0)}),[l]),(0,R.useEffect)((()=>{s.current&&!l&&r(bv(n,a))}),[r,l,a,n]);const d=(0,R.useCallback)((()=>{r(Ha.setConfigurationPanelOpened(!1)),r(bv(n,a))}),[r,a,n]);return R.createElement(aC,{className:"is-selected is-placeholder is-edit-mode",screen:i},R.createElement(dC,{isSelected:l,isSelectable:o},R.createElement(ZL,{onClose:d},R.createElement(KF,{widget:t,onClose:d})),R.createElement("div",{className:"kpi-placeholder select-measure"})))},YF={type:"kpi-placeholder",size:{gridHeight:Sn.KPI_WIDGET_SIZE_INFO_DEFAULT.height.default,gridWidth:Sn.KPI_WIDGET_SIZE_INFO_DEFAULT.width.default}},ZF=({CreatePanelItemComponent:e,WrapCreatePanelItemWithDragComponent:t,disabled:i})=>R.createElement(vx,{Component:e,WrapCreatePanelItemWithDragComponent:t,disabled:i,dragItem:YF,hideDefaultPreview:!1}),$F=({disabled:e})=>R.createElement("div",{className:gy("add-item-placeholder","add-kpi-placeholder","s-add-kpi",{disabled:e})},R.createElement(PE.Z,{id:"addPanel.kpi"})),XF=[{align:"cr cl",offset:{x:-20,y:0}}],QF=e=>{const{WrapCreatePanelItemWithDragComponent:t}=e,i=$f(jl),r=$f(Qo),a=!i,n=a&&R.createElement("div",null,R.createElement(PE.Z,{id:"addPanel.kpi.tooltip.no_measures"}),"",!r&&R.createElement("a",{href:"https://help.gooddata.com/pages/viewpage.action?pageId=86794662#DataCataloginAnalyticalDesigner-AdditemstoDataCatalog",rel:"noopener noreferrer",target:"_blank",className:"s-add-kpi-tooltip-link"},R.createElement(PE.Z,{id:"addPanel.kpi.tooltip.no_measures.link"})));return R.createElement(pb.BubbleHoverTrigger,{eventsOnBubble:!0,className:"s-add-kpi-bubble-trigger"},R.createElement(ZF,{CreatePanelItemComponent:$F,WrapCreatePanelItemWithDragComponent:t,disabled:a}),n?R.createElement(pb.Bubble,{alignPoints:XF},n):null)},JF=e=>{var t;const{widget:i}=e,r=Zf(),a=i.kpi.metric,o=null===(t=$f(rs).get(a))||void 0===t?void 0:t.measure.title,l=(0,R.useCallback)((e=>{r(jv((0,n.widgetRef)(i),e,o===(0,n.widgetTitle)(i)?"from-measure":void 0))}),[r,i,o]),s=(0,R.useCallback)((()=>r(Ha.setConfigurationPanelOpened(!1))),[r]);return R.createElement(VF,{widget:i,onMeasureChange:l,onClose:s})};function eM(e){return{MainComponentProvider:e,creating:{CreatingPlaceholderComponent:qF,CreatePanelListItemComponent:QF,type:"kpi-placeholder",priority:5},dragging:{DraggingComponent:DF,type:"kpi"},configuration:{WidgetConfigPanelComponent:JF}}}const tM=e=>{const{LayoutComponent:t}=sy();return R.createElement(t,Object.assign({},e))},iM={ConflictingIdentifiers:(0,iv.Em)({id:"filters.config.warning.conflictingIdentifiers"}),NO_CONFIG:(0,iv.Em)({id:"filters.config.warning.workspace.notAvailable"}),NoVisibleOptions:(0,iv.Em)({id:"filters.config.warning.allOptionsHidden"}),SelectedOptionInvalid:(0,iv.Em)({id:"filters.config.warning.selectedFilterNotValid"}),TOO_MANY_CONFIGS:(0,iv.Em)({id:"filters.config.warning.multipleWorkspacesConfigs"})},rM=Object.assign(Object.assign({},iM),{NO_CONFIG:(0,iv.Em)({id:"filters.config.warning.notAvailable"}),TOO_MANY_CONFIGS:(0,iv.Em)({id:"filters.config.warning.multipleProjectConfigs"})}),aM=new Set(["NoVisibleOptions","SelectedOptionInvalid"]),nM=(0,Do.createSelector)(kc,Vc,((e,t)=>t?e:e.filter((e=>!aM.has(e))))),oM=()=>{const e=$f(yc),t=$f(nM),i=$f(Dl)?iM:rM;return e&&t.length>0?R.createElement(pb.Message,{type:"warning",contrast:!0,className:"gd-date-filter-config-warning-message"},R.createElement("ul",{className:"gd-date-filter-config-warning-message-items"},t.map((e=>{const t=i[e];return t?R.createElement("li",{key:e},R.createElement(PE.Z,{id:t.id})):null})))):null},lM=e=>{const t=lb(Bh),{deselectWidgets:i}=nv(),{handleDragHoverEnd:r}=zI(),[{isOver:a},n]=rE(["insight","insight-placeholder","insightListItem","kpi","kpi-placeholder"],{});return(0,R.useEffect)((()=>{a||r()}),[r,a]),R.createElement("div",{className:"gd-flex-container root-flex-maincontent",ref:n,onClick:i},R.createElement(oM,null),R.createElement(tM,{onFiltersChange:t}))},sM=()=>{const{closeDialog:e,dialogConfig:t,isOpen:i}=ty(),r=(0,vI.Z)(),{onClose:a}=t,n=(0,R.useCallback)((()=>{null==a||a(),e()}),[a,e]);return i?R.createElement(pb.ExportDialog,Object.assign({},t,{headline:r.formatMessage({id:"dialogs.export.headline"}),cancelButtonText:r.formatMessage({id:"cancel"}),submitButtonText:r.formatMessage({id:"dialogs.export.submit"}),filterContextText:r.formatMessage({id:"dialogs.export.includeFilters"}),filterContextTitle:r.formatMessage({id:"dialogs.export.filters"}),mergeHeadersText:r.formatMessage({id:"dialogs.export.mergeHeaders"}),mergeHeadersTitle:r.formatMessage({id:"dialogs.export.cells"}),onClose:n,onCancel:e})):null},dM=e=>{const{TopBarComponent:t}=sy();return R.createElement(t,Object.assign({},e))},cM=e=>{const{SaveAsDialogComponent:t}=sy();return R.createElement(t,Object.assign({},e))},uM=e=>{const{FilterBarComponent:t}=sy();return R.createElement(t,Object.assign({},e))},gM=e=>{const{ShareDialogComponent:t}=sy();return R.createElement(t,Object.assign({},e))},mM=()=>{const{backend:e,workspace:t,isShareDialogOpen:i,persistedDashboard:r,currentUser:a,onCloseShareDialog:n,onApplyShareDialog:o,onErrorShareDialog:l,onInteractionShareDialog:s,isLockingSupported:d,isCurrentUserWorkspaceManager:c,dashboardPermissions:u}=(()=>{const e=Zf(),{addSuccess:t,addError:i}=(0,pb.useToastMessage)(),{shareDialogInteraction:r}=ab(),a=$f(Ib),n=$f(Nc),o=$f(kg),l=$f(gp),s=$f(mD),d=(0,$.useBackendStrict)(),c=(0,$.useWorkspaceStrict)(),{run:u}=Jf({commandCreator:pi,successEvent:"GDC.DASH/EVT.SHARING.CHANGED",errorEvent:"GDC.DASH/EVT.COMMAND.FAILED",onSuccess:()=>{t(rv.messagesSharingChangedSuccess)},onError:()=>{i(rv.messagesSharingChangedError)}}),g=(0,R.useCallback)((()=>e(Ha.closeShareDialog())),[e]);return{backend:d,workspace:c,isShareDialogOpen:a,persistedDashboard:n,currentUser:o,onCloseShareDialog:(0,R.useCallback)((()=>{g()}),[g]),onApplyShareDialog:(0,R.useCallback)((e=>{g(),u(e)}),[g,u]),onErrorShareDialog:(0,R.useCallback)((()=>{e(Ha.closeShareDialog()),i(rv.messagesSharingDialogError)}),[e,i]),onInteractionShareDialog:r,isLockingSupported:l,isCurrentUserWorkspaceManager:l,dashboardPermissions:s}})();if(!i)return null;const g={canEditAffectedObject:u.canEditDashboard,canEditLockedAffectedObject:u.canEditLockedDashboard,canShareAffectedObject:u.canShareDashboard,canShareLockedAffectedObject:u.canShareLockedDashboard,canViewAffectedObject:u.canViewDashboard};return R.createElement(gM,{backend:e,workspace:t,isVisible:i,currentUser:a,sharedObject:r,onCancel:n,onApply:o,onError:l,isLockingSupported:d,isCurrentUserWorkspaceManager:c,currentUserPermissions:g,onInteraction:s})},pM=e=>{const{ScheduledEmailManagementDialogComponent:t}=sy();return R.createElement(t,Object.assign({},e))},hM=e=>{const{ScheduledEmailDialogComponent:t}=sy();return R.createElement(t,Object.assign({},e))},fM=()=>{const{isScheduleEmailingDialogOpen:e,isScheduleEmailingManagementDialogOpen:t,onScheduleEmailingCancel:i,onScheduleEmailingCreateError:r,onScheduleEmailingCreateSuccess:a,onScheduleEmailingManagementAdd:n,onScheduleEmailingManagementEdit:o,scheduledEmailToEdit:l,users:s,onScheduleEmailingSaveError:d,onScheduleEmailingSaveSuccess:c,onScheduleEmailingManagementClose:u,onScheduleEmailingManagementLoadingError:g,onScheduleEmailingManagementDeleteSuccess:m,onScheduleEmailingManagementDeleteError:p}=av();return R.createElement(R.Fragment,null,t?R.createElement(pM,{isVisible:t,onAdd:n,onEdit:o,onClose:u,onDeleteSuccess:m,onLoadError:g,onDeleteError:p}):null,e?R.createElement(hM,{isVisible:e,onCancel:i,onError:r,onSuccess:a,editSchedule:l,onSaveError:d,onSaveSuccess:c,users:s}):null)},bM=(0,iv.vU)({alertsAndEmails:{id:"deleteDashboardDialog.alertsAndEmailsMessage"},alerts:{id:"deleteDashboardDialog.alertsMessage"},emails:{id:"deleteDashboardDialog.emailsMessage"},drills:{id:"deleteDashboardDialog.drillMessage"}}),vM=e=>{const{isVisible:t,isKpiWidgetEnabled:i,isScheduleEmailsEnabled:r,isDrillToDashboardEnabled:a,onDelete:n,onCancel:o}=e,l=(0,vI.Z)();if(!t)return null;const s=wa([i&&r&&bM.alertsAndEmails,i&&!r&&bM.alerts,!i&&r&&bM.emails,a&&bM.drills]);return R.createElement(pb.ConfirmDialog,{onCancel:o,onSubmit:n,isPositive:!1,className:"s-dialog s-delete_dashboard_dialog",headline:l.formatMessage({id:"deleteDashboardDialog.headline"}),cancelButtonText:l.formatMessage({id:"cancel"}),submitButtonText:l.formatMessage({id:"deleteDashboardDialog.submitButtonText"})},s.map(((e,t)=>R.createElement(R.Fragment,{key:e.id},0!==t&&R.createElement("br",null),R.createElement(pb.Typography,{tagName:"p"},R.createElement(PE.Z,Object.assign({},e)))))))},DM=e=>R.createElement(vM,Object.assign({},e)),yM=e=>{const{isVisible:t,onDelete:i,onCancel:r}=e,a=(0,vI.Z)();return t?R.createElement(pb.ConfirmDialog,{onCancel:r,onSubmit:i,isPositive:!1,className:"s-dialog",headline:a.formatMessage({id:"deleteKpiConfirmationDialog.headline"}),cancelButtonText:a.formatMessage({id:"cancel"}),submitButtonText:a.formatMessage({id:"deleteKpiConfirmationDialog.submitButtonText"})},R.createElement(pb.Typography,{tagName:"p"},R.createElement(PE.Z,{id:"deleteKpiConfirmationDialog.message"}))):null},EM=e=>R.createElement(yM,Object.assign({},e)),IM=()=>{const e=Zf();return{onCancel:(0,R.useCallback)((()=>e(Ha.closeCancelEditModeDialog())),[e]),onSubmit:(0,R.useCallback)((()=>{e(Zs()),e(Ha.closeCancelEditModeDialog())}),[e])}},CM=e=>{const t=(0,vI.Z)();return $f(wb)?R.createElement(pb.ConfirmDialog,{headline:t.formatMessage({id:"cancelConfirmationDialog.headline"}),submitButtonText:t.formatMessage({id:"cancelConfirmationDialog.submitButtonText"}),cancelButtonText:t.formatMessage({id:"cancel"}),onCancel:e.onCancel,onSubmit:e.onSubmit,isPositive:!1,className:"s-dialog s-cancel_confirmation_dialog"},R.createElement(pb.Typography,{tagName:"p"},t.formatMessage({id:"cancelConfirmationDialog.message"}))):null},SM=e=>R.createElement(CM,Object.assign({},e)),wM={b:e=>R.createElement("b",null,e),i:e=>R.createElement("i",null,e)},TM=(0,iv.vU)({invalidDrillTitle:{id:"messages.dashboard.invalidDrills.title"},invalidDrillBody:{id:"messages.dashboard.invalidDrills.body.modern"},invalidUrlDrillTitle:{id:"messages.dashboard.invalidCustomUrlDrills.title"},invalidUrlDrillBody:{id:"messages.dashboard.invalidCustomUrlDrills.body.modern"},showMore:{id:"messages.dashboard.expandable.showMore"},showLess:{id:"messages.dashboard.expandable.showLess"}}),AM="invalid_drill_message",PM="invalid_url_drill_message",kM=()=>{const{messages:e,removeMessage:t}=(0,R.useContext)(pb.ToastMessageContext),{messages:i,removeMessage:r}=function(){const e=(0,vI.Z)(),t=Zf(),i=$f($d),r=$f(zb),a=$f(Kb),o=$f(yc);return{messages:(0,R.useMemo)((()=>{if(!o)return[];const t=wa(r.map((e=>i.get(e))).filter(n.isWidget)),l=wa(a.map((e=>i.get(e))).filter(n.isWidget));return wa([t.length>0&&{id:AM,type:"warning",node:e.formatMessage(TM.invalidDrillTitle,wM),errorDetail:e.formatMessage(TM.invalidDrillBody,Object.assign({listOfWidgetTitles:t.map(n.widgetTitle).join(", ")},wM)),showMore:e.formatMessage(TM.showMore),showLess:e.formatMessage(TM.showLess)},l.length>0&&{id:PM,type:"warning",node:e.formatMessage(TM.invalidUrlDrillTitle,wM),errorDetail:e.formatMessage(TM.invalidUrlDrillBody,Object.assign({listOfWidgetTitles:l.map(n.widgetTitle).join(", ")},wM)),showMore:e.formatMessage(TM.showMore),showLess:e.formatMessage(TM.showLess)}])}),[o,r,a,e,i]),removeMessage:(0,R.useCallback)((e=>{e===AM&&t(Ha.resetInvalidDrillWidgetRefs()),e===PM&&t(Ha.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings())}),[t]),removeAllMessages:(0,R.useCallback)((()=>{t(Ha.resetInvalidDrillWidgetRefs()),t(Ha.resetAllInvalidCustomUrlDrillParameterWidgetsWarnings())}),[t])}}(),a=(0,R.useMemo)((()=>[...e,...i]),[e,i]),o=(0,R.useCallback)((e=>{t(e),r(e)}),[r,t]);return a.length>0?R.createElement(pb.Messages,{messages:a,onMessageClose:o}):null},RM=()=>{const e=function(){const e=Zf(),t=(0,R.useCallback)((()=>e(Ha.closeDeleteDialog())),[e]),i=(0,R.useCallback)((()=>GD(e,fi()).finally((()=>{e(Ha.closeDeleteDialog())}))),[e]);return{isVisible:$f(Cb),isKpiWidgetEnabled:$f(Co),isScheduleEmailsEnabled:$f(al),isDrillToDashboardEnabled:$f(sl),onCancel:t,onDelete:i}}();return R.createElement(DM,Object.assign({},e))},xM=()=>{const e=function(){const e=Zf(),t=$f(Tb),i=(0,R.useCallback)((()=>e(Ha.closeKpiDeleteDialog())),[e]),r=(0,R.useCallback)((()=>GD(e,bv(t.sectionIndex,t.itemIndex)).finally((()=>{e(Ha.closeKpiDeleteDialog())}))),[t,e]);return{isVisible:$f(Sb),onCancel:i,onDelete:r}}();return R.createElement(EM,Object.assign({},e))},LM=()=>{const e=GA();return R.createElement(cM,Object.assign({},e))},OM=()=>{const e=nR();return R.createElement(dM,Object.assign({},e))},FM=()=>{const e=EI();return R.createElement(uM,Object.assign({},e))},MM=()=>{const e=IM();return R.createElement(SM,Object.assign({},e))},NM=()=>R.createElement(R.Fragment,null,R.createElement(kM,null),R.createElement(sM,null),R.createElement(fM,null),R.createElement(mM,null),R.createElement(RM,null),R.createElement(xM,null),R.createElement(LM,null),R.createElement(OM,null),R.createElement(FM,null),R.createElement(MM,null)),_M=e=>{const{WrapCreatePanelItemWithDragComponent:t,WrapInsightListItemWithDragComponent:i,DeleteDropZoneComponent:r}=e,{SidebarComponent:a,KpiWidgetComponentSet:n,AttributeFilterComponentSet:o,InsightWidgetComponentSet:l}=sy();return R.createElement(a,Object.assign({},e,{KpiWidgetComponentSet:n,AttributeFilterComponentSet:o,InsightWidgetComponentSet:l,WrapCreatePanelItemWithDragComponent:t,WrapInsightListItemWithDragComponent:i,DeleteDropZoneComponent:r}))},HM=e=>{const{enableDescriptions:t,WrapInsightListItemWithDragComponent:i}=e,r=(0,Ir._T)(e,["enableDescriptions","WrapInsightListItemWithDragComponent"]),a=ab(),o=$f(Bo);return R.createElement(HS,Object.assign({},r,{renderItem:({item:e,width:r,isFirst:l,isLast:s})=>{var d,c;if(!e)return R.createElement(pb.InsightListItem,{isLoading:!0});const u=(0,n.insightVisualizationType)(e),g=gy("gd-visualizations-list-item-wrap",{"is-first":l,"is-last":s}),m=null===(d=(0,n.insightSummary)(e))||void 0===d?void 0:d.trim(),p={from:"insight",type:"inherit",description:m};return R.createElement(fF,{WrapInsightListItemWithDragComponent:i,title:(0,n.insightTitle)(e),description:m,showDescriptionPanel:t,type:u,width:r,className:g,updated:null!==(c=(0,n.insightUpdated)(e))&&void 0!==c?c:(0,n.insightCreated)(e),isLocked:(0,n.insightIsLocked)(e),insight:e,onDescriptionPanelOpen:()=>{a.descriptionTooltipOpened(p)},metadataTimeZone:null==o?void 0:o.metadataTimeZone})}}))},UM=e=>{const{recalculateSizeReference:t,searchAutofocus:i,enableDescriptions:r,WrapInsightListItemWithDragComponent:a}=e,n=(0,R.useRef)(null);return(0,R.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.updateSize()}),[t]),R.createElement("div",{className:"gd-visualizations-list gd-flex-item-stretch gd-flex-row-container"},R.createElement(pb.FlexDimensions,{ref:n,measureHeight:!0,measureWidth:!1,className:"visualizations-flex-dimensions"},R.createElement(HM,{WrapInsightListItemWithDragComponent:a,searchAutofocus:i,enableDescriptions:r})))},GM=e=>{const{className:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r}=e,a=$f(Co),n=$f(wl),o=$f(Vc),l=$f(Bo),s=e.KpiWidgetComponentSet,d=e.AttributeFilterComponentSet,c=e.InsightWidgetComponentSet,u=(0,R.useMemo)((()=>{const e=wa([a&&s.creating,d.creating,c.creating]);return Ow(e,(e=>{var t;return null!==(t=e.priority)&&void 0!==t?t:0})).map((({CreatePanelListItemComponent:e,type:t})=>R.createElement(e,{key:t,WrapCreatePanelItemWithDragComponent:i})))}),[d,s,c,a]);return R.createElement("div",{className:gy("configuration-panel creation-panel",t)},R.createElement("div",{className:"configuration-panel-content"},R.createElement(pb.Typography,{tagName:"h2",className:"flex-panel-item-nostretch"},R.createElement(PE.Z,{id:"visualizationsList.dragToAdd"})),R.createElement("div",{className:"configuration-category drag-to-add"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"addPanel.newItem"})),R.createElement("div",{className:"add-item-panel"},u)),n?R.createElement("div",{className:"configuration-category configuration-category-vis drag-to-add flex-panel-item-stretch"},R.createElement(pb.Typography,{tagName:"h3"},R.createElement(PE.Z,{id:"visualizationsList.savedVisualizations"})),R.createElement(UM,{WrapInsightListItemWithDragComponent:r,recalculateSizeReference:t,searchAutofocus:!o,enableDescriptions:null==l?void 0:l.enableDescriptions})):null))},jM=e=>{const{configurationPanelClassName:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r,KpiWidgetComponentSet:a,AttributeFilterComponentSet:n,InsightWidgetComponentSet:o}=e,{deselectWidgets:l}=nv(),s=e.DeleteDropZoneComponent;return R.createElement("div",{className:"col gd-flex-item gd-sidebar-container",onClick:l},R.createElement("div",{className:"flex-panel-full-height"},R.createElement(GM,{className:t,WrapCreatePanelItemWithDragComponent:i,WrapInsightListItemWithDragComponent:r,KpiWidgetComponentSet:a,AttributeFilterComponentSet:n,InsightWidgetComponentSet:o})),R.createElement(s,null))},BM=QD({view:()=>R.createElement(R.Fragment,null),edit:jM}),zM=["insightListItem","insight","insight-placeholder","kpi","kpi-placeholder","internal-width-resizer","internal-height-resizer"];var WM;function VM(e,t,i){const[r,a]=(0,R.useState)(WM.None),n=Py();(0,R.useEffect)((()=>n.getMonitor().subscribeToOffsetChange((()=>{var r,o,l;const s=n.getMonitor().getItemType(),d=n.getMonitor().getSourceClientOffset(),c=null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),u=null===(o=i.current)||void 0===o?void 0:o.getBoundingClientRect(),g=null===(l=e.current)||void 0===l?void 0:l.getBoundingClientRect();(!s||zM.includes(s))&&d&&c&&u&&g?d.y<=(null==c?void 0:c.bottom)&&(null==c?void 0:c.bottom)>(null==g?void 0:g.top)?a(WM.Up):d.y>(null==u?void 0:u.bottom)-100&&(null==g?void 0:g.bottom)>(null==u?void 0:u.bottom)?a(WM.Down):a(WM.None):a(WM.None)}))),[]),function(e,t){const i=(0,R.useRef)(e);(0,R.useLayoutEffect)((()=>{i.current=e}),[e]),(0,R.useEffect)((()=>{if(!t&&0!==t)return;const e=setInterval((()=>i.current()),t);return()=>clearInterval(e)}),[t])}((()=>{var t;const i=3*r;null===(t=KM(e.current))||void 0===t||t.scrollBy({top:i})}),r===WM.None?null:5)}function KM(e){if(!e)return document.documentElement;if(e instanceof HTMLElement){const t=window.getComputedStyle(e).overflowY;if("visible"!==t&&"hidden"!==t&&e.scrollHeight>=e.clientHeight)return e}return KM(e.parentNode)}function qM(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function YM(e,t){if(!e||!t)return{display:"none"};const{x:i,y:r}=t,a=`translate(${i}px, ${r}px)`;return{transform:a,WebkitTransform:a}}!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down",e[e.None=0]="None"}(WM||(WM={}));const ZM=e=>{const{itemType:t,item:i,initialOffset:r,clientOffset:a}=e,{AttributeFilterComponentSet:n,InsightWidgetComponentSet:o,KpiWidgetComponentSet:l}=sy(),s=(0,R.useMemo)((()=>({attributeFilter:n.dragging.DraggingComponent,insight:o.dragging.DraggingComponent,kpi:l.dragging.DraggingComponent})),[n.dragging.DraggingComponent,o.dragging.DraggingComponent,l.dragging.DraggingComponent]),d=(0,R.useMemo)((()=>{if(!(t in s))return my&&console.warn(`DND: dnd item ${t} not handled by CustomDragLayer`),null;const e=s[t];return R.createElement(e,{itemType:t,item:i})}),[t,s,i]);return R.createElement("div",{className:"drag-preview",style:YM(r,a)},d)};function $M(e){return e=e||[10],Math.max(...e)}const XM={x:0,y:0},QM={"internal-height-resizer":e=>{const{item:t,initialOffset:i,differenceFromInitialOffset:r,scrollCorrection:a,getDragLayerPosition:n}=e,{toggleHeightLimitReached:o}=tI(),[l,s]=(0,R.useState)("none");(0,R.useEffect)((()=>{o(l)}),[l,o]);const d=n(),c=function(e,t,i){const r=t-i;return $M(e)+Sn.fluidLayoutDescriptor.toGridHeight(r)}(t.widgetHeights,r.y,a.y);(0,R.useEffect)((()=>{const e=function(e,t,i){return e<t?"min":e>i?"max":"none"}(c,t.minLimit,t.maxLimit);e!==l&&s(e)}),[c,t.minLimit,t.maxLimit,l]);const u=function(e,t,i,r){const{minLimit:a,maxLimit:n}=e,o=Sn.fluidLayoutDescriptor.toGridHeight(i-r),l=$M(e.widgetHeights),s=function(e,t,i,r){return wn(i+r,e,t)}(a,n,l,o);return t+Sn.fluidLayoutDescriptor.toHeightInPx(s-l)}(t,i.y,r.y,a.y),g={top:`${u-d.y+a.y}px`,left:`${i.x-d.x+a.x}px`,right:"30px"};return R.createElement("div",{className:"height-resizer-drag-preview s-height-resizer-drag-preview",style:g},R.createElement(sA,{status:"active"}))},"internal-width-resizer":function(e){const{setWidthState:t}=tI(),{item:i,differenceFromInitialOffset:r,initialOffset:a,scrollCorrection:n,getDragLayerPosition:o}=e,{gridColumnHeightInPx:l}=i,s=qI(i,a.x,r.x,n.x),d=function({initialOffset:e,limitedX:t,gridColumnHeightInPx:i,dragLayerOffset:r,scrollCorrection:a}){return{position:"absolute",top:`${e.y-r.y+a.y}px`,left:`${t-r.x+a.x}px`,height:`${i}px`}}({gridColumnHeightInPx:l,initialOffset:a,limitedX:s.limitedX,dragLayerOffset:o(),scrollCorrection:n});return(0,R.useEffect)((()=>{t({initialIndex:s.initialIndex,currentIndex:s.currentIndex,limitReached:s.limitReached})}),[s.initialIndex,s.currentIndex,s.isLimited,s.limitReached,t]),R.createElement("div",{className:"s-resizer-drag-preview resizer-drag-preview",style:d},R.createElement(VI,{status:"active"}))}},JM=()=>{const e=(0,R.useRef)(null),{setScrollCorrection:t}=tI(),i=(n=e=>({item:e.getItem(),itemType:e.getItemType(),clientOffset:e.getClientOffset(),currentOffset:e.getSourceClientOffset(),initialOffset:e.getInitialSourceClientOffset(),differenceFromInitialOffset:e.getDifferenceFromInitialOffset(),isDragging:e.isDragging()}),o=Py().getMonitor(),r=Qy(o,n),a=2,s=(l=function(e){if(Array.isArray(e))return e}(r)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(r,a)||function(e,t){if(e){if("string"==typeof e)return qM(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qM(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],d=l[1],(0,wy.useEffect)((function(){return o.subscribeToOffsetChange(d)})),(0,wy.useEffect)((function(){return o.subscribeToStateChange(d)})),s);var r,a,n,o,l,s,d;const{itemType:c,isDragging:u}=i,g=(0,R.useCallback)((()=>{var t,i;return null!==(i=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==i?i:$E}),[e.current]),m="internal-height-resizer"===c||"internal-width-resizer"===c,{scrollCorrection:p}=function(e,t=!0){const[i,r]=(0,R.useState)(XM),a=(0,R.useMemo)((()=>t?e():XM),[t,e]);(0,R.useEffect)((()=>{const i=()=>{r(e)};return t&&(document.addEventListener("scroll",i,!0),i()),()=>document.removeEventListener("scroll",i,!0)}),[t,e]);const n=(0,R.useMemo)((()=>({x:i.x-a.x,y:i.y-a.y})),[i,a]);return{initialPosition:a,currentPosition:i,scrollCorrection:n}}(g,u&&m);(0,R.useEffect)((()=>{t(p)}),[p,t]);const h=(0,R.useMemo)((()=>({position:m?"relative":"fixed",pointerEvents:"none",zIndex:6001,left:0,top:0,width:"100%",height:"100%"})),[m]);if(!u)return null;const f=hy(c)?QM[c]:ZM,b=hy(c)?Object.assign(Object.assign({},i),{getDragLayerPosition:g,scrollCorrection:p}):i;return R.createElement("div",{className:"drag-layer",style:h,ref:e},R.createElement(f,Object.assign({},b)))};function eN(){const e=Zf(),[{canDrop:t,isOver:i},r]=rE("attributeFilter",{drop:({filter:t})=>{const i=t.attributeFilter.localIdentifier;e(Mh(i))}},[e]);if(!t)return null;const a=gy("gd-dropzone","gd-dropzone-delete",{"gd-dropzone-over":i}),n=py({isOver:i});return R.createElement("div",{className:a,ref:r,style:n},R.createElement("div",{className:"gd-dropzone-message"},R.createElement(PE.Z,{id:"addPanel.deleteItem"})))}const tN=e=>{const{canDrag:t,dragItem:i,hideDefaultPreview:r,onDragEnd:a,onDragStart:n,children:o}=function(e){const t=$f(yc),i=MI(),r=t&&!e.disabled;return Object.assign(Object.assign({},e),{canDrag:r,onDragEnd:i})}(e),[{isDragging:l},s]=wE({dragItem:i,canDrag:t,hideDefaultPreview:r,dragEnd:(e,t)=>{null==a||a(t.didDrop())},dragStart:n},[t,a,r,i]);return R.createElement("div",{ref:s,className:gy({"is-dragging":l})},o)};function iN({children:e,insight:t}){const i=$f(yc),r=$f(Bo),a=MI(),[{isDragging:n},o]=wE({dragItem:()=>{const e=qn(r,"insight",t);return{type:"insightListItem",insight:t,size:{gridHeight:e.height.default||Sn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.height.default,gridWidth:e.width.default||Sn.INSIGHT_WIDGET_SIZE_INFO_DEFAULT.width.default}}},canDrag:i,hideDefaultPreview:!1,dragEnd:a},[i,t,a]);return R.createElement("div",{className:gy({"is-dragging":n}),ref:o},e)}const rN=e=>{const{ToolbarComponent:t}=sy();return R.createElement(t,Object.assign({},e))},aN=e=>{const{dashboard:t}=e,{DashboardContentComponentProvider:i}=sy(),r=(0,R.useMemo)((()=>i(t)),[i,t]);return R.createElement(r,Object.assign({},e))},nN=pb.OverlayController.getInstance(UC),oN=e=>{const t=$f(zo),i=$f(yc),r=(0,R.useRef)(null),a=(0,R.useRef)(null),n=(0,R.useRef)(null);return VM(a,r,n),R.createElement(YE,{locale:t},R.createElement("div",{className:gy("component-root",{"sdk-edit-mode-on":i})},R.createElement(JM,null),R.createElement("div",{className:"gd-dashboards-root gd-flex-container"},R.createElement(_M,{DefaultSidebar:BM,DeleteDropZoneComponent:eN,WrapCreatePanelItemWithDragComponent:tN,WrapInsightListItemWithDragComponent:iN}),R.createElement("div",{className:"gd-dash-content"},R.createElement("div",{className:"gd-dash-header-wrapper gd-dash-header-wrapper-sdk-8-12",ref:r},R.createElement(pb.OverlayControllerProvider,{overlayController:nN},R.createElement(NM,null))),R.createElement("div",{className:"gd-flex-item-stretch dash-section dash-section-kpis",ref:a},R.createElement(aN,Object.assign({},e))),R.createElement("div",{className:"gd-dash-bottom-position-pixel",ref:n}))),R.createElement(rN,null)))},lN=e=>{const{loading:t,error:i,result:r}=$f(aD),{ErrorComponent:a,LoadingComponent:n}=sy();return i?R.createElement(a,{message:i.message}):t||!r?R.createElement(n,null):R.createElement(oN,Object.assign({},e))};var sN=i(85893),dN="dnd-core/INIT_COORDS",cN="dnd-core/BEGIN_DRAG",uN="dnd-core/PUBLISH_DRAG_SOURCE",gN="dnd-core/HOVER",mN="dnd-core/DROP",pN="dnd-core/END_DRAG";function hN(e,t){return{type:dN,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function fN(e){return fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fN(e)}function bN(e){return"object"===fN(e)}var vN={type:dN,payload:{clientOffset:null,sourceClientOffset:null}};function DN(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=i.publishSource,a=void 0===r||r,n=i.clientOffset,o=i.getSourceClientOffset,l=e.getMonitor(),s=e.getRegistry();e.dispatch(hN(n)),function(e,t,i){Ty(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Ty(i.getSource(e),"Expected sourceIds to be registered.")}))}(t,l,s);var d=function(e,t){for(var i=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){i=e[r];break}return i}(t,l);if(null!==d){var c=null;if(n){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){Ty("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),c=o(d)}e.dispatch(hN(n,c));var u=s.getSource(d).beginDrag(l,d);if(null!=u){!function(e){Ty(bN(e),"Item must be an object.")}(u),s.pinSource(d);var g=s.getSourceType(d);return{type:cN,payload:{itemType:g,item:u,sourceId:d,clientOffset:n||null,sourceClientOffset:c||null,isSourcePublic:!!a}}}}else e.dispatch(vN)}}function yN(e){return function(){if(e.getMonitor().isDragging())return{type:uN}}}function EN(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function IN(e){return function(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset;!function(e){Ty(Array.isArray(e),"Expected targetIds to be an array.")}(t);var r=t.slice(0),a=e.getMonitor(),n=e.getRegistry();return function(e,t,i){Ty(t.isDragging(),"Cannot call hover while not dragging."),Ty(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var a=e[r];Ty(e.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array."),Ty(i.getTarget(a),"Expected targetIds to be registered.")}}(r,a,n),function(e,t,i){for(var r=e.length-1;r>=0;r--){var a=e[r];EN(t.getTargetType(a),i)||e.splice(r,1)}}(r,n,a.getItemType()),function(e,t,i){e.forEach((function(e){i.getTarget(e).hover(t,e)}))}(r,a,n),{type:gN,payload:{targetIds:r,clientOffset:i||null}}}}function CN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function SN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CN(Object(i),!0).forEach((function(t){wN(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function wN(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function TN(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getMonitor(),r=e.getRegistry();!function(e){Ty(e.isDragging(),"Cannot call drop while not dragging."),Ty(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(i);var a=function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(i);a.forEach((function(a,n){var o=function(e,t,i,r){var a=i.getTarget(e),n=a?a.drop(r,e):void 0;return function(e){Ty(void 0===e||bN(e),"Drop result must either be an object or undefined.")}(n),void 0===n&&(n=0===t?{}:r.getDropResult()),n}(a,n,r,i),l={type:mN,payload:{dropResult:SN(SN({},t),o)}};e.dispatch(l)}))}}function AN(e){return function(){var t=e.getMonitor(),i=e.getRegistry();!function(e){Ty(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return null!=r&&(i.getSource(r,!0).endDrag(t,r),i.unpinSource()),{type:pN}}}function PN(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kN(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var RN=function(){function e(t,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kN(this,"store",void 0),kN(this,"monitor",void 0),kN(this,"backend",void 0),kN(this,"isSetUp",!1),kN(this,"handleRefCountChange",(function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))})),this.store=t,this.monitor=i,t.subscribe(this.handleRefCountChange)}var t,i;return t=e,i=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,i=function(e){return{beginDrag:DN(e),publishDragSource:yN(e),hover:IN(e),drop:TN(e),endDrag:AN(e)}}(this);return Object.keys(i).reduce((function(r,a){var n,o=i[a];return r[a]=(n=o,function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=n.apply(e,r);void 0!==o&&t(o)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],i&&PN(t.prototype,i),e}(),xN=function(e,t){return e===t};function LN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ON(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?LN(Object(i),!0).forEach((function(t){FN(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function FN(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var MN={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function NN(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MN,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case dN:case cN:return{initialSourceClientOffset:a.sourceClientOffset,initialClientOffset:a.clientOffset,clientOffset:a.clientOffset};case gN:return e=i.clientOffset,t=a.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y?i:ON(ON({},i),{},{clientOffset:a.clientOffset});case pN:case mN:return MN;default:return i}}var _N="dnd-core/ADD_SOURCE",HN="dnd-core/ADD_TARGET",UN="dnd-core/REMOVE_SOURCE",GN="dnd-core/REMOVE_TARGET";function jN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function BN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(i),!0).forEach((function(t){zN(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function zN(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var WN={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function VN(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WN,r=arguments.length>1?arguments[1]:void 0,a=r.payload;switch(r.type){case cN:return BN(BN({},i),{},{itemType:a.itemType,item:a.item,sourceId:a.sourceId,isSourcePublic:a.isSourcePublic,dropResult:null,didDrop:!1});case uN:return BN(BN({},i),{},{isSourcePublic:!0});case gN:return BN(BN({},i),{},{targetIds:a.targetIds});case GN:return-1===i.targetIds.indexOf(a.targetId)?i:BN(BN({},i),{},{targetIds:(e=i.targetIds,t=a.targetId,e.filter((function(e){return e!==t})))});case mN:return BN(BN({},i),{},{dropResult:a.dropResult,didDrop:!0,targetIds:[]});case pN:return BN(BN({},i),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function KN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case _N:case HN:return e+1;case UN:case GN:return e-1;default:return e}}var qN=[],YN=[];function ZN(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case gN:break;case _N:case HN:case GN:case UN:return qN;default:return YN}var t=e.payload,i=t.targetIds,r=void 0===i?[]:i,a=t.prevTargetIds,n=void 0===a?[]:a,o=function(e,t){var i=new Map,r=function(e){i.set(e,i.has(e)?i.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return i.forEach((function(e,t){1===e&&a.push(t)})),a}(r,n),l=o.length>0||!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xN;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!i(e[r],t[r]))return!1;return!0}(r,n);if(!l)return qN;var s=n[n.length-1],d=r[r.length-1];return s!==d&&(s&&o.push(s),d&&o.push(d)),o}function $N(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function XN(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function QN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(i),!0).forEach((function(t){JN(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):XN(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function JN(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function e_(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:ZN(i.dirtyHandlerIds,{type:r.type,payload:QN(QN({},r.payload),{},{prevTargetIds:(e=i,"dragOperation.targetIds",t=[],"dragOperation.targetIds".split(".").reduce((function(e,i){return e&&e[i]?e[i]:t||null}),e))})}),dragOffset:NN(i.dragOffset,r),refCount:KN(i.refCount,r),dragOperation:VN(i.dragOperation,r),stateId:$N(i.stateId)}}function t_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}qN.__IS_NONE__=!0,YN.__IS_ALL__=!0;var a_,n_=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r_(this,"store",void 0),r_(this,"registry",void 0),this.store=t,this.registry=i}var t,i;return t=e,i=[{key:"subscribeToStateChange",value:function(e){var t=this,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0}).handlerIds;Ty("function"==typeof e,"listener must be a function."),Ty(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe((function(){var a=t.store.getState(),n=a.stateId;try{var o=n===r||n===r+1&&!function(e,t){return e!==qN&&(e===YN||void 0===t||(i=e,t.filter((function(e){return i.indexOf(e)>-1}))).length>0);var i}(a.dirtyHandlerIds,i);o||e()}finally{r=n}}))}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Ty("function"==typeof e,"listener must be a function.");var i=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==i&&(i=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Ty(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Ty(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&EN(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Ty(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){if(!e)return!1;var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),r=this.getItemType();if(r&&!EN(i,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var n=a.indexOf(e);return t?n===a.length-1:n>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,a=e.initialClientOffset,n=e.initialSourceClientOffset,r&&a&&n?t_((i=n,{x:(t=r).x+i.x,y:t.y+i.y}),a):null;var e,t,i,r,a,n}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,i=e.initialClientOffset,t&&i?t_(t,i):null;var e,t,i}}],i&&i_(t.prototype,i),e}(),o_=0;function l_(e){return l_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(e)}function s_(e,t){t&&Array.isArray(e)?e.forEach((function(e){return s_(e,!1)})):Ty("string"==typeof e||"symbol"===l_(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(a_||(a_={}));const d_="undefined"!=typeof global?global:self,c_=d_.MutationObserver||d_.WebKitMutationObserver;function u_(e){return function(){const t=setTimeout(r,0),i=setInterval(r,50);function r(){clearTimeout(t),clearInterval(i),e()}}}const g_="function"==typeof c_?function(e){let t=1;const i=new c_(e),r=document.createTextNode("");return i.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:u_;class m_{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const p_=new class{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,i=e.length-this.index;t<i;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=g_(this.flush),this.requestErrorThrow=u_((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},h_=new class{create(e){const t=this.freeTasks,i=t.length?t.pop():new m_(this.onError,(e=>t[t.length]=e));return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}(p_.registerPendingError);function f_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v_(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function D_(e){switch(e[0]){case"S":return a_.SOURCE;case"T":return a_.TARGET;default:Ty(!1,"Cannot parse handler ID: ".concat(e))}}function y_(e,t){var i,r,a=e.entries(),n=!1;do{var o=a.next(),l=o.done;if((i=o.value,r=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(i,r)||function(e,t){if(e){if("string"==typeof e)return v_(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v_(e,t):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;n=!!l}while(!n);return!1}var E_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b_(this,"types",new Map),b_(this,"dragSources",new Map),b_(this,"dropTargets",new Map),b_(this,"pinnedSourceId",null),b_(this,"pinnedSource",null),b_(this,"store",void 0),this.store=t}var t,i;return t=e,i=[{key:"addSource",value:function(e,t){s_(e),function(e){Ty("function"==typeof e.canDrag,"Expected canDrag to be a function."),Ty("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Ty("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var i=this.addHandler(a_.SOURCE,e,t);return this.store.dispatch(function(e){return{type:_N,payload:{sourceId:e}}}(i)),i}},{key:"addTarget",value:function(e,t){s_(e,!0),function(e){Ty("function"==typeof e.canDrop,"Expected canDrop to be a function."),Ty("function"==typeof e.hover,"Expected hover to be a function."),Ty("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var i=this.addHandler(a_.TARGET,e,t);return this.store.dispatch(function(e){return{type:HN,payload:{targetId:e}}}(i)),i}},{key:"containsHandler",value:function(e){return y_(this.dragSources,e)||y_(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ty(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return Ty(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Ty(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Ty(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return D_(e)===a_.SOURCE}},{key:"isTargetId",value:function(e){return D_(e)===a_.TARGET}},{key:"removeSource",value:function(e){var t,i=this;Ty(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:UN,payload:{sourceId:e}}}(e)),t=function(){i.dragSources.delete(e),i.types.delete(e)},p_.enqueueTask(h_.create(t))}},{key:"removeTarget",value:function(e){Ty(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:GN,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Ty(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Ty(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,i){var r=function(e){var t=(o_++).toString();switch(e){case a_.SOURCE:return"S".concat(t);case a_.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===a_.SOURCE?this.dragSources.set(r,i):e===a_.TARGET&&this.dropTargets.set(r,i),r}}],i&&f_(t.prototype,i),e}();function I_(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,(0,yi.createStore)(e_,t&&i&&i({name:"dnd-core",instanceId:"dnd-core"}))),o=new n_(n,new E_(n)),l=new RN(n,o),s=e(l,r,a);return l.receiveBackend(s),l}var C_=["children"];function S_(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var w_=0,T_=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),A_=(0,wy.memo)((function(e){var t,i,r=e.children,a=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P_(),i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=t;return a[T_]||(a[T_]={dragDropManager:I_(e,t,i,r)}),a[T_]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(function(e,t){if(null==e)return{};var i,r,a=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(e,C_)),n=(i=2,function(e){if(Array.isArray(e))return e}(t=a)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,a,n=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(l)throw a}}return n}}(t,i)||function(e,t){if(e){if("string"==typeof e)return S_(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S_(e,t):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],l=n[1];return(0,wy.useEffect)((function(){if(l){var e=P_();return++w_,function(){0==--w_&&(e[T_]=null)}}}),[]),(0,sN.jsx)(Ay.Provider,Object.assign({value:o},{children:r}),void 0)}));function P_(){return void 0!==i.g?i.g:window}function k_(e){var t=null;return function(){return null==t&&(t=e()),t}}function R_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),x_(this,"entered",[]),x_(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,i;return t=e,(i=[{key:"enter",value:function(e){var t=this,i=this.entered.length;return this.entered=function(e,t){var i=new Set,r=function(e){return i.add(e)};e.forEach(r),t.forEach(r);var a=[];return i.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(i){return t.isNodeInDocument(i)&&(!i.contains||i.contains(e))})),[e]),0===i&&this.entered.length>0}},{key:"leave",value:function(e){var t,i,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),i=e,t.filter((function(e){return e!==i}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&R_(t.prototype,i),e}(),O_=k_((function(){return/firefox/i.test(navigator.userAgent)})),F_=k_((function(){return Boolean(window.safari)}));function M_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var __=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),N_(this,"xs",void 0),N_(this,"ys",void 0),N_(this,"c1s",void 0),N_(this,"c2s",void 0),N_(this,"c3s",void 0);for(var r=t.length,a=[],n=0;n<r;n++)a.push(n);a.sort((function(e,i){return t[e]<t[i]?-1:1}));for(var o,l,s=[],d=[],c=[],u=0;u<r-1;u++)o=t[u+1]-t[u],l=i[u+1]-i[u],d.push(o),s.push(l),c.push(l/o);for(var g=[c[0]],m=0;m<d.length-1;m++){var p=c[m],h=c[m+1];if(p*h<=0)g.push(0);else{o=d[m];var f=d[m+1],b=o+f;g.push(3*b/((b+f)/p+(b+o)/h))}}g.push(c[c.length-1]);for(var v,D=[],y=[],E=0;E<g.length-1;E++){v=c[E];var I=g[E],C=1/d[E],S=I+g[E+1]-v-v;D.push((v-I-S)*C),y.push(S*C*C)}this.xs=t,this.ys=i,this.c1s=g,this.c2s=D,this.c3s=y}var t,i;return t=e,(i=[{key:"interpolate",value:function(e){var t=this.xs,i=this.ys,r=this.c1s,a=this.c2s,n=this.c3s,o=t.length-1;if(e===t[o])return i[o];for(var l,s=0,d=n.length-1;s<=d;){var c=t[l=Math.floor(.5*(s+d))];if(c<e)s=l+1;else{if(!(c>e))return i[l];d=l-1}}var u=e-t[o=Math.max(0,d)],g=u*u;return i[o]+r[o]*u+a[o]*g+n[o]*u*g}}])&&M_(t.prototype,i),e}(),H_=1;function U_(e){var t=e.nodeType===H_?e:e.parentElement;if(!t)return null;var i=t.getBoundingClientRect(),r=i.top;return{x:i.left,y:r}}function G_(e){return{x:e.clientX,y:e.clientY}}var j_,B_="__NATIVE_FILE__",z_="__NATIVE_URL__",W_="__NATIVE_TEXT__",V_="__NATIVE_HTML__";function K_(e,t,i){var r=t.reduce((function(t,i){return t||e.getData(i)}),"");return null!=r?r:i}function q_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Y_=(q_(j_={},B_,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),q_(j_,V_,{exposeProperties:{html:function(e,t){return K_(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),q_(j_,z_,{exposeProperties:{urls:function(e,t){return K_(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),q_(j_,W_,{exposeProperties:{text:function(e,t){return K_(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),j_);function Z_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $_(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$_(this,"item",void 0),$_(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,i;return t=e,(i=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var i={};Object.keys(this.config.exposeProperties).forEach((function(r){i[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Z_(t.prototype,i),e}();function Q_(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Y_).filter((function(e){return Y_[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function J_(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var tH=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eH(this,"ownerDocument",null),eH(this,"globalContext",void 0),eH(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=i}var t,i;return t=e,(i=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&J_(t.prototype,i),e}();function iH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function rH(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?iH(Object(i),!0).forEach((function(t){nH(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iH(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function aH(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nH(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var oH=function(){function e(t,i,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nH(this,"options",void 0),nH(this,"actions",void 0),nH(this,"monitor",void 0),nH(this,"registry",void 0),nH(this,"enterLeaveCounter",void 0),nH(this,"sourcePreviewNodes",new Map),nH(this,"sourcePreviewNodeOptions",new Map),nH(this,"sourceNodes",new Map),nH(this,"sourceNodeOptions",new Map),nH(this,"dragStartSourceIds",null),nH(this,"dropTargetIds",[]),nH(this,"dragEnterTargetIds",[]),nH(this,"currentNativeSource",null),nH(this,"currentNativeHandle",null),nH(this,"currentDragSourceNode",null),nH(this,"altKeyPressed",!1),nH(this,"mouseMoveTimeoutTimer",null),nH(this,"asyncEndDragFrameId",null),nH(this,"dragOverTargetIds",null),nH(this,"lastClientOffset",null),nH(this,"hoverRafId",null),nH(this,"getSourceClientOffset",(function(e){var t=a.sourceNodes.get(e);return t&&U_(t)||null})),nH(this,"endDragNativeItem",(function(){a.isDraggingNativeItem()&&(a.actions.endDrag(),a.currentNativeHandle&&a.registry.removeSource(a.currentNativeHandle),a.currentNativeHandle=null,a.currentNativeSource=null)})),nH(this,"isNodeInDocument",(function(e){return Boolean(e&&a.document&&a.document.body&&a.document.body.contains(e))})),nH(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=a.currentDragSourceNode;null==e||a.isNodeInDocument(e)||a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),nH(this,"handleTopDragStartCapture",(function(){a.clearCurrentDragSourceNode(),a.dragStartSourceIds=[]})),nH(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=a.dragStartSourceIds;a.dragStartSourceIds=null;var i=G_(e);a.monitor.isDragging()&&a.actions.endDrag(),a.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:a.getSourceClientOffset,clientOffset:i});var r=e.dataTransfer,n=Q_(r);if(a.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var o=a.monitor.getSourceId(),l=a.sourceNodes.get(o),s=a.sourcePreviewNodes.get(o)||l;if(s){var d=a.getCurrentSourcePreviewNodeOptions(),c=function(e,t,i,r,a){var n,o,l,s="IMG"===(n=t).nodeName&&(O_()||!(null!==(o=document.documentElement)&&void 0!==o&&o.contains(n))),d=U_(s?e:t),c={x:i.x-d.x,y:i.y-d.y},u=e.offsetWidth,g=e.offsetHeight,m=r.anchorX,p=r.anchorY,h=function(e,t,i,r){var a=e?t.width:i,n=e?t.height:r;return F_()&&e&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}(s,t,u,g),f=h.dragPreviewWidth,b=h.dragPreviewHeight,v=a.offsetX,D=a.offsetY,y=0===D||D;return{x:0===v||v?v:new __([0,.5,1],[c.x,c.x/u*f,c.x+f-u]).interpolate(m),y:y?D:(l=new __([0,.5,1],[c.y,c.y/g*b,c.y+b-g]).interpolate(p),F_()&&s&&(l+=(window.devicePixelRatio-1)*b),l)}}(l,s,i,{anchorX:d.anchorX,anchorY:d.anchorY},{offsetX:d.offsetX,offsetY:d.offsetY});r.setDragImage(s,c.x,c.y)}}try{null==r||r.setData("application/json",{})}catch(e){}a.setCurrentDragSourceNode(e.target),a.getCurrentSourcePreviewNodeOptions().captureDraggingState?a.actions.publishDragSource():setTimeout((function(){return a.actions.publishDragSource()}),0)}else if(n)a.beginDragNativeItem(n);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),nH(this,"handleTopDragEndCapture",(function(){a.clearCurrentDragSourceNode()&&a.monitor.isDragging()&&a.actions.endDrag()})),nH(this,"handleTopDragEnterCapture",(function(e){if(a.dragEnterTargetIds=[],a.enterLeaveCounter.enter(e.target)&&!a.monitor.isDragging()){var t=e.dataTransfer,i=Q_(t);i&&a.beginDragNativeItem(i,t)}})),nH(this,"handleTopDragEnter",(function(e){var t=a.dragEnterTargetIds;a.dragEnterTargetIds=[],a.monitor.isDragging()&&(a.altKeyPressed=e.altKey,t.length>0&&a.actions.hover(t,{clientOffset:G_(e)}),t.some((function(e){return a.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())))})),nH(this,"handleTopDragOverCapture",(function(){a.dragOverTargetIds=[]})),nH(this,"handleTopDragOver",(function(e){var t=a.dragOverTargetIds;if(a.dragOverTargetIds=[],!a.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));a.altKeyPressed=e.altKey,a.lastClientOffset=G_(e),null===a.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(a.hoverRafId=requestAnimationFrame((function(){a.monitor.isDragging()&&a.actions.hover(t||[],{clientOffset:a.lastClientOffset}),a.hoverRafId=null}))),(t||[]).some((function(e){return a.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=a.getCurrentDropEffect())):a.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),nH(this,"handleTopDragLeaveCapture",(function(e){a.isDraggingNativeItem()&&e.preventDefault(),a.enterLeaveCounter.leave(e.target)&&a.isDraggingNativeItem()&&setTimeout((function(){return a.endDragNativeItem()}),0)})),nH(this,"handleTopDropCapture",(function(e){var t;a.dropTargetIds=[],a.isDraggingNativeItem()?(e.preventDefault(),null===(t=a.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Q_(e.dataTransfer)&&e.preventDefault(),a.enterLeaveCounter.reset()})),nH(this,"handleTopDrop",(function(e){var t=a.dropTargetIds;a.dropTargetIds=[],a.actions.hover(t,{clientOffset:G_(e)}),a.actions.drop({dropEffect:a.getCurrentDropEffect()}),a.isDraggingNativeItem()?a.endDragNativeItem():a.monitor.isDragging()&&a.actions.endDrag()})),nH(this,"handleSelectStart",(function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new tH(i,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new L_(this.isNodeInDocument)}var t,i;return t=e,(i=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,i){var r=this;return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,i){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);var a=function(t){return r.handleDragStart(t,e)},n=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",n),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",n),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var i=this,r=function(t){return i.handleDragEnter(t,e)},a=function(t){return i.handleDragOver(t,e)},n=function(t){return i.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",n),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",n)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return rH({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return rH({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var i=new X_(Y_[e]);return i.loadDataTransfer(t),i}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&aH(t.prototype,i),e}(),lH=function(e,t,i){return new oH(e,t,i)};const sH=()=>R.createElement("div",{className:"drag-info-placeholder-box s-drag-info-placeholder-box"},R.createElement(pb.Typography,{tagName:"h2"},R.createElement(PE.Z,{id:"newDashboard.title"}))),dH=pb.OverlayController.getInstance(5e3),cH=e=>{var t,i,r,a,o,l,s,d,c,u,g,m,p,h,f,b,v;const{backend:D,workspace:y,hasThemeProvider:E,dashboardOrRef:I,attributeFilterProvider:C,dateFilterProvider:S,widgetProvider:w,insightProvider:T,insightBodyProvider:A,insightMenuButtonProvider:P,dashboardContentProvider:k,insightMenuProvider:x,insightMenuTitleProvider:L,kpiProvider:O,insightWidgetComponentSet:F,kpiWidgetComponentSet:M,attributeFilterComponentSet:N}=(e=>{const{dashboard:t,DashboardAttributeFilterComponentProvider:i,DashboardDateFilterComponentProvider:r,WidgetComponentProvider:a,InsightComponentProvider:o,InsightBodyComponentProvider:l,InsightMenuButtonComponentProvider:s,insightMenuItemsProvider:d,InsightMenuComponentProvider:c,InsightMenuTitleComponentProvider:u,InsightComponentSetProvider:g,KpiComponentProvider:m,DashboardContentComponentProvider:p}=e,h=(0,$.useBackendStrict)(e.backend),f=(0,$.useWorkspaceStrict)(e.workspace),b=(0,R.useCallback)((e=>{const t=null==i?void 0:i(e);return null!=t?t:ex}),[i]),v=(0,R.useCallback)((e=>{const t=null==p?void 0:p(e);return null!=t?t:lM}),[p]),D=(0,R.useCallback)((e=>{const t=null==r?void 0:r(e);return null!=t?t:nx}),[r]),y=(0,R.useCallback)((e=>{const t=null==a?void 0:a(e);return null!=t?t:ET}),[a]),E=(0,R.useCallback)(((e,t)=>{const i=null==o?void 0:o(e,t);return null!=i?i:wL}),[o]),I=(0,R.useCallback)(((e,t)=>{const i=null==l?void 0:l(e,t);return null!=i?i:TL}),[l]),C=(0,R.useCallback)(((e,t)=>{const i=null==s?void 0:s(e,t);return null!=i?i:d?PL:xL}),[s]),S=(0,R.useCallback)(((e,t)=>{const i=null==c?void 0:c(e,t);return null!=i?i:d?eO:nO}),[c]),w=(0,R.useCallback)(((e,t)=>{const i=null==u?void 0:u(e,t);return null!=i?i:lO}),[u]),T=(0,R.useCallback)(((e,t)=>{const i=null==m?void 0:m(e,t);return null!=i?i:mF}),[m]),A=(0,R.useMemo)((()=>"string"==typeof t?(0,n.idRef)(t):t),[t]),P=(0,R.useMemo)((()=>{const e=vF(E);return g?g(e):e}),[g,E]),k=(0,R.useMemo)((()=>eM(T)),[T]),x=(0,R.useMemo)((()=>Cx(b)),[b]);return{backend:h,workspace:f,hasThemeProvider:void 0!==(0,kE.Ki)(),dashboardOrRef:A,attributeFilterProvider:b,dateFilterProvider:D,widgetProvider:y,insightProvider:E,insightBodyProvider:I,insightMenuButtonProvider:C,insightMenuProvider:S,insightMenuTitleProvider:w,kpiProvider:T,dashboardContentProvider:v,insightWidgetComponentSet:P,kpiWidgetComponentSet:k,attributeFilterComponentSet:x}})(e),_=R.createElement($.BackendProvider,{backend:D},R.createElement($.WorkspaceProvider,{workspace:y},R.createElement(pb.OverlayControllerProvider,{overlayController:dH},R.createElement(Xf,{backend:e.backend,workspace:e.workspace,dashboard:I,persistedDashboard:e.persistedDashboard,filterContextRef:e.filterContextRef,eventHandlers:e.eventHandlers,config:e.config,permissions:e.permissions,onStateChange:e.onStateChange,onEventingInitialized:e.onEventingInitialized,additionalReduxContext:e.additionalReduxContext,customizationFns:e.customizationFns,widgetsOverlayFn:e.widgetsOverlayFn},R.createElement(pb.ToastMessageContextProvider,null,R.createElement(iy,null,R.createElement(ny,{insightMenuItemsProvider:e.insightMenuItemsProvider},R.createElement(dy,{ErrorComponent:null!==(t=e.ErrorComponent)&&void 0!==t?t:$.ErrorComponent,LoadingComponent:null!==(i=e.LoadingComponent)&&void 0!==i?i:$.LoadingComponent,LayoutComponent:null!==(r=e.LayoutComponent)&&void 0!==r?r:MA,InsightComponentProvider:T,InsightBodyComponentProvider:A,InsightMenuButtonComponentProvider:P,InsightMenuTitleComponentProvider:L,InsightMenuComponentProvider:x,KpiComponentProvider:O,WidgetComponentProvider:w,ButtonBarComponent:null!==(a=e.ButtonBarComponent)&&void 0!==a?a:Wk,MenuButtonComponent:null!==(o=e.MenuButtonComponent)&&void 0!==o?o:qk,TopBarComponent:null!==(l=e.TopBarComponent)&&void 0!==l?l:lR,ToolbarComponent:null!==(s=e.ToolbarComponent)&&void 0!==s?s:mR,TitleComponent:null!==(d=e.TitleComponent)&&void 0!==d?d:gR,ScheduledEmailDialogComponent:null!==(c=e.ScheduledEmailDialogComponent)&&void 0!==c?c:mk,ScheduledEmailManagementDialogComponent:null!==(u=e.ScheduledEmailManagementDialogComponent)&&void 0!==u?u:Dk,ShareDialogComponent:null!==(g=e.ShareDialogComponent)&&void 0!==g?g:yk,SaveAsDialogComponent:null!==(m=e.SaveAsDialogComponent)&&void 0!==m?m:jA,DashboardAttributeFilterComponentProvider:C,DashboardDateFilterComponentProvider:S,FilterBarComponent:null!==(p=e.FilterBarComponent)&&void 0!==p?p:II,SidebarComponent:null!==(h=e.SidebarComponent)&&void 0!==h?h:BM,InsightWidgetComponentSet:F,KpiWidgetComponentSet:M,AttributeFilterComponentSet:N,EmptyLayoutDropZoneBodyComponent:null!==(f=e.EmptyLayoutDropZoneBodyComponent)&&void 0!==f?f:sH,SaveButtonComponent:null!==(b=e.SaveButtonComponent)&&void 0!==b?b:aR,DashboardContentComponentProvider:k},R.createElement(uy,{menuButtonConfig:e.menuButtonConfig},R.createElement(A_,{backend:lH},R.createElement(JE,null,R.createElement(lN,Object.assign({},e)))))))))))));return e.theme||!E&&!e.disableThemeLoading?R.createElement(JD.f,{theme:e.theme,modifier:null!==(v=e.themeModifier)&&void 0!==v?v:pR,backend:D,workspace:y,removeGlobalStylesOnUnmout:!e.disableThemeLoading},_):_},uH=e=>{var t;const i=(0,$.useClientWorkspaceStatus)(),r=(0,$.useClientWorkspaceIdentifiers)();if(!(0,$.useClientWorkspaceInitialized)())return R.createElement(cH,Object.assign({},e));const a=null!==(t=e.LoadingComponent)&&void 0!==t?t:$.LoadingComponent;return"success"!==i?R.createElement(a,null):R.createElement(cH,Object.assign({workspace:r.workspace},e))},gH=()=>null,mH=()=>null,pH=()=>null,hH=()=>null,fH=e=>{const{children:t}=e;return R.createElement("div",{className:"gd-dashboard-toolbar s-dashboard-toolbar"},t)},bH=e=>{const{children:t,title:i}=e;return R.createElement("div",{className:"gd-toolbar-group"},R.createElement("span",{className:"gd-toolbar-group-title"},i),t)},vH=[{align:"tc bc",offset:{x:0,y:-5}}],DH=e=>{const{tooltip:t,children:i}=e;return t?R.createElement(pb.BubbleHoverTrigger,{className:"gd-toolbar-button-wrapper"},i,R.createElement(pb.Bubble,{alignPoints:vH},t)):R.createElement("div",{className:"gd-toolbar-button-wrapper"},i)},yH=e=>{const{tooltip:t,disabled:i,icon:r,onClick:a,isActive:n}=e;return R.createElement(DH,{tooltip:t},R.createElement(pb.Button,{className:gy("gd-button-secondary",{[`gd-icon-${r}`]:r,"is-active":n}),disabled:i,onClick:a}))};function EH({widget:e,execution:t,onCancel:i,onError:r,onLoading:a,onPending:n,onSuccess:o}){var l;const s=fw(e),d=(0,$.useExecutionDataView)({execution:t?Object.assign(Object.assign({},t),{filters:s.result}):void 0,onCancel:i,onError:r,onLoading:a,onPending:n,onSuccess:o}),c=(0,R.useMemo)((()=>{if("rejected"===s.status)return new $.UnexpectedSdkError("The widget filter query was rejected")}),[s.status]);return(0,R.useEffect)((()=>{"rejected"===s.status&&c&&(null==r||r(c))}),[s.status,r,c]),(0,R.useEffect)((()=>{"error"===s.status&&(null==r||r(s.error))}),[s.error,s.status,r]),"pending"===s.status||"pending"===d.status?{error:void 0,result:void 0,status:"pending"}:"running"===s.status||"loading"===d.status?{error:void 0,result:void 0,status:"loading"}:"error"===s.status||"error"===d.status?{error:null!==(l=s.error)&&void 0!==l?l:d.error,result:void 0,status:"error"}:"rejected"===s.status?{error:c,result:void 0,status:"error"}:{error:void 0,result:d.result,status:"success"}}function IH({widget:e,insight:t,onCancel:i,onError:r,onLoading:a,onPending:o,onSuccess:l}){var s;const d=(0,$.useBackendStrict)(),c=(0,$.useWorkspaceStrict)(),u=(0,$.useCancelablePromise)({promise:t?async()=>(0,n.isInsight)(t)?t:d.workspace(c).insights().getInsight(t):null,onCancel:i,onPending:o,onError:r,onLoading:a},[d,c,t]),g=fw(u.result?e:void 0,u.result),m=(0,R.useMemo)((()=>u.result?(0,n.insightSetFilters)(u.result,g.result):void 0),[u.result,qr(g.result)]),p=(0,R.useMemo)((()=>m?d.workspace(c).execution().forInsight(m):void 0),[d,c,m,e]),h=(0,$.useExecutionDataView)({execution:p,onCancel:i,onError:r,onSuccess:l});return(0,R.useEffect)((()=>{"error"===g.status&&(null==r||r(g.error))}),[g.error,g.status,r]),"error"===u.status||"loading"===u.status||"pending"===u.status?{error:u.error,result:void 0,status:u.status}:"pending"===g.status||"pending"===h.status?{error:void 0,result:void 0,status:"pending"}:"running"===g.status||"loading"===h.status?{error:void 0,result:void 0,status:"loading"}:"error"===g.status||"error"===h.status?{error:null!==(s=h.error)&&void 0!==s?s:g.error,result:void 0,status:"error"}:{error:void 0,result:h.result,status:"success"}}function CH(e){const{insightWidget:t,onCancel:i,onError:r,onLoading:a,onPending:o,onSuccess:l}=e,s=(0,$.useBackendStrict)(),d=(0,$.useWorkspaceStrict)(),c=$f(Eu(null==t?void 0:t.insight)),u=fw(t),g=(0,R.useMemo)((()=>(0,n.insightSetFilters)(c,u.result)),[c,qr(u.result)]),m=(0,R.useMemo)((()=>g&&t?s.workspace(d).execution().forInsight(g):void 0),[s,d,g,t]);return(0,$.useExecutionDataView)({execution:m,onCancel:i,onError:r,onLoading:a,onPending:o,onSuccess:l})}const SH=e=>{const{insight:t,widget:i}=e,{InsightMenuButtonComponentProvider:r}=sy(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,Object.assign({},e))},wH=e=>{const{insight:t,widget:i}=e,{InsightMenuComponentProvider:r}=sy(),a=(0,R.useMemo)((()=>r(t,i)),[r,t,i]);return R.createElement(a,Object.assign({},e))};class TH{constructor(){this._pluginVersion="1.0",this.minEngineVersion="bundled",this.maxEngineVersion="bundled"}}const AH=()=>wL,PH=()=>TL;class kH{constructor(e,t,i){this.tagProviderIndexes={},this.coreProvider=(e,t)=>{const i=[...this.coreProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new p.ej},this.insightRendererProvider=(e,t)=>{const i=[...this.insightBodyProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new p.ej},this.rootProvider=this.coreProvider,this.logger=e,this.coreProviderChain=[t],this.insightBodyProviderChain=[i]}addTagProvider(e,t){const i=this.tagProviderIndexes[e];void 0!==i?(this.logger.warn(`Overriding insight component provider for tag '${e}'.`),this.coreProviderChain[i]=t):(this.tagProviderIndexes[e]=this.coreProviderChain.length,this.coreProviderChain.push(t))}addCustomProvider(e){this.coreProviderChain.push(e)}addInsightBodyProvider(e){this.insightBodyProviderChain.push(e)}getRootProvider(){return this.rootProvider}getInsightBodyComponentProvider(){return this.insightRendererProvider}switchRootProvider(e){this.rootProvider=e}}class RH{constructor(e,t){this.logger=e,this.state=t,this.addCustomProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")},this.addInsightBodyProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")},this.addTagProvider=e=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")},this.switchRootProvider=()=>{this.logger.warn("Attempting to customize insight rendering outside of plugin registration. Ignoring.")},this.getRootProvider=()=>this.state.getRootProvider(),this.getInsightBodyComponentProvider=()=>this.state.getInsightBodyComponentProvider()}}class xH{constructor(e,t,i=AH,r=PH){this.withTag=(e,t)=>e?(this.state.addTagProvider(e,(i=>{if(hr((0,n.insightTags)(i),e))return t})),this.mutationContext.insight=hb(this.mutationContext.insight,["tag"]),this):(this.logger.warn("The 'withTag' was called with an empty 'tag' parameter. This is effectively a noop."),this),this.withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.insight=hb(this.mutationContext.insight,["provider"]),this),this.withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider(((e,r)=>i(e,r)||t(e,r))),this.mutationContext.insight=hb(this.mutationContext.insight,["decorator"]),this},this.getInsightProvider=()=>this.state.getRootProvider(),this.getInsightBodyComponentProvider=()=>this.state.getInsightBodyComponentProvider(),this.sealCustomizer=()=>{this.state=new RH(this.logger,this.state)},this.logger=e,this.mutationContext=t,this.state=new kH(e,i,r)}withCustomInsightBodyProvider(e){return this.state.addInsightBodyProvider(e),this.mutationContext.insight=hb(this.mutationContext.insight,["body"]),this}}function LH(e){var t;return`${null!==(t=e.debugName)&&void 0!==t?t:e.displayName}/${e.version}`}function OH(e,t){return e?`${LH(e)}: ${t}`:t}class FH{constructor(){this.setCurrentPlugin=e=>{this.currentPlugin=e},this.log=(e,...t)=>{console.log(OH(this.currentPlugin,e),t)},this.warn=(e,...t)=>{console.warn(OH(this.currentPlugin,e),t)},this.error=(e,...t)=>{console.error(OH(this.currentPlugin,e),t)}}}const MH=()=>mF;class NH{constructor(e){this.coreProvider=(e,t)=>{const i=[...this.coreProviderChain].reverse();for(const r of i){const i=r(e,t);if(i)return i}throw new p.ej},this.rootProvider=this.coreProvider,this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class _H{constructor(e,t){this.logger=e,this.state=t,this.addCustomProvider=e=>{this.logger.warn("Attempting to customize KPI rendering outside of plugin registration. Ignoring.")},this.switchRootProvider=e=>{this.logger.warn("Attempting to customize KPI rendering outside of plugin registration. Ignoring.")},this.getRootProvider=()=>this.state.getRootProvider()}}class HH{constructor(e,t,i=MH){this.withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.kpi=hb(this.mutationContext.kpi,["provider"]),this),this.withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider(((e,r)=>i(e,r)||t(e,r))),this.mutationContext.kpi=hb(this.mutationContext.kpi,["decorator"]),this},this.getKpiProvider=()=>this.state.getRootProvider(),this.sealCustomizer=()=>{this.state=new _H(this.logger,this.state)},this.logger=e,this.mutationContext=t,this.state=new NH(i)}}class UH{constructor(e){this.logger=e,this.customWidgetMap=new Map,this.addDefinition=e=>{this.customWidgetMap.has(e.widgetType)&&this.logger.warn(`Redefining custom widget type ${e.widgetType}. Previous definition will be discarded.`),this.customWidgetMap.set(e.widgetType,e)},this.getCustomWidgetMap=()=>this.customWidgetMap}}class GH{constructor(e,t){this.state=e,this.logger=t,this.addDefinition=e=>{this.logger.warn("Attempting to add custom widgets outside of plugin registration. Ignoring.")},this.getCustomWidgetMap=()=>this.state.getCustomWidgetMap()}}class jH{constructor(e){this.logger=e,this.state=new UH(this.logger),this.addCustomWidget=(e,t)=>(this.state.addDefinition({widgetType:e,DefaultComponent:t}),this),this.sealCustomizer=()=>(this.state=new GH(this.state,this.logger),this),this.getWidgetComponentProvider=()=>{const e=this.state.getCustomWidgetMap();return t=>{if(!I(t))return;const i=e.get(t.customType);return i?i.DefaultComponent:void 0}}}}class BH{constructor(e,t){this.logger=e,this.mutationContext=t,this.addItemOps=[],this.addSectionOps=[],this.addItem=(e,t,i)=>i.widget?(this.addItemOps.push({sectionIdx:e,itemIdx:t,item:y(i)}),this):(this.logger.warn(`Item to add to section ${e} at index ${t} does not contain any widget. The item will not be added at all.`,i),this),this.addSection=(e,t)=>{if(h(t.items))return this.logger.warn(`Section to add at index ${e} contains no items. The section will not be added at all.`,t),this;const i=t.items.filter((e=>void 0===e.widget));return h(i)?(this.addSectionOps.push({sectionIdx:e,section:y(t)}),this):(this.logger.warn(`Section to add at index ${e} contains items that do not specify any widgets. The section will not be added at all.`,t),this)},this.applyTransformations=e=>{const t=Wn.for(e),i=t.facade(),{layouts:r}=this.mutationContext;return this.addItemOps.forEach((e=>{const{sectionIdx:a,itemIdx:o,item:l}=e,s=-1===a?i.sections().count():a;t.modifySection(s,(e=>(e.addItem(l,-1===o?void 0:o),l.widget&&(r[(0,n.objRefToString)(l.widget)]="inserted"),e)))})),this.addSectionOps.forEach((e=>{const{sectionIdx:i,section:a}=e;t.addSection(a,-1===i?void 0:i),a.items.forEach((e=>{e.widget&&(r[(0,n.objRefToString)(e.widget)]="inserted")}))})),t.build()}}}class zH{constructor(e,t){this.logger=e,this.mutationContext=t,this.sealed=!1,this.fluidLayoutTransformations=[],this.customizeFluidLayout=e=>(this.sealed?this.logger.warn("Attempting to add layout customization outside of plugin registration. Ignoring."):this.fluidLayoutTransformations.push(e),this),this.sealCustomizer=()=>(this.sealed=!0,this),this.getExistingDashboardTransformFn=()=>{const e=[...this.fluidLayoutTransformations];return t=>{const{layout:i}=t;if(!i||"IDashboardLayout"!==i.type)return;const r=e.reduce(((e,t)=>{const i=new BH(this.logger,this.mutationContext);try{return t(e,i),i.applyTransformations(e)}catch(t){return this.logger.error("An error has occurred while transforming fluid dashboard layout. Skipping failed transformation.",t),e}}),i);return Object.assign(Object.assign({},t),{layout:r})}}}}class WH{constructor(e){this.logger=e,this.renderingMode=void 0,this.getRenderingMode=()=>{var e;return null!==(e=this.renderingMode)&&void 0!==e?e:"default"},this.setRenderingMode=e=>{this.renderingMode&&this.logger.warn(`Redefining filter bar rendering mode to "${e}". Previous definition will be discarded.`),this.renderingMode=e}}}class VH{constructor(e,t){this.state=e,this.logger=t,this.getRenderingMode=()=>this.state.getRenderingMode(),this.setRenderingMode=e=>{this.logger.warn("Attempting to set filter bar rendering mode outside of plugin registration. Ignoring.")}}}class KH{constructor(e){this.logger=e,this.state=new WH(this.logger),this.setRenderingMode=e=>(this.state.setRenderingMode(e),this),this.getCustomizerResult=()=>({FilterBarComponent:"hidden"===this.state.getRenderingMode()?mI:void 0}),this.sealCustomizer=()=>(this.state=new VH(this.state,this.logger),this)}}const qH=()=>ex;class YH{constructor(e){this.coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new p.ej},this.rootProvider=this.coreProvider,this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class ZH{constructor(e,t){this.logger=e,this.state=t,this.addCustomProvider=e=>{this.logger.warn("Attempting to customize AttributeFilter rendering outside of plugin registration. Ignoring.")},this.switchRootProvider=e=>{this.logger.warn("Attempting to customize AttributeFilter rendering outside of plugin registration. Ignoring.")},this.getRootProvider=()=>this.state.getRootProvider()}}class $H{constructor(e,t,i=qH){this.withCustomProvider=e=>(this.state.addCustomProvider(e),this.mutationContext.attributeFilter=hb(this.mutationContext.attributeFilter,["provider"]),this),this.withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider((e=>i(e)||t(e))),this.mutationContext.attributeFilter=hb(this.mutationContext.attributeFilter,["decorator"]),this},this.getAttributeFilterProvider=()=>this.state.getRootProvider(),this.sealCustomizer=()=>{this.state=new ZH(this.logger,this.state)},this.logger=e,this.mutationContext=t,this.state=new YH(i)}}const XH=()=>nx;class QH{constructor(e){this.coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new p.ej},this.rootProvider=this.coreProvider,this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class JH{constructor(e,t){this.logger=e,this.state=t,this.addCustomProvider=e=>{this.logger.warn("Attempting to customize DateFilter rendering outside of plugin registration. Ignoring.")},this.switchRootProvider=e=>{this.logger.warn("Attempting to customize DateFilter rendering outside of plugin registration. Ignoring.")},this.getRootProvider=()=>this.state.getRootProvider()}}class eU{constructor(e,t=XH){this.withCustomProvider=e=>(this.state.addCustomProvider(e),this),this.getDateFilterProvider=()=>this.state.getRootProvider(),this.sealCustomizer=()=>{this.state=new JH(this.logger,this.state)},this.logger=e,this.state=new QH(t)}}class tU{constructor(e,t){this.logger=e,this.mutationContext=t,this.attributeFiltersCustomizer=new $H(this.logger,this.mutationContext),this.dateFiltersCustomizer=new eU(this.logger),this.sealCustomizer=()=>(this.attributeFiltersCustomizer.sealCustomizer(),this.dateFiltersCustomizer.sealCustomizer(),this)}attribute(){return this.attributeFiltersCustomizer}date(){return this.dateFiltersCustomizer}}const iU=()=>lM;class rU{constructor(e){this.coreProvider=e=>{const t=[...this.coreProviderChain].reverse();for(const i of t){const t=i(e);if(t)return t}throw new p.ej},this.rootProvider=this.coreProvider,this.coreProviderChain=[e]}addCustomProvider(e){this.coreProviderChain.push(e)}getRootProvider(){return this.rootProvider}switchRootProvider(e){this.rootProvider=e}}class aU{constructor(e,t){this.logger=e,this.state=t,this.addCustomProvider=()=>{this.logger.warn("Attempting to customize dashboard content rendering outside of plugin registration. Ignoring.")},this.switchRootProvider=()=>{this.logger.warn("Attempting to customize dashboard content rendering outside of plugin registration. Ignoring.")},this.getRootProvider=()=>this.state.getRootProvider()}}class nU{constructor(e,t,i=iU){this.withCustomDecorator=e=>{const t=this.state.getRootProvider(),i=e(t);return this.state.switchRootProvider((e=>i(e)||t(e))),this.mutationContext.dashboardContent=hb(this.mutationContext.dashboardContent,["decorator"]),this},this.getDashboardContentProvider=()=>this.state.getRootProvider(),this.sealCustomizer=()=>{this.state=new aU(this.logger,this.state)},this.logger=e,this.mutationContext=t,this.state=new rU(i)}}class oU{constructor(){this.mutations={insight:[],kpi:[],attributeFilter:[],dashboardContent:[],layouts:{}},this.logger=new FH,this.insightCustomizer=new xH(this.logger,this.mutations),this.kpiCustomizer=new HH(this.logger,this.mutations),this.widgetCustomizer=new jH(this.logger),this.layoutCustomizer=new zH(this.logger,this.mutations),this.filterBarCustomizer=new KH(this.logger),this.filtersCustomizer=new tU(this.logger,this.mutations),this.dashboardContentCustomizer=new nU(this.logger,this.mutations),this.widgetOverlays={},this.sealCustomizers=()=>{this.insightCustomizer.sealCustomizer(),this.kpiCustomizer.sealCustomizer(),this.widgetCustomizer.sealCustomizer(),this.filtersCustomizer.sealCustomizer(),this.layoutCustomizer.sealCustomizer(),this.dashboardContentCustomizer.sealCustomizer()},this.setWidgetOverlays=e=>{this.widgetOverlays=e||{}},this.insightWidgets=()=>this.insightCustomizer,this.kpiWidgets=()=>this.kpiCustomizer,this.customWidgets=()=>this.widgetCustomizer,this.dashboard=()=>this.dashboardContentCustomizer,this.layout=()=>this.layoutCustomizer,this.filterBar=()=>this.filterBarCustomizer,this.filters=()=>this.filtersCustomizer,this.onBeforePluginRegister=e=>{this.logger.setCurrentPlugin(e),this.logger.log("Starting registration.")},this.onAfterPluginRegister=()=>{this.logger.log("Registration finished."),this.logger.setCurrentPlugin(void 0)},this.onPluginRegisterError=e=>{this.logger.error("Plugin register() method threw and exception. Plugin may be partially registered.",e),this.logger.setCurrentPlugin(void 0)},this.build=()=>{const e=this.filterBarCustomizer.getCustomizerResult(),t=Object.assign({InsightComponentProvider:this.insightCustomizer.getInsightProvider(),InsightBodyComponentProvider:this.insightCustomizer.getInsightBodyComponentProvider(),KpiComponentProvider:this.kpiCustomizer.getKpiProvider(),DashboardContentComponentProvider:this.dashboardContentCustomizer.getDashboardContentProvider(),WidgetComponentProvider:this.widgetCustomizer.getWidgetComponentProvider(),DashboardAttributeFilterComponentProvider:this.filtersCustomizer.attribute().getAttributeFilterProvider(),DashboardDateFilterComponentProvider:this.filtersCustomizer.date().getDateFilterProvider(),customizationFns:{existingDashboardTransformFn:this.layoutCustomizer.getExistingDashboardTransformFn()},widgetsOverlayFn:this.getWidgetsOverlayFn()},e.FilterBarComponent?{FilterBarComponent:e.FilterBarComponent}:{});return this.sealCustomizers(),t}}getWidgetsOverlayFn(){return e=>{const t=Object.assign({},this.widgetOverlays),{insight:i,kpi:r,layouts:a}=this.mutations,{layout:o}=e;return(0,ur.walkLayout)(o,{itemCallback:e=>{((0,n.isInsightWidget)(e.widget)||(0,n.isInsightWidgetDefinition)(e.widget))&&(0,n.isObjRef)(e.widget)&&i.length>0&&lU(t,(0,n.objRefToString)(e.widget),!0,"modifiedByPlugin"),((0,n.isKpiWidget)(e.widget)||(0,n.isKpiWidgetDefinition)(e.widget))&&(0,n.isObjRef)(e.widget)&&r.length>0&&lU(t,(0,n.objRefToString)(e.widget),!0,"modifiedByPlugin")}}),Object.keys(a).forEach((e=>{"inserted"===a[e]&&lU(t,e,!0,"insertedByPlugin")})),t}}}function lU(e,t,i,r){const a=e[t],n={showOverlay:i,modification:r};e[t]=Object.assign(Object.assign({},n),a||{})}var sU=i(30998);const dU=e=>t=>t===e||t.handler===e.handler&&t.eval===e.eval;class cU{constructor(){this.handlers=[],this.initialHandlersSent=!1,this.pendingRegistration=[],this.pendingUnregistration=[],this.stateChangesChain=[],this.evalCache=new Map,this.rootStateChangesCallback=(e,t)=>{this.stateChangesChain.forEach((i=>{try{i(e,t)}catch(e){console.warn(`OnStateChange callback ${i} threw an exception.`,e)}}))},this.onEventingInitialized=(e,t)=>{this.registerHandler=e,this.unregisterHandler=t,this.pendingRegistration.forEach(this.registerHandler),this.pendingUnregistration.forEach(this.unregisterHandler),this.pendingRegistration=[],this.pendingUnregistration=[]},this.getOrCreateEvalFn=e=>{const t=this.evalCache.get(e);if(void 0!==t)return t;const i=function(e){return"*"===e?()=>!0:t=>t.type===e}(e);return this.evalCache.set(e,i),i},this.addEventHandler=(e,t)=>{const i={eval:this.getOrCreateEvalFn(e),handler:t};return this.addCustomEventHandler(i)},this.removeEventHandler=(e,t)=>{const i={eval:this.getOrCreateEvalFn(e),handler:t};return this.removeCustomEventHandler(i)},this.doRegister=e=>{if(this.initialHandlersSent)if(void 0===this.registerHandler){this.pendingRegistration.push(e);const t=sU(this.pendingUnregistration,dU(e));t>-1&&this.pendingUnregistration.splice(t,1)}else this.registerHandler(e)},this.addCustomEventHandler=e=>sU(this.handlers,dU(e))>-1?(console.warn(`Attempting double-registration of the same handler ${e}. Ignoring.`),this):(this.handlers.push(e),this.doRegister(e),this),this.doUnregister=e=>{if(this.initialHandlersSent)if(void 0===this.unregisterHandler){const t=sU(this.pendingRegistration,dU(e));t>-1?this.pendingRegistration.splice(t,1):this.pendingUnregistration.push(e)}else this.unregisterHandler(e)},this.removeCustomEventHandler=e=>{const t=sU(this.handlers,dU(e));if(-1===t)return console.warn(`Attempting remove non-existing handler ${e}. Ignoring.`),this;const i=this.handlers[t];return this.handlers.splice(t,1),this.doUnregister(i),this},this.subscribeToStateChanges=e=>sU(this.stateChangesChain,(t=>t===e))>-1?(console.warn(`Attempting double-subscription of the same state change callback ${e}. Ignoring.`),this):(this.stateChangesChain.push(e),this),this.unsubscribeFromStateChanges=e=>{const t=sU(this.stateChangesChain,(t=>t===e));return-1===t||this.stateChangesChain.splice(t,1),this}}getDashboardEventing(){return this.initialHandlersSent=!0,{eventHandlers:[...this.handlers],onStateChange:this.rootStateChangesCallback,onEventingInitialized:this.onEventingInitialized}}}const uU="9.5.0";function gU(){return{version:uU,initializePlugins(e,t){var i;const r=new oU,a=new cU;console.log(`DashboardEngine ${this.version} initializing with plugins: ${t.map(LH).join(", ")}`),r.setWidgetOverlays(null===(i=e.config)||void 0===i?void 0:i.widgetsOverlay);for(const i of t){r.onBeforePluginRegister(i);try{i.register(e,r,a),r.onAfterPluginRegister()}catch(e){r.onPluginRegisterError(e)}}const n=r.build(),o=a.getDashboardEventing();return Object.assign(Object.assign({},n),o)},getDashboardComponent:()=>uH}}function mU(e,t=xn){const i=(0,n.insightRef)(e),r=(0,n.insightTitle)(e);return t(new pU(i,r)).build()}class pU{constructor(e,t){this.widget={insight:(0,n.uriRef)(""),type:"insight",ignoreDashboardFilters:[],drills:[],title:"",description:""},this.widget.insight=e,this.widget.title=t}withIgnoreDashboardFilters(e){return this.widget.ignoreDashboardFilters=e,this}withDrills(e){return this.widget.drills=e,this}withTitle(e){return this.widget.title=e,this}withDescription(e){return this.widget.description=e,this}withConfiguration(e){return this.widget.configuration=e,this}withProperties(e){return this.widget.properties=e,this}build(){return Object.assign({},this.widget)}}}}]);